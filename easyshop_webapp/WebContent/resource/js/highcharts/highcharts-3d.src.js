(function(c){var m=Math.PI,j=(m/180),e=Math.sin,k=Math.cos,l=Math.round;function b(F,s,u,C){u*=j;s*=j;var G=[],E,t,o;u*=-1;E=C.x;t=C.y;o=(C.z===0?0.0001:C.z)*(C.vd||25);o=Math.max(500,o);var D=e(u),r=k(u),B=e(s),q=k(s);var A,w,v,n;c.each(F,function(p){A=p.x-E;w=p.y-t;v=p.z||0;n={x:r*A-D*v,y:-D*B*A-r*B*v+q*w,z:D*q*A+r*q*v+B*w};n.x=n.x*((o-n.z)/o)+E;n.y=n.y*((o-n.z)/o)+t;G.push({x:l(n.x),y:l(n.y),z:l(n.z)})});return G}var a=(4*(Math.sqrt(2)-1)/3)/(m/2);function h(s,q,p,n,o,r,w,u){var v=[];if((r>o)&&(r-o>m/2+0.0001)){v=v.concat(h(s,q,p,n,o,o+(m/2),w,u));v=v.concat(h(s,q,p,n,o+(m/2),r,w,u));return v}else{if((r<o)&&(o-r>m/2+0.0001)){v=v.concat(h(s,q,p,n,o,o-(m/2),w,u));v=v.concat(h(s,q,p,n,o-(m/2),r,w,u));return v}else{var t=r-o;return["C",s+(p*k(o))-((p*a*t)*e(o))+w,q+(n*e(o))+((n*a*t)*k(o))+u,s+(p*k(r))+((p*a*t)*e(r))+w,q+(n*e(r))-((n*a*t)*k(r))+u,s+(p*k(r))+w,q+(n*e(r))+u]}}}c.SVGRenderer.prototype.toLinePath=function(p,o){var n=[];c.each(p,function(q){n.push("L",q.x,q.y)});n[0]="M";if(o){n.push("Z")}return n};c.SVGRenderer.prototype.cuboid=function(o){var n=this.g(),p=this.cuboidPath(o);n.front=this.path(p[0]).attr({zIndex:p[3],"stroke-linejoin":"round"}).add(n);n.top=this.path(p[1]).attr({zIndex:p[4],"stroke-linejoin":"round"}).add(n);n.side=this.path(p[2]).attr({zIndex:p[5],"stroke-linejoin":"round"}).add(n);n.fillSetter=function(q){var t=q,s=c.Color(q).brighten(0.1).get(),r=c.Color(q).brighten(-0.1).get();this.front.attr({fill:t});this.top.attr({fill:s});this.side.attr({fill:r});this.color=q;return this};n.opacitySetter=function(q){this.front.attr({opacity:q});this.top.attr({opacity:q});this.side.attr({opacity:q});return this};n.attr=function(q){if(q.shapeArgs||q.x){var r=q.shapeArgs||q;var s=this.renderer.cuboidPath(r);this.front.attr({d:s[0],zIndex:s[3]});this.top.attr({d:s[1],zIndex:s[4]});this.side.attr({d:s[2],zIndex:s[5]})}else{c.SVGElement.prototype.attr.call(this,q)}return this};n.animate=function(r,s,q){if(r.x&&r.y){var t=this.renderer.cuboidPath(r);this.front.attr({zIndex:t[3]}).animate({d:t[0]},s,q);this.top.attr({zIndex:t[4]}).animate({d:t[1]},s,q);this.side.attr({zIndex:t[5]}).animate({d:t[2]},s,q)}else{if(r.opacity){this.front.animate(r,s,q);this.top.animate(r,s,q);this.side.animate(r,s,q)}else{c.SVGElement.prototype.animate.call(this,r,s,q)}}return this};n.destroy=function(){this.front.destroy();this.top.destroy();this.side.destroy();return null};n.attr({zIndex:-p[3]});return n};c.SVGRenderer.prototype.cuboidPath=function(K){var B=K.x,v=K.y,u=K.z,G=K.height,D=K.width,H=K.depth,s=K.alpha,J=K.beta,L=K.origin;var n=[{x:B,y:v,z:u},{x:B+D,y:v,z:u},{x:B+D,y:v+G,z:u},{x:B,y:v+G,z:u},{x:B,y:v+G,z:u+H},{x:B+D,y:v+G,z:u+H},{x:B+D,y:v,z:u+H},{x:B,y:v,z:u+H}];n=b(n,s,J,L);var q,p,o;q=["M",n[0].x,n[0].y,"L",n[1].x,n[1].y,"L",n[2].x,n[2].y,"L",n[3].x,n[3].y,"Z"];var E=(n[0].z+n[1].z+n[2].z+n[3].z)/4;var F=["M",n[0].x,n[0].y,"L",n[7].x,n[7].y,"L",n[6].x,n[6].y,"L",n[1].x,n[1].y,"Z"];var t=["M",n[3].x,n[3].y,"L",n[2].x,n[2].y,"L",n[5].x,n[5].y,"L",n[4].x,n[4].y,"Z"];if(n[7].y<n[1].y){p=F}else{if(n[4].y>n[2].y){p=t}else{p=[]}}var C=(J>0?(n[0].z+n[7].z+n[6].z+n[1].z)/4:(n[3].z+n[2].z+n[5].z+n[4].z)/4);var I=["M",n[1].x,n[1].y,"L",n[2].x,n[2].y,"L",n[5].x,n[5].y,"L",n[6].x,n[6].y,"Z"];var r=["M",n[0].x,n[0].y,"L",n[7].x,n[7].y,"L",n[4].x,n[4].y,"L",n[3].x,n[3].y,"Z"];if(n[6].x>n[1].x){o=I}else{if(n[7].x<n[0].x){o=r}else{o=[]}}var A=(s>0?(n[1].z+n[2].z+n[5].z+n[6].z)/4:(n[0].z+n[7].z+n[4].z+n[3].z)/4);return[q,p,o,E,C,A]};c.SVGRenderer.prototype.arc3d=function(o){o.alpha*=j;o.beta*=j;var n=this.g(),q=this.arc3dPath(o),p=n.renderer;var r=q.zTop*100;n.shapeArgs=o;n.top=p.path(q.top).attr({zIndex:q.zTop}).add(n);n.side1=p.path(q.side2).attr({zIndex:q.zSide2});n.side2=p.path(q.side1).attr({zIndex:q.zSide1});n.inn=p.path(q.inn).attr({zIndex:q.zInn});n.out=p.path(q.out).attr({zIndex:q.zOut});n.fillSetter=function(s){this.color=s;var u=s,t=c.Color(s).brighten(-0.1).get();this.side1.attr({fill:t});this.side2.attr({fill:t});this.inn.attr({fill:t});this.out.attr({fill:t});this.top.attr({fill:u});return this};n.translateXSetter=function(s){this.out.attr({translateX:s});this.inn.attr({translateX:s});this.side1.attr({translateX:s});this.side2.attr({translateX:s});this.top.attr({translateX:s})};n.translateYSetter=function(s){this.out.attr({translateY:s});this.inn.attr({translateY:s});this.side1.attr({translateY:s});this.side2.attr({translateY:s});this.top.attr({translateY:s})};n.animate=function(t,u,s){if(t.end||t.start){this._shapeArgs=this.shapeArgs;c.SVGElement.prototype.animate.call(this,{_args:t},{duration:u,step:function(){var x=arguments,y=x[1],v=y.elem,C=v._shapeArgs,w=y.end,B=y.pos,A=c.merge(C,{start:C.start+((w.start-C.start)*B),end:C.end+((w.end-C.end)*B)});var z=v.renderer.arc3dPath(A);v.shapeArgs=A;v.top.attr({d:z.top,zIndex:z.zTop});v.inn.attr({d:z.inn,zIndex:z.zInn});v.out.attr({d:z.out,zIndex:z.zOut});v.side1.attr({d:z.side1,zIndex:z.zSide1});v.side2.attr({d:z.side2,zIndex:z.zSide2})}},s)}else{c.SVGElement.prototype.animate.call(this,t,u,s)}return this};n.destroy=function(){this.top.destroy();this.out.destroy();this.inn.destroy();this.side1.destroy();this.side2.destroy();c.SVGElement.prototype.destroy.call(this)};n.hide=function(){this.top.hide();this.out.hide();this.inn.hide();this.side1.hide();this.side2.hide()};n.show=function(){this.top.show();this.out.show();this.inn.show();this.side1.show();this.side2.show()};n.zIndex=r;n.attr({zIndex:r});return n};c.SVGRenderer.prototype.arc3dPath=function(N){var o=N.x,n=N.y,u=N.start,q=N.end-0.00001,G=N.r,A=N.innerR,L=N.depth,t=N.alpha,M=N.beta;var x=k(u),I=e(u),E=k(q),T=e(q),y=G*k(M),v=G*k(t),B=A*k(M),z=A*k(t),D=L*e(M),C=L*e(t);var F=["M",o+(y*x),n+(v*I)];F=F.concat(h(o,n,y,v,u,q,0,0));F=F.concat(["L",o+(B*E),n+(z*T)]);F=F.concat(h(o,n,B,z,q,u,0,0));F=F.concat(["Z"]);var O=(M>0?m/2:0),Q=(t>0?0:m/2);var H=u>-O?u:(q>-O?-O:u),K=q<m-Q?q:(u<m-Q?m-Q:q);var J=["M",o+(y*k(H)),n+(v*e(H))];J=J.concat(h(o,n,y,v,H,K,0,0));J=J.concat(["L",o+(y*k(K))+D,n+(v*e(K))+C]);J=J.concat(h(o,n,y,v,K,H,D,C));J=J.concat(["Z"]);var p=["M",o+(B*x),n+(z*I)];p=p.concat(h(o,n,B,z,u,q,0,0));p=p.concat(["L",o+(B*k(q))+D,n+(z*e(q))+C]);p=p.concat(h(o,n,B,z,q,u,D,C));p=p.concat(["Z"]);var w=["M",o+(y*x),n+(v*I),"L",o+(y*x)+D,n+(v*I)+C,"L",o+(B*x)+D,n+(z*I)+C,"L",o+(B*x),n+(z*I),"Z"];var s=["M",o+(y*E),n+(v*T),"L",o+(y*E)+D,n+(v*T)+C,"L",o+(B*E)+D,n+(z*T)+C,"L",o+(B*E),n+(z*T),"Z"];var S=e((u+q)/2),R=e(u),P=e(q);return{top:F,zTop:G,out:J,zOut:Math.max(S,R,P)*G,inn:p,zInn:Math.max(S,R,P)*G,side1:w,zSide1:R*(G*0.99),side2:s,zSide2:P*(G*0.99)}};c.Chart.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled};c.wrap(c.Chart.prototype,"isInsidePlot",function(n){if(this.is3d()){return true}else{return n.apply(this,[].slice.call(arguments,1))}});var g=c.getOptions();g.chart.options3d={enabled:false,alpha:0,beta:0,depth:100,viewDistance:25,frame:{bottom:{size:1,color:"rgba(255,255,255,0)"},side:{size:1,color:"rgba(255,255,255,0)"},back:{size:1,color:"rgba(255,255,255,0)"}}};g.plotOptions.pie.borderColor=undefined;c.wrap(c.Chart.prototype,"setChartSize",function(r){r.apply(this,[].slice.call(arguments,1));if(this.is3d()){var p=this.inverted,t=this.clipBox,s=this.margin,n=p?"y":"x",u=p?"x":"y",o=p?"height":"width",q=p?"width":"height";t[n]=-(s[3]||0);t[u]=-(s[0]||0);t[o]=this.chartWidth+(s[3]||0)+(s[1]||0);t[q]=this.chartHeight+(s[0]||0)+(s[2]||0)}});c.wrap(c.Chart.prototype,"redraw",function(n){if(this.is3d()){this.isDirtyBox=true}n.apply(this,[].slice.call(arguments,1))});c.Chart.prototype.retrieveStacks=function(q,o){var p={},n=1;if(q||!o){return this.series}c.each(this.series,function(r){if(!p[r.options.stack||0]){p[r.options.stack||0]={series:[r],position:n};n++}else{p[r.options.stack||0].series.push(r)}});p.totalStacks=n+1;return p};c.wrap(c.Axis.prototype,"init",function(o){var n=arguments;if(n[1].is3d()){n[2].tickWidth=c.pick(n[2].tickWidth,0);n[2].gridLineWidth=c.pick(n[2].gridLineWidth,1)}o.apply(this,[].slice.call(arguments,1))});c.wrap(c.Axis.prototype,"render",function(o){o.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()){return}var u=this.chart,A=u.renderer,r=u.options.chart.options3d,q=r.alpha,C=r.beta*(u.yAxis[0].opposite?-1:1),s=r.frame,B=s.bottom,x=s.back,n=s.side,F=r.depth,v=this.height,z=this.width,p=this.left,t=this.top;var E={x:u.plotLeft+(u.plotWidth/2),y:u.plotTop+(u.plotHeight/2),z:F,vd:r.viewDistance};if(this.horiz){if(this.axisLine){this.axisLine.hide()}var w={x:p,y:t+(u.yAxis[0].reversed?-B.size:v),z:0,width:z,height:B.size,depth:F,alpha:q,beta:C,origin:E};if(!this.bottomFrame){this.bottomFrame=A.cuboid(w).attr({fill:B.color,zIndex:(u.yAxis[0].reversed&&q>0?4:-1)}).css({stroke:B.color}).add()}else{this.bottomFrame.animate(w)}}else{var y={x:p,y:t,z:F+1,width:z,height:v+B.size,depth:x.size,alpha:q,beta:C,origin:E};if(!this.backFrame){this.backFrame=A.cuboid(y).attr({fill:x.color,zIndex:-3}).css({stroke:x.color}).add()}else{this.backFrame.animate(y)}if(this.axisLine){this.axisLine.hide()}var D={x:(u.yAxis[0].opposite?z:0)+p-n.size,y:t,z:0,width:n.size,height:v+B.size,depth:F+x.size,alpha:q,beta:C,origin:E};if(!this.sideFrame){this.sideFrame=A.cuboid(D).attr({fill:n.color,zIndex:-2}).css({stroke:n.color}).add()}else{this.sideFrame.animate(D)}}});c.wrap(c.Axis.prototype,"getPlotLinePath",function(q){var t=q.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()){return t}if(t===null){return t}var p=this.chart,o=p.options.chart.options3d;var u=o.depth;o.origin={x:p.plotLeft+(p.plotWidth/2),y:p.plotTop+(p.plotHeight/2),z:u,vd:o.viewDistance};var n=[{x:t[1],y:t[2],z:(this.horiz||this.opposite?u:0)},{x:t[1],y:t[2],z:u},{x:t[4],y:t[5],z:u},{x:t[4],y:t[5],z:(this.horiz||this.opposite?0:u)}];var s=p.options.inverted?o.beta:o.alpha,r=p.options.inverted?o.alpha:o.beta;r*=(p.yAxis[0].opposite?-1:1);n=b(n,s,r,o.origin);t=this.chart.renderer.toLinePath(n,false);return t});c.wrap(c.Axis.prototype,"getPlotBandPath",function(o){if(!this.chart.is3d()){return o.apply(this,[].slice.call(arguments,1))}else{var n=arguments,s=n[1],r=n[2];var p=this.getPlotLinePath(r),q=this.getPlotLinePath(s);if(q&&p){q.push(p[7],p[8],p[4],p[5],p[1],p[2])}else{q=null}return q}});c.wrap(c.Tick.prototype,"getMarkPath",function(r){var u=r.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d()){return u}var q=this.axis.chart,p=q.options.chart.options3d;var o={x:q.plotLeft+(q.plotWidth/2),y:q.plotTop+(q.plotHeight/2),z:p.depth,vd:p.viewDistance};var n=[{x:u[1],y:u[2],z:0},{x:u[4],y:u[5],z:0}];var t=q.inverted?p.beta:p.alpha,s=q.inverted?p.alpha:p.beta;s*=(q.yAxis[0].opposite?-1:1);n=b(n,t,s,o);u=["M",n[0].x,n[0].y,"L",n[1].x,n[1].y];return u});c.wrap(c.Tick.prototype,"getLabelPosition",function(q){var t=q.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d()){return t}var p=this.axis.chart,o=p.options.chart.options3d;var n={x:p.plotLeft+(p.plotWidth/2),y:p.plotTop+(p.plotHeight/2),z:o.depth,vd:o.viewDistance};var s=p.inverted?o.beta:o.alpha,r=p.inverted?o.alpha:o.beta;r*=(p.yAxis[0].opposite?-1:1);t=b([{x:t.x,y:t.y,z:0}],s,r,n)[0];return t});c.wrap(c.Axis.prototype,"drawCrosshair",function(o){var n=arguments;if(this.chart.is3d()){if(n[2]){n[2]={plotX:n[2].plotXold||n[2].plotX,plotY:n[2].plotYold||n[2].plotY}}}o.apply(this,[].slice.call(n,1))});c.wrap(c.seriesTypes.column.prototype,"translate",function(s){s.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()){return}var q=this,t=q.chart,y=t.options,n=q.options,r=y.chart.options3d,p=n.depth||25,x={x:t.plotWidth/2,y:t.plotHeight/2,z:r.depth,vd:r.viewDistance},o=r.alpha,w=r.beta*(t.yAxis[0].opposite?-1:1);var v=n.stacking?(n.stack||0):q._i;var u=v*(p+(n.groupZPadding||1));if(n.grouping!==false){u=0}u+=(n.groupZPadding||1);c.each(q.data,function(z){var A=z.shapeArgs,B=z.tooltipPos;z.shapeType="cuboid";A.alpha=o;A.beta=w;A.z=u;A.origin=x;A.depth=p;B=b([{x:B[0],y:B[1],z:u}],o,w,x)[0];z.tooltipPos=[B.x,B.y]})});c.wrap(c.seriesTypes.column.prototype,"animate",function(q){if(!this.chart.is3d()){q.apply(this,[].slice.call(arguments,1))}else{var o=arguments,s=o[1],n=this.yAxis,p=this,r=this.yAxis.reversed;if(c.svg){if(s){c.each(p.data,function(t){t.height=t.shapeArgs.height;t.shapey=t.shapeArgs.y;t.shapeArgs.height=1;if(!r){if(t.stackY){t.shapeArgs.y=t.plotY+n.translate(t.stackY)}else{t.shapeArgs.y=t.plotY+(t.negative?-t.height:t.height)}}})}else{c.each(p.data,function(t){t.shapeArgs.height=t.height;t.shapeArgs.y=t.shapey;if(t.graphic){t.graphic.animate(t.shapeArgs,p.options.animation)}});this.drawDataLabels();p.animate=null}}}});c.wrap(c.seriesTypes.column.prototype,"init",function(t){t.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var o=this.options,s=o.grouping,q=o.stacking,u=0;if(!(s!==undefined&&!s)&&q){var r=this.chart.retrieveStacks(s,q),n=o.stack||0,p;for(p=0;p<r[n].series.length;p++){if(r[n].series[p]===this){break}}u=(r.totalStacks*10)-(10*(r.totalStacks-r[n].position))-p}o.zIndex=u}});function i(q){if(this.chart.is3d()){var p=this.chart.options.plotOptions.column.grouping;if(p!==undefined&&!p&&this.group.zIndex!==undefined){this.group.attr({zIndex:(this.group.zIndex*10)})}var o=this.options,n=this.options.states;this.borderWidth=o.borderWidth=o.edgeWidth||1;c.each(this.data,function(r){var s=r.pointAttr;this.borderColor=c.pick(o.edgeColor,s[""].fill);s[""].stroke=this.borderColor;s.hover.stroke=c.pick(n.hover.edgeColor,this.borderColor);s.select.stroke=c.pick(n.select.edgeColor,this.borderColor)})}q.apply(this,[].slice.call(arguments,1))}c.wrap(c.Series.prototype,"alignDataLabel",function(s){if(this.chart.is3d()&&(this.type==="column"||this.type==="columnrange")){var o=this,t=o.chart,x=t.options,p=x.chart.options3d,w={x:t.plotWidth/2,y:t.plotHeight/2,z:p.depth,vd:p.viewDistance},n=p.alpha,v=p.beta*(t.yAxis[0].opposite?-1:1);var r=arguments,q=r[4];var u=({x:q.x,y:q.y,z:0});u=b([u],n,v,w)[0];q.x=u.x;q.y=u.y}s.apply(this,[].slice.call(arguments,1))});if(c.seriesTypes.columnrange){c.wrap(c.seriesTypes.columnrange.prototype,"drawPoints",i)}c.wrap(c.seriesTypes.column.prototype,"drawPoints",i);var d=c.getOptions();d.plotOptions.cylinder=c.merge(d.plotOptions.column);var f=c.extendClass(c.seriesTypes.column,{type:"cylinder"});c.seriesTypes.cylinder=f;c.wrap(c.seriesTypes.cylinder.prototype,"translate",function(s){s.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()){return}var q=this,t=q.chart,w=t.options,n=w.plotOptions.cylinder,r=w.chart.options3d,p=n.depth||0,v={x:t.inverted?t.plotHeight/2:t.plotWidth/2,y:t.inverted?t.plotWidth/2:t.plotHeight/2,z:r.depth,vd:r.viewDistance},o=r.alpha;var u=n.stacking?(this.options.stack||0)*p:q._i*p;u+=p/2;if(n.grouping!==false){u=0}c.each(q.data,function(x){var y=x.shapeArgs;x.shapeType="arc3d";y.x+=p/2;y.z=u;y.start=0;y.end=2*m;y.r=p*0.95;y.innerR=0;y.depth=y.height*(1/e((90-o)*j))-u;y.alpha=90-o;y.beta=0;y.origin=v})});c.wrap(c.seriesTypes.pie.prototype,"translate",function(s){s.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()){return}var q=this,t=q.chart,x=t.options,n=q.options,p=n.depth||0,r=x.chart.options3d,w={x:t.plotWidth/2,y:t.plotHeight/2,z:r.depth},o=r.alpha,v=r.beta;var u=n.stacking?(n.stack||0)*p:q._i*p;u+=p/2;if(n.grouping!==false){u=0}c.each(q.data,function(y){y.shapeType="arc3d";var z=y.shapeArgs;if(y.y){z.z=u;z.depth=p*0.75;z.origin=w;z.alpha=o;z.beta=v;var A=(z.end+z.start)/2;y.slicedTranslation={translateX:l(k(A)*q.options.slicedOffset*k(o*j)),translateY:l(e(A)*q.options.slicedOffset*k(o*j))}}else{z=null}})});c.wrap(c.seriesTypes.pie.prototype.pointClass.prototype,"haloPath",function(n){return this.series.chart.is3d()?[]:n.call(this)});c.wrap(c.seriesTypes.pie.prototype,"drawPoints",function(p){if(this.chart.is3d()){var o=this.options,n=this.options.states;this.borderWidth=o.borderWidth=o.edgeWidth||1;n.hover.borderColor=c.pick(n.hover.edgeColor,this.borderColor);n.hover.borderWidth=c.pick(n.hover.edgeWidth,this.borderWidth);n.select.borderColor=c.pick(n.select.edgeColor,this.borderColor);n.select.borderWidth=c.pick(n.select.edgeWidth,this.borderWidth);c.each(this.data,function(r){var s=r.pointAttr;s[""].stroke=r.series.borderColor||r.color;s[""]["stroke-width"]=r.series.borderWidth;s.hover.stroke=n.hover.borderColor;s.hover["stroke-width"]=n.hover.borderWidth;s.select.stroke=n.select.borderColor;s.select["stroke-width"]=n.select.borderWidth})}p.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var q=this.group;c.each(this.points,function(r){r.graphic.out.add(q);r.graphic.inn.add(q);r.graphic.side1.add(q);r.graphic.side2.add(q)})}});c.wrap(c.seriesTypes.pie.prototype,"drawDataLabels",function(o){if(this.chart.is3d()){var n=this;c.each(n.data,function(q){var t=q.shapeArgs,u=t.r,w=t.depth,s=t.alpha*j,p=(t.start+t.end)/2,v=q.labelPos;v[1]+=(-u*(1-k(s))*e(p))+(e(p)>0?e(s)*w:0);v[3]+=(-u*(1-k(s))*e(p))+(e(p)>0?e(s)*w:0);v[5]+=(-u*(1-k(s))*e(p))+(e(p)>0?e(s)*w:0)})}o.apply(this,[].slice.call(arguments,1))});c.wrap(c.seriesTypes.pie.prototype,"addPoint",function(n){n.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){this.update()}});c.wrap(c.seriesTypes.pie.prototype,"animate",function(q){if(!this.chart.is3d()){q.apply(this,[].slice.call(arguments,1))}else{var o=arguments,u=o[1],r=this.options.animation,t,n=this.center,s=this.group,p=this.markerGroup;if(c.svg){if(r===true){r={}}if(u){s.oldtranslateX=s.translateX;s.oldtranslateY=s.translateY;t={translateX:n[0],translateY:n[1],scaleX:0.001,scaleY:0.001};s.attr(t);if(p){p.attrSetters=s.attrSetters;p.attr(t)}}else{t={translateX:s.oldtranslateX,translateY:s.oldtranslateY,scaleX:1,scaleY:1};s.animate(t,r);if(p){p.animate(t,r)}this.animate=null}}}});c.wrap(c.seriesTypes.scatter.prototype,"translate",function(s){s.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()){return}var p=this,t=p.chart,q=p.chart.options.chart.options3d,n=q.alpha,u=q.beta,v={x:t.inverted?t.plotHeight/2:t.plotWidth/2,y:t.inverted?t.plotWidth/2:t.plotHeight/2,z:q.depth,vd:q.viewDistance},o=q.depth,w=t.options.zAxis||{min:0,max:o};var r=o/(w.max-w.min);c.each(p.data,function(x){var y={x:x.plotX,y:x.plotY,z:(x.z-w.min)*r};y=b([y],n,u,v)[0];x.plotXold=x.plotX;x.plotYold=x.plotY;x.plotX=y.x;x.plotY=y.y;x.plotZ=y.z})});c.wrap(c.seriesTypes.scatter.prototype,"init",function(o){var n=o.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){this.pointArrayMap=["x","y","z"];var p="x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>";if(this.userOptions.tooltip){this.tooltipOptions.pointFormat=this.userOptions.tooltip.pointFormat||p}else{this.tooltipOptions.pointFormat=p}}return n});if(c.VMLRenderer){c.setOptions({animate:false});c.VMLRenderer.prototype.cuboid=c.SVGRenderer.prototype.cuboid;c.VMLRenderer.prototype.cuboidPath=c.SVGRenderer.prototype.cuboidPath;c.VMLRenderer.prototype.toLinePath=c.SVGRenderer.prototype.toLinePath;c.VMLRenderer.prototype.createElement3D=c.SVGRenderer.prototype.createElement3D;c.VMLRenderer.prototype.arc3d=function(o){var n=c.SVGRenderer.prototype.arc3d.call(this,o);n.css({zIndex:n.zIndex});return n};c.VMLRenderer.prototype.arc3dPath=c.SVGRenderer.prototype.arc3dPath;c.Chart.prototype.renderSeries=function(){var o,n=this.series.length;while(n--){o=this.series[n];o.translate();if(o.setTooltipPoints){o.setTooltipPoints()}o.render()}};c.wrap(c.Axis.prototype,"render",function(n){n.apply(this,[].slice.call(arguments,1));if(this.sideFrame){this.sideFrame.css({zIndex:0});this.sideFrame.front.attr({fill:this.sideFrame.color})}if(this.bottomFrame){this.bottomFrame.css({zIndex:1});this.bottomFrame.front.attr({fill:this.bottomFrame.color})}if(this.backFrame){this.backFrame.css({zIndex:0});this.backFrame.front.attr({fill:this.backFrame.color})}})}}(Highcharts));