var define,require,esl;!function(a0){function aJ(d,c){function g(a){0===a.indexOf(".")&&b.push(a)}var b=[];if("string"==typeof d?g(d):ag(d,function(a){g(a)}),b.length>0){throw new Error("[REQUIRE_FATAL]Relative ID is not allowed in global require: "+b.join(", "))}var f=au.waitSeconds;return f&&d instanceof Array&&(aw&&clearTimeout(aw),aw=setTimeout(aV,1000*f)),ak(d,c)}function aV(){function g(i,e){if(!h[i]&&!a1(i,al)){h[i]=1,a1(i,av)||j[i]||(j[i]=1,d.push(i));var a=aA[i];a?e&&(j[i]||(j[i]=1,d.push(i)),ag(a.depMs,function(k){g(k.absId,k.hard)})):b[i]||(b[i]=1,c.push(i))}}var d=[],c=[],j={},b={},h={};for(var f in aD){g(f,1)}if(d.length||c.length){throw new Error("[MODULE_TIMEOUT]Hang( "+(d.join(", ")||"none")+" ) Miss( "+(c.join(", ")||"none")+" )")}}function aQ(f,d,c){if(null==c&&(null==d?(c=f,f=null):(c=d,d=null,f instanceof Array&&(d=f,f=null))),null!=c){var g=window.opera;if(!f&&document.attachEvent&&(!g||"[object Opera]"!==g.toString())){var b=ar();f=b&&b.getAttribute("data-require-id")}f?(aP(f,d,c),ax&&clearTimeout(ax)):az[0]={deps:d,factory:c}}}function a4(){var a=au.config[this.id];return a&&"object"==typeof a?a:{}}function aP(c,b,a){aA[c]||(aA[c]={id:c,depsDec:b,deps:b||["require","exports","module"],factoryDeps:[],factory:a,exports:{},config:a4,state:an,require:ao(c),depMs:[],depMkv:{},depRs:[],depPMs:[]})}function aL(f){var d=aA[f];if(d&&!a1(f,aq)){var c=d.deps,h=d.factory,b=0;"function"==typeof h&&(b=Math.min(h.length,c.length),!d.depsDec&&h.toString().replace(/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,"").replace(/require\(\s*(['"'])([^'"]+)\1\s*\)/g,function(i,a,j){c.push(j)}));var g=[];ag(c,function(e,o){var m,k,a=aG(e),j=aH(a.mod,f);j&&!at[j]?(a.res&&(k={id:e,mod:j,res:a.res},aD[j]=1,d.depPMs.push(j),d.depRs.push(k)),m=d.depMkv[j],m||(m={id:a.mod,absId:j,hard:b>o},d.depMs.push(m),d.depMkv[j]=m,g.push(j))):m={absId:j},b>o&&d.factoryDeps.push(k||m)}),d.state=aq,aW(f),aE(g)}}function aK(){for(var a in aD){aS(a),aR(a)}}function aS(c){function b(f){if(!a1(f,aq)){return !1}if(a1(f,av)||a[f]){return !0}a[f]=1;var g=aA[f],d=!0;return ag(g.depMs,function(h){return d=b(h.absId)}),d&&ag(g.depRs,function(h){return d=!(!h.absId||!a1(h.absId,al))}),d&&(g.state=av),d}var a={};b(c)}function aW(d){function c(){if(!e&&b.state===av){e=1;var f=1,n=[];if(ag(b.factoryDeps,function(i){var h=i.absId;return at[h]||(aR(h),a1(h,al))?void n.push(h):(f=0,!1)}),f){try{var k=a2(n,{require:b.require,exports:b.exports,module:b}),j=b.factory,a="function"==typeof j?j.apply(a0,k):j;null!=a&&(b.exports=a),b.invokeFactory=null,delete aD[d]}catch(g){if(e=0,/^\[MODULE_MISS\]"([^"]+)/.test(g.message)){var m=b.depMkv[RegExp.$1];return void (m&&(m.hard=1))}throw g}aI(d)}}}var e,b=aA[d];b.invokeFactory=c,ag(b.depPMs,function(a){aO(a,function(){ag(b.depRs,function(f){f.absId||f.mod!==a||(f.absId=aH(f.id,d),aE([f.absId],aK))})})})}function a1(b,a){return aA[b]&&aA[b].state>=a}function aR(b){var a=aA[b];a&&a.invokeFactory&&a.invokeFactory()}function a2(c,b){var a=[];return ag(c,function(d,f){a[f]=b[d]||ae(d)}),a}function aO(c,b){if(a1(c,al)){return void b()}var a=am[c];a||(a=am[c]=[]),a.push(b)}function aI(c){var b=am[c]||[],a=aA[c];a.state=al;for(var d=b.length;d--;){b[d]()}b.length=0,delete am[c]}function ae(a){return a1(a,al)?aA[a].exports:null}function af(a){ag(az,function(b){aP(a,b.deps,b.factory)}),az.length=0,aL(a)}function aE(e,d,g,c){function f(){if(!b){var a=1;ag(e,function(h){return at[h]?void 0:a=!!a1(h,al)}),a&&(b=1,"function"==typeof d&&d.apply(a0,a2(e,at)))}}if("string"==typeof e){if(aR(e),!a1(e,al)){throw new Error('[MODULE_MISS]"'+e+'" is not exists!')}return ae(e)}c=c||{};var b=0;e instanceof Array&&(f(),b||(ag(e,function(a){at[a]||a1(a,al)||(aO(a,f),c[a]||(a.indexOf("!")>0?aZ:aX)(a,g),aL(a))}),aK()))}function aX(c){function b(){var d=a.readyState;if("undefined"==typeof d||/^(loaded|complete)$/.test(d)){a.onload=a.onreadystatechange=null,a=null,af(c);for(var e in aD){aL(e)}aK()}}if(!ai[c]&&!aA[c]){ai[c]=1;var a=document.createElement("script");a.setAttribute("data-require-id",c),a.src=aT(c+".js"),a.async=!0,a.readyState?a.onreadystatechange=b:a.onload=b,ap(a)}}function aZ(d,b){function a(e){c.exports=e||!0,aI(d)}function g(h){var e=b?aA[b].require:ak;h.load(f.res,e,a,a4.call({id:d}))}if(!aA[d]){var f=aG(d),c={id:d,state:aq};aA[d]=c,a.fromText=function(i,h){aD[i]=1,new Function(h)(),af(i)},g(ae(f.mod))}}function a3(c,b){var a=ac(c,1,b);return a.sort(ay),a}function a5(){au.baseUrl=au.baseUrl.replace(/\/$/,"")+"/",ab=a3(au.paths),aM=a3(au.map,1),ag(aM,function(a){a.v=a3(a.v)}),aj=[],ag(au.packages,function(b){var a=b;"string"==typeof b&&(a={name:b.split("/")[0],location:b,main:"main"}),a.location=a.location||a.name,a.main=(a.main||"main").replace(/\.js$/i,""),a.reg=ah(a.name),aj.push(a)}),aj.sort(ay),aa=a3(au.urlArgs,1),aU=a3(au.noRequests),ag(aU,function(c){var b=c.v,a={};c.v=a,b instanceof Array||(b=[b]),ag(b,function(d){a[d]=1})})}function aF(c,b,a){ag(b,function(d){return d.reg.test(c)?(a(d.v,d.k,d),!1):void 0})}function aT(h){var d=/(\.[a-z0-9]+)$/i,c=/(\?[^#]*)$/,k="",b=h,j="";c.test(h)&&(j=RegExp.$1,h=h.replace(c,"")),d.test(h)&&(k=RegExp.$1,b=h.replace(d,""));var g,f=b;return aF(b,ab,function(i,a){f=f.replace(a,i),g=1}),g||aF(b,aj,function(m,l,a){f=f.replace(a.name,a.location)}),/^([a-z]{2,10}:\/)?\//i.test(f)||(f=au.baseUrl+f),f+=k+j,aF(b,aa,function(a){f+=(f.indexOf("?")>0?"&":"?")+a}),f}function ao(c){function b(e,i){if("string"==typeof e){return a[e]||(a[e]=aE(aH(e,c))),a[e]}if(e instanceof Array){var d=[],h=[],g=[];ag(e,function(k,j){var m=aG(k),l=aH(m.mod,c);h.push(l),aD[l]=1,m.res?(d.push(l),g[j]=null):g[j]=l});var f={};ag(h,function(k){var j;aF(k,aU,function(l){j=l}),j&&(j["*"]?f[k]=1:ag(h,function(l){return j[l]?(f[k]=1,!1):void 0}))}),aE(h,function(){ag(g,function(j,k){null==j&&(g[k]=aH(e[k],c))}),aE(g,i,c)},c,f)}}var a={};return b.toUrl=function(d){return aT(aH(d,c))},b}function aH(f,d){if(!f){return""}d=d||"";var c=aG(f);if(!c){return f}var h=c.res,b=ad(c.mod,d);if(ag(aj,function(i){var a=i.name;return a===b?(b=a+"/"+i.main,!1):void 0}),aF(d,aM,function(a){aF(b,a,function(j,i){b=b.replace(i,j)})}),h){var g=ae(b);h=g.normalize?g.normalize(h,function(a){return aH(a,d)}):aH(h,d),b+="!"+h}return b}function ad(k,p){if(0===k.indexOf(".")){var g=p.split("/"),d=k.split("/"),m=g.length-1,c=d.length,b=0,q=0;k:for(var f=0;c>f;f++){var j=d[f];switch(j){case"..":if(!(m>b)){break k}b++,q++;break;case".":q++;break;default:break k}}return g.length=m-b,d=d.slice(q),g.concat(d).join("/")}return k}function aG(b){var a=b.split("!");return a[0]?{mod:a[0],res:a[1]}:null}function ac(f,d,c){var h=[];for(var b in f){if(f.hasOwnProperty(b)){var g={k:b,v:f[b]};h.push(g),d&&(g.reg="*"===b&&c?/^/:ah(b))}}return h}function ar(){if(aC){return aC}if(aN&&"interactive"===aN.readyState){return aN}for(var c=document.getElementsByTagName("script"),b=c.length;b--;){var a=c[b];if("interactive"===a.readyState){return aN=a,a}}}function ap(a){aC=a,aB?aY.insertBefore(a,aB):aY.appendChild(a),aC=null}function ah(a){return new RegExp("^"+a+"(/|$)")}function ag(c,b){if(c instanceof Array){for(var a=0,d=c.length;d>a&&b(c[a],a)!==!1;a++){}}}function ay(c,b){var a=c.k||c.name,d=b.k||b.name;return"*"===d?-1:"*"===a?1:d.length-a.length}var aw,aA={},aD={},an=1,aq=2,av=3,al=4,ak=ao();aJ.version="1.8.6",aJ.loader="esl",aJ.toUrl=ak.toUrl;var ax;aQ.amd={};var am={},at={require:aJ,exports:1,module:1},az=[],ai={},au={baseUrl:"./",paths:{},config:{},map:{},packages:[],waitSeconds:0,noRequests:{},urlArgs:{}};aJ.config=function(f){function d(a){b.push(a)}if(f){for(var c in au){var g=f[c],b=au[c];if(g){if("urlArgs"===c&&"string"==typeof g){au.urlArgs["*"]=g}else{if(b instanceof Array){ag(g,d)}else{if("object"==typeof b){for(var c in g){b[c]=g[c]}}else{au[c]=g}}}}}a5()}},a5();var ab,aj,aM,aa,aU,aC,aN,aY=document.getElementsByTagName("head")[0],aB=document.getElementsByTagName("base")[0];aB&&(aY=aB.parentNode),a0.define||(a0.define=aQ,a0.require||(a0.require=aJ),a0.esl=aJ)}(this),define("echarts",["echarts/echarts"],function(a){return a}),define("echarts/echarts",["require","./config","zrender/tool/util","zrender/tool/event","zrender/tool/env","zrender","zrender/config","./chart/island","./component/toolbox","./component","./component/title","./component/tooltip","./component/legend","./util/ecData","./chart","zrender/tool/color","./component/timeline","zrender/shape/Image","zrender/loadingEffect/Bar","zrender/loadingEffect/Bubble","zrender/loadingEffect/DynamicLine","zrender/loadingEffect/Ring","zrender/loadingEffect/Spin","zrender/loadingEffect/Whirling","./theme/default"],function(w){function A(){b.Dispatcher.call(this)}function u(a){this._themeConfig=g.clone(z),this.dom=a,this._connected=!1,this._status={dragIn:!1,dragOut:!1,needRefresh:!1},this._curEventType=!1,this._chartList=[],this._messageCenter=new A,this._messageCenterOutSide=new A,this.resize=this.resize(),this._init()}function j(p,h,d,D,c){for(var C=p._chartList,m=C.length;m--;){var l=C[m];"function"==typeof l[h]&&l[h](d,D,c)}}var z=w("./config"),g=w("zrender/tool/util"),b=w("zrender/tool/event"),B={},q=w("zrender/tool/env").canvasSupported,v=new Date-0,x={},k="_echarts_instance_";B.version="2.1.10",B.dependencies={zrender:"2.0.6"},B.init=function(d,h){var c=w("zrender");(c.version||"1.0.3").replace(".","")-0<B.dependencies.zrender.replace(".","")-0&&console.error("ZRender "+(c.version||"1.0.3-")+" is too old for ECharts "+B.version+". Current version need ZRender "+B.dependencies.zrender+"+"),d=d instanceof Array?d[0]:d;var e=d.getAttribute(k);return e||(e=v++,d.setAttribute(k,e)),x[e]&&x[e].dispose(),x[e]=new u(d),x[e].id=e,x[e].canvasSupported=q,x[e].setTheme(h),x[e]},B.getInstanceById=function(a){return x[a]},g.merge(A.prototype,b.Dispatcher.prototype,!0);var y=w("zrender/config").EVENT,f=["CLICK","DBLCLICK","MOUSEOVER","MOUSEOUT","DRAGSTART","DRAGEND","DRAGENTER","DRAGOVER","DRAGLEAVE","DROP"];return u.prototype={_init:function(){var H=this,D=w("zrender").init(this.dom);this._zr=D,this._messageCenter.dispatch=function(l,h,m,d){m=m||{},m.type=l,m.event=h,H._messageCenter.dispatchWithContext(l,m,d),"HOVER"!=l&&"MOUSEOUT"!=l?setTimeout(function(){H._messageCenterOutSide.dispatchWithContext(l,m,d)},50):H._messageCenterOutSide.dispatchWithContext(l,m,d)},this._onevent=function(d){return H.__onevent(d)};for(var e in z.EVENT){"CLICK"!=e&&"DBLCLICK"!=e&&"HOVER"!=e&&"MOUSEOUT"!=e&&"MAP_ROAM"!=e&&this._messageCenter.bind(z.EVENT[e],this._onevent,this)}var c={};this._onzrevent=function(d){return H[c[d.type]](d)};for(var a=0,I=f.length;I>a;a++){var C=f[a],E=y[C];c[E]="_on"+C.toLowerCase(),D.on(E,this._onzrevent)}this.chart={},this.component={};var F=w("./chart/island");this._island=new F(this._themeConfig,this._messageCenter,D,{},this),this.chart.island=this._island;var p=w("./component/toolbox");this._toolbox=new p(this._themeConfig,this._messageCenter,D,{},this),this.component.toolbox=this._toolbox;var G=w("./component");G.define("title",w("./component/title")),G.define("tooltip",w("./component/tooltip")),G.define("legend",w("./component/legend")),(0===D.getWidth()||0===D.getHeight())&&console.error("Dom’s width & height should be ready before init.")},__onevent:function(h){h.__echartsId=h.__echartsId||this.id;var c=h.__echartsId===this.id;switch(this._curEventType||(this._curEventType=h.type),h.type){case z.EVENT.LEGEND_SELECTED:this._onlegendSelected(h);break;case z.EVENT.DATA_ZOOM:if(!c){var a=this.component.dataZoom;a&&(a.silence(!0),a.absoluteZoom(h.zoom),a.silence(!1))}this._ondataZoom(h);break;case z.EVENT.DATA_RANGE:c&&this._ondataRange(h);break;case z.EVENT.MAGIC_TYPE_CHANGED:if(!c){var m=this.component.toolbox;m&&(m.silence(!0),m.setMagicType(h.magicType),m.silence(!1))}this._onmagicTypeChanged(h);break;case z.EVENT.DATA_VIEW_CHANGED:c&&this._ondataViewChanged(h);break;case z.EVENT.TOOLTIP_HOVER:c&&this._tooltipHover(h);break;case z.EVENT.RESTORE:this._onrestore();break;case z.EVENT.REFRESH:c&&this._onrefresh(h);break;case z.EVENT.TOOLTIP_IN_GRID:case z.EVENT.TOOLTIP_OUT_GRID:if(c){if(this._connected){var l=this.component.grid;l&&(h.x=(h.event.zrenderX-l.getX())/l.getWidth(),h.y=(h.event.zrenderY-l.getY())/l.getHeight())}}else{var l=this.component.grid;l&&this._zr.trigger("mousemove",{connectTrigger:!0,zrenderX:l.getX()+h.x*l.getWidth(),zrenderY:l.getY()+h.y*l.getHeight()})}}if(this._connected&&c&&this._curEventType===h.type){for(var d in this._connected){this._connected[d].connectedEventHandler(h)}this._curEventType=null}(!c||!this._connected&&c)&&(this._curEventType=null)},_onclick:function(c){if(j(this,"onclick",c),c.target){var a=this._eventPackage(c.target);a&&null!=a.seriesIndex&&this._messageCenter.dispatch(z.EVENT.CLICK,c.event,a,this)}},_ondblclick:function(c){if(j(this,"ondblclick",c),c.target){var a=this._eventPackage(c.target);a&&null!=a.seriesIndex&&this._messageCenter.dispatch(z.EVENT.DBLCLICK,c.event,a,this)}},_onmouseover:function(c){if(c.target){var a=this._eventPackage(c.target);a&&null!=a.seriesIndex&&this._messageCenter.dispatch(z.EVENT.HOVER,c.event,a,this)}},_onmouseout:function(c){if(c.target){var a=this._eventPackage(c.target);a&&null!=a.seriesIndex&&this._messageCenter.dispatch(z.EVENT.MOUSEOUT,c.event,a,this)}},_ondragstart:function(a){this._status={dragIn:!1,dragOut:!1,needRefresh:!1},j(this,"ondragstart",a)},_ondragenter:function(a){j(this,"ondragenter",a)},_ondragover:function(a){j(this,"ondragover",a)},_ondragleave:function(a){j(this,"ondragleave",a)},_ondrop:function(a){j(this,"ondrop",a,this._status),this._island.ondrop(a,this._status)},_ondragend:function(c){if(j(this,"ondragend",c,this._status),this._timeline&&this._timeline.ondragend(c,this._status),this._island.ondragend(c,this._status),this._status.needRefresh){this._syncBackupData(this._option);var a=this._messageCenter;a.dispatch(z.EVENT.DATA_CHANGED,c.event,this._eventPackage(c.target),this),a.dispatch(z.EVENT.REFRESH,null,null,this)}},_onlegendSelected:function(a){this._status.needRefresh=!1,j(this,"onlegendSelected",a,this._status),this._status.needRefresh&&this._messageCenter.dispatch(z.EVENT.REFRESH,null,null,this)},_ondataZoom:function(a){this._status.needRefresh=!1,j(this,"ondataZoom",a,this._status),this._status.needRefresh&&this._messageCenter.dispatch(z.EVENT.REFRESH,null,null,this)},_ondataRange:function(a){this._clearEffect(),this._status.needRefresh=!1,j(this,"ondataRange",a,this._status),this._status.needRefresh&&this._zr.refresh()},_onmagicTypeChanged:function(){this._clearEffect(),this._render(this._toolbox.getMagicOption())},_ondataViewChanged:function(a){this._syncBackupData(a.option),this._messageCenter.dispatch(z.EVENT.DATA_CHANGED,null,a,this),this._messageCenter.dispatch(z.EVENT.REFRESH,null,null,this)},_tooltipHover:function(c){var a=[];j(this,"ontooltipHover",c,a)},_onrestore:function(){this.restore()},_onrefresh:function(a){this._refreshInside=!0,this.refresh(a),this._refreshInside=!1},_syncBackupData:function(a){this.component.dataZoom&&this.component.dataZoom.syncBackupData(a)},_eventPackage:function(e){if(e){var d=w("./util/ecData"),h=d.get(e,"seriesIndex"),c=d.get(e,"dataIndex");return c=-1!=h&&this.component.dataZoom?this.component.dataZoom.getRealDataIndex(h,c):c,{seriesIndex:h,seriesName:(d.get(e,"series")||{}).name,dataIndex:c,data:d.get(e,"data"),name:d.get(e,"name"),value:d.get(e,"value"),special:d.get(e,"special")}}},_render:function(O){this._mergeGlobalConifg(O);var G=O.backgroundColor;if(G){if(q||-1==G.indexOf("rgba")){this.dom.style.backgroundColor=G}else{var C=G.split(",");this.dom.style.filter="alpha(opacity="+100*C[3].substring(0,C[3].lastIndexOf(")"))+")",C.length=3,C[0]=C[0].replace("a",""),this.dom.style.backgroundColor=C.join(",")+")"}}this._zr.clearAnimation(),this._chartList=[];var l=w("./chart"),a=w("./component");(O.xAxis||O.yAxis)&&(O.grid=O.grid||{},O.dataZoom=O.dataZoom||{});for(var P,H,K,E=["title","legend","tooltip","dataRange","roamController","grid","dataZoom","xAxis","yAxis","polar"],L=0,e=E.length;e>L;L++){H=E[L],K=this.component[H],O[H]?(K?K.refresh&&K.refresh(O):(P=a.get(/^[xy]Axis$/.test(H)?"axis":H),K=new P(this._themeConfig,this._messageCenter,this._zr,O,this,H),this.component[H]=K),this._chartList.push(K)):K&&(K.dispose(),this.component[H]=null,delete this.component[H])}for(var N,D,F,M={},L=0,e=O.series.length;e>L;L++){D=O.series[L].type,D?M[D]||(M[D]=!0,N=l.get(D),N?(this.chart[D]?(F=this.chart[D],F.refresh(O)):F=new N(this._themeConfig,this._messageCenter,this._zr,O,this),this._chartList.push(F),this.chart[D]=F):console.error(D+" has not been required.")):console.error("series["+L+"] chart type has not been defined.")}for(D in this.chart){D==z.CHART_TYPE_ISLAND||M[D]||(this.chart[D].dispose(),this.chart[D]=null,delete this.chart[D])}this.component.grid&&this.component.grid.refixAxisShape(this.component),this._island.refresh(O),this._toolbox.refresh(O),O.animation&&!O.renderAsImage?this._zr.refresh():this._zr.render();var I="IMG"+this.id,J=document.getElementById(I);O.renderAsImage&&q?(J?J.src=this.getDataURL(O.renderAsImage):(J=this.getImage(O.renderAsImage),J.id=I,J.style.position="absolute",J.style.left=0,J.style.top=0,this.dom.firstChild.appendChild(J)),this.un(),this._zr.un(),this._disposeChartList(),this._zr.clear()):J&&J.parentNode.removeChild(J),J=null,this._option=O},restore:function(){this._clearEffect(),this._option=g.clone(this._optionRestore),this._disposeChartList(),this._island.clear(),this._toolbox.reset(this._option,!0),this._render(this._option)},refresh:function(d){this._clearEffect(),d=d||{};var c=d.option;!this._refreshInside&&c&&(c=this.getOption(),g.merge(c,d.option,!0),g.merge(this._optionRestore,d.option,!0),this._toolbox.reset(c)),this._island.refresh(c),this._toolbox.refresh(c),this._zr.clearAnimation();for(var a=0,h=this._chartList.length;h>a;a++){this._chartList[a].refresh&&this._chartList[a].refresh(c)}this.component.grid&&this.component.grid.refixAxisShape(this.component),this._zr.refresh()},_disposeChartList:function(){this._clearEffect(),this._zr.clearAnimation();for(var d=this._chartList.length;d--;){var c=this._chartList[d];if(c){var a=c.type;this.chart[a]&&delete this.chart[a],this.component[a]&&delete this.component[a],c.dispose&&c.dispose()}}this._chartList=[]},_mergeGlobalConifg:function(e){for(var d=["backgroundColor","calculable","calculableColor","calculableHolderColor","nameConnector","valueConnector","animation","animationThreshold","animationDuration","animationEasing","addDataAnimation","symbolList","DRAG_ENABLE_TIME"],l=d.length;l--;){var c=d[l];null==e[c]&&(e[c]=this._themeConfig[c])}var h=e.color;h&&h.length||(h=this._themeConfig.color),q||(e.animation=!1,e.addDataAnimation=!1),this._zr.getColor=function(m){var a=w("zrender/tool/color");return a.getColor(m,h)}},setOption:function(c,a){return c.timeline?this._setTimelineOption(c):this._setOption(c,a)},_setOption:function(c,a){return this._option=!a&&this._option?g.merge(this.getOption(),g.clone(c),!0):g.clone(c),this._optionRestore=g.clone(this._option),this._option.series&&0!==this._option.series.length?(this.component.dataZoom&&(this._option.dataZoom||this._option.toolbox&&this._option.toolbox.feature&&this._option.toolbox.feature.dataZoom&&this._option.toolbox.feature.dataZoom.show)&&this.component.dataZoom.syncOption(this._option),this._toolbox.reset(this._option),this._render(this._option),this):void this._zr.clear()},getOption:function(){function d(i){var l=a._optionRestore[i];if(l){if(l instanceof Array){for(var h=l.length;h--;){c[i][h].data=g.clone(l[h].data)}}else{c[i].data=g.clone(l.data)}}}var c=g.clone(this._option),a=this;return d("xAxis"),d("yAxis"),d("series"),c},setSeries:function(c,a){return a?(this._option.series=c,this.setOption(this._option,a)):this.setOption({series:c}),this},getSeries:function(){return this.getOption().series},_setTimelineOption:function(c){this._timeline&&this._timeline.dispose();var a=w("./component/timeline"),d=new a(this._themeConfig,this._messageCenter,this._zr,c,this);return this._timeline=d,this.component.timeline=this._timeline,this},addData:function(W,H,Q,M,J){for(var I=W instanceof Array?W:[[W,H,Q,M,J]],O=this.getOption(),R=this._optionRestore,X=0,N=I.length;N>X;X++){W=I[X][0],H=I[X][1],Q=I[X][2],M=I[X][3],J=I[X][4];var Y=R.series[W],K=Q?"unshift":"push",G=Q?"pop":"shift";if(Y){var a=Y.data,o=O.series[W].data;if(a[K](H),o[K](H),M||(a[G](),H=o[G]()),null!=J){var D,S;if(Y.type===z.CHART_TYPE_PIE&&(D=R.legend)&&(S=D.data)){var T=O.legend.data;if(S[K](J),T[K](J),!M){var Z=g.indexOf(S,H.name);-1!=Z&&S.splice(Z,1),Z=g.indexOf(T,H.name),-1!=Z&&T.splice(Z,1)}}else{if(null!=R.xAxis&&null!=R.yAxis){var aa,E,P=Y.xAxisIndex||0;(null==R.xAxis[P].type||"category"===R.xAxis[P].type)&&(aa=R.xAxis[P].data,E=O.xAxis[P].data,aa[K](J),E[K](J),M||(aa[G](),E[G]())),P=Y.yAxisIndex||0,"category"===R.yAxis[P].type&&(aa=R.yAxis[P].data,E=O.yAxis[P].data,aa[K](J),E[K](J),M||(aa[G](),E[G]()))}}}this._option.series[W].data=O.series[W].data}}this._zr.clearAnimation();for(var C=this._chartList,X=0,N=C.length;N>X;X++){O.addDataAnimation&&C[X].addDataAnimation&&C[X].addDataAnimation(I)}this.component.dataZoom&&this.component.dataZoom.syncOption(O),this._option=O;var F=this;return setTimeout(function(){if(F._zr){F._zr.clearAnimation();for(var d=0,c=C.length;c>d;d++){C[d].motionlessOnce=O.addDataAnimation&&C[d].addDataAnimation}F._messageCenter.dispatch(z.EVENT.REFRESH,null,{option:O},F)}},O.addDataAnimation?500:0),this},addMarkPoint:function(c,a){return this._addMark(c,a,"markPoint")},addMarkLine:function(c,a){return this._addMark(c,a,"markLine")},_addMark:function(F,I,D){var o,H=this._option.series;if(H&&(o=H[F])){var c=this._optionRestore.series,J=c[F],C=o[D],E=J[D];C=o[D]=C||{data:[]},E=J[D]=E||{data:[]};for(var G in I){"data"===G?(C.data=C.data.concat(I.data),E.data=E.data.concat(I.data)):"object"!=typeof I[G]||null==C[G]?C[G]=E[G]=I[G]:(g.merge(C[G],I[G],!0),g.merge(E[G],I[G],!0))}var p=this.chart[o.type];p&&p.addMark(F,I,D)}return this},delMarkPoint:function(c,a){return this._delMark(c,a,"markPoint")},delMarkLine:function(c,a){return this._delMark(c,a,"markLine")},_delMark:function(H,K,F){var C,J,p,c=this._option.series;if(!(c&&(C=c[H])&&(J=C[F])&&(p=J.data))){return this}K=K.split(" > ");for(var L=-1,E=0,G=p.length;G>E;E++){var I=p[E];if(I instanceof Array){if(I[0].name===K[0]&&I[1].name===K[1]){L=E;break}}else{if(I.name===K[0]){L=E;break}}}if(L>-1){p.splice(L,1),this._optionRestore.series[H][F].data.splice(L,1);var D=this.chart[C.type];D&&D.delMark(H,K.join(" > "),F)}return this},getDom:function(){return this.dom},getZrender:function(){return this._zr},getDataURL:function(l){if(!q){return""}if(0===this._chartList.length){var h="IMG"+this.id,d=document.getElementById(h);if(d){return d.src}}var m=this.component.tooltip;switch(m&&m.hideTip(),l){case"jpeg":break;default:l="png"}var c=this._option.backgroundColor;return c&&"rgba(0,0,0,0)"===c.replace(" ","")&&(c="#fff"),this._zr.toDataURL("image/"+l,c)},getImage:function(d){var c=this._optionRestore.title,a=document.createElement("img");return a.src=this.getDataURL(d),a.title=c&&c.text||"ECharts",a},getConnectedDataURL:function(M){if(!this.isConnected()){return this.getDataURL(M)}var H=this.dom,E={self:{img:this.getDataURL(M),left:H.offsetLeft,top:H.offsetTop,right:H.offsetLeft+H.offsetWidth,bottom:H.offsetTop+H.offsetHeight}},L=E.self.left,D=E.self.top,e=E.self.right,N=E.self.bottom;for(var G in this._connected){H=this._connected[G].getDom(),E[G]={img:this._connected[G].getDataURL(M),left:H.offsetLeft,top:H.offsetTop,right:H.offsetLeft+H.offsetWidth,bottom:H.offsetTop+H.offsetHeight},L=Math.min(L,E[G].left),D=Math.min(D,E[G].top),e=Math.max(e,E[G].right),N=Math.max(N,E[G].bottom)}var I=document.createElement("div");I.style.position="absolute",I.style.left="-4000px",I.style.width=e-L+"px",I.style.height=N-D+"px",document.body.appendChild(I);var J=w("zrender").init(I),F=w("zrender/shape/Image");for(var G in E){J.addShape(new F({style:{x:E[G].left-L,y:E[G].top-D,image:E[G].img}}))}J.render();var K=this._option.backgroundColor;K&&"rgba(0,0,0,0)"===K.replace(/ /g,"")&&(K="#fff");var C=J.toDataURL("image/png",K);return setTimeout(function(){J.dispose(),I.parentNode.removeChild(I),I=null},100),C},getConnectedImage:function(d){var c=this._optionRestore.title,a=document.createElement("img");return a.src=this.getConnectedDataURL(d),a.title=c&&c.text||"ECharts",a},on:function(c,a){return this._messageCenterOutSide.bind(c,a,this),this},un:function(c,a){return this._messageCenterOutSide.unbind(c,a),this},connect:function(d){if(!d){return this}if(this._connected||(this._connected={}),d instanceof Array){for(var c=0,a=d.length;a>c;c++){this._connected[d[c].id]=d[c]}}else{this._connected[d.id]=d}return this},disConnect:function(d){if(!d||!this._connected){return this}if(d instanceof Array){for(var c=0,a=d.length;a>c;c++){delete this._connected[d[c].id]}}else{delete this._connected[d.id]}for(var h in this._connected){return this}return this._connected=!1,this},connectedEventHandler:function(a){a.__echartsId!=this.id&&this._onevent(a)},isConnected:function(){return !!this._connected},showLoading:function(e){var d={bar:w("zrender/loadingEffect/Bar"),bubble:w("zrender/loadingEffect/Bubble"),dynamicLine:w("zrender/loadingEffect/DynamicLine"),ring:w("zrender/loadingEffect/Ring"),spin:w("zrender/loadingEffect/Spin"),whirling:w("zrender/loadingEffect/Whirling")};this._toolbox.hideDataView(),e=e||{};var l=e.textStyle||{};e.textStyle=l;var c=g.merge(g.clone(l),this._themeConfig.textStyle);l.textFont=c.fontStyle+" "+c.fontWeight+" "+c.fontSize+"px "+c.fontFamily,l.text=e.text||this._themeConfig.loadingText,null!=e.x&&(l.x=e.x),null!=e.y&&(l.y=e.y),e.effectOption=e.effectOption||{},e.effectOption.textStyle=l;var h=e.effect;return("string"==typeof h||null==h)&&(h=d[e.effect||"spin"]),this._zr.showLoading(new h(e.effectOption)),this},hideLoading:function(){return this._zr.hideLoading(),this},setTheme:function(c){if(c){if("string"==typeof c){switch(c){default:c=w("./theme/default")}}else{c=c||{}}for(var a in this._themeConfig){delete this._themeConfig[a]}for(var a in z){this._themeConfig[a]=g.clone(z[a])}c.color&&(this._themeConfig.color=[]),c.symbolList&&(this._themeConfig.symbolList=[]),g.merge(this._themeConfig,g.clone(c),!0)}q||(this._themeConfig.textStyle.fontFamily=this._themeConfig.textStyle.fontFamily2),this._timeline&&this._timeline.setTheme(!0),this._optionRestore&&this.restore()},resize:function(){var a=this;return function(){if(a._clearEffect(),a._zr.resize(),a._option&&a._option.renderAsImage&&q){return a._render(a._option),a}a._zr.clearAnimation(),a._island.resize(),a._toolbox.resize(),a._timeline&&a._timeline.resize();for(var d=0,c=a._chartList.length;c>d;d++){a._chartList[d].resize&&a._chartList[d].resize()}return a.component.grid&&a.component.grid.refixAxisShape(a.component),a._zr.refresh(),a._messageCenter.dispatch(z.EVENT.RESIZE,null,null,a),a}},_clearEffect:function(){this._zr.modLayer(z.EFFECT_ZLEVEL,{motionBlur:!1}),this._zr.painter.clearLayer(z.EFFECT_ZLEVEL)},clear:function(){return this._disposeChartList(),this._zr.clear(),this._option={},this._optionRestore={},this.dom.style.backgroundColor=null,this},dispose:function(){var a=this.dom.getAttribute(k);a&&delete x[a],this._island.dispose(),this._toolbox.dispose(),this._timeline&&this._timeline.dispose(),this._messageCenter.unbind(),this.clear(),this._zr.dispose(),this._zr=null}},B}),define("echarts/config",[],function(){var a={CHART_TYPE_LINE:"line",CHART_TYPE_BAR:"bar",CHART_TYPE_SCATTER:"scatter",CHART_TYPE_PIE:"pie",CHART_TYPE_RADAR:"radar",CHART_TYPE_MAP:"map",CHART_TYPE_K:"k",CHART_TYPE_ISLAND:"island",CHART_TYPE_FORCE:"force",CHART_TYPE_CHORD:"chord",CHART_TYPE_GAUGE:"gauge",CHART_TYPE_FUNNEL:"funnel",CHART_TYPE_EVENTRIVER:"eventRiver",COMPONENT_TYPE_TITLE:"title",COMPONENT_TYPE_LEGEND:"legend",COMPONENT_TYPE_DATARANGE:"dataRange",COMPONENT_TYPE_DATAVIEW:"dataView",COMPONENT_TYPE_DATAZOOM:"dataZoom",COMPONENT_TYPE_TOOLBOX:"toolbox",COMPONENT_TYPE_TOOLTIP:"tooltip",COMPONENT_TYPE_GRID:"grid",COMPONENT_TYPE_AXIS:"axis",COMPONENT_TYPE_POLAR:"polar",COMPONENT_TYPE_X_AXIS:"xAxis",COMPONENT_TYPE_Y_AXIS:"yAxis",COMPONENT_TYPE_AXIS_CATEGORY:"categoryAxis",COMPONENT_TYPE_AXIS_VALUE:"valueAxis",COMPONENT_TYPE_TIMELINE:"timeline",COMPONENT_TYPE_ROAMCONTROLLER:"roamController",backgroundColor:"rgba(0,0,0,0)",color:["#ff7f50","#87cefa","#da70d6","#32cd32","#6495ed","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#40e0d0","#1e90ff","#ff6347","#7b68ee","#00fa9a","#ffd700","#6699FF","#ff6666","#3cb371","#b8860b","#30e0e0"],title:{text:"",subtext:"",x:"left",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:5,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}},legend:{show:!0,orient:"horizontal",x:"center",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:20,itemHeight:14,textStyle:{color:"#333"},selectedMode:!0},dataRange:{show:!0,orient:"vertical",x:"left",y:"bottom",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:20,itemHeight:14,precision:0,splitNumber:5,calculable:!1,hoverLink:!0,realtime:!0,color:["#006edd","#e0ffff"],textStyle:{color:"#333"}},toolbox:{show:!1,orient:"horizontal",x:"right",y:"top",color:["#1e90ff","#22bb22","#4b0082","#d2691e"],disableColor:"#ddd",effectiveColor:"red",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemSize:16,showTitle:!0,feature:{mark:{show:!1,title:{mark:"辅助线开关",markUndo:"删除辅助线",markClear:"清空辅助线"},lineStyle:{width:1,color:"#1e90ff",type:"dashed"}},dataZoom:{show:!1,title:{dataZoom:"区域缩放",dataZoomReset:"区域缩放后退"}},dataView:{show:!1,title:"数据视图",readOnly:!1,lang:["数据视图","关闭","刷新"]},magicType:{show:!1,title:{line:"折线图切换",bar:"柱形图切换",stack:"堆积",tiled:"平铺",force:"力导向布局图切换",chord:"和弦图切换",pie:"饼图切换",funnel:"漏斗图切换"},type:[]},restore:{show:!1,title:"还原"},saveAsImage:{show:!1,title:"保存为图片",type:"png",lang:["点击保存"]}}},tooltip:{show:!0,showContent:!0,trigger:"item",islandFormatter:"{a} <br/>{b} : {c}",showDelay:20,hideDelay:100,transitionDuration:0.4,enterable:!1,backgroundColor:"rgba(0,0,0,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,axisPointer:{type:"line",lineStyle:{color:"#48b",width:2,type:"solid"},crossStyle:{color:"#1e90ff",width:1,type:"dashed"},shadowStyle:{color:"rgba(150,150,150,0.3)",width:"auto",type:"default"}},textStyle:{color:"#fff"}},dataZoom:{show:!1,orient:"horizontal",backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"#eee",fillerColor:"rgba(144,197,237,0.2)",handleColor:"rgba(70,130,180,0.8)",showDetail:!0,realtime:!0},grid:{x:80,y:60,x2:80,y2:60,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},categoryAxis:{show:!0,position:"bottom",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:!0,axisLine:{show:!0,onZero:!0,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:!0,interval:"auto",inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,interval:"auto",rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},valueAxis:{show:!0,position:"left",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:[0,0],axisLine:{show:!0,onZero:!0,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:!1,inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},polar:{center:["50%","50%"],radius:"75%",startAngle:90,boundaryGap:[0,0],splitNumber:5,name:{show:!0,textStyle:{color:"#333"}},axisLine:{show:!0,lineStyle:{color:"#ccc",width:1,type:"solid"}},axisLabel:{show:!1,textStyle:{color:"#333"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},splitLine:{show:!0,lineStyle:{width:1,color:"#ccc"}},type:"polygon"},timeline:{show:!0,type:"time",notMerge:!1,realtime:!0,x:80,x2:80,y2:0,height:50,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,controlPosition:"left",autoPlay:!1,loop:!0,playInterval:2000,lineStyle:{width:1,color:"#666",type:"dashed"},label:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#333"}},checkpointStyle:{symbol:"auto",symbolSize:"auto",color:"auto",borderColor:"auto",borderWidth:"auto",label:{show:!1,textStyle:{color:"auto"}}},controlStyle:{normal:{color:"#333"},emphasis:{color:"#1e90ff"}},symbol:"emptyDiamond",symbolSize:4,currentIndex:0},roamController:{show:!0,x:"left",y:"top",width:80,height:120,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,handleColor:"#6495ed",fillerColor:"#fff",step:15,mapTypeControl:null},bar:{clickable:!0,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,barMinHeight:0,barGap:"30%",barCategoryGap:"20%",itemStyle:{normal:{barBorderColor:"#fff",barBorderRadius:0,barBorderWidth:0,label:{show:!1}},emphasis:{barBorderColor:"#fff",barBorderRadius:0,barBorderWidth:0,label:{show:!1}}}},line:{clickable:!0,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,itemStyle:{normal:{label:{show:!1},lineStyle:{width:2,type:"solid",shadowColor:"rgba(0,0,0,0)",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0}},emphasis:{label:{show:!1}}},symbolSize:2,showAllSymbol:!1},k:{clickable:!0,legendHoverLink:!1,xAxisIndex:0,yAxisIndex:0,itemStyle:{normal:{color:"#fff",color0:"#00aa11",lineStyle:{width:1,color:"#ff3200",color0:"#00aa11"}},emphasis:{}}},scatter:{clickable:!0,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbolSize:4,large:!1,largeThreshold:2000,itemStyle:{normal:{label:{show:!1,formatter:function(d,c,b){return"undefined"!=typeof b[2]?b[2]:b[0]+" , "+b[1]}}},emphasis:{label:{show:!1,formatter:function(d,c,b){return"undefined"!=typeof b[2]?b[2]:b[0]+" , "+b[1]}}}}},radar:{clickable:!0,legendHoverLink:!0,polarIndex:0,itemStyle:{normal:{label:{show:!1},lineStyle:{width:2,type:"solid"}},emphasis:{label:{show:!1}}},symbolSize:2},pie:{clickable:!0,legendHoverLink:!0,center:["50%","50%"],radius:[0,"75%"],clockWise:!0,startAngle:90,minAngle:0,selectedOffset:10,itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:!1},labelLine:{show:!1,length:20,lineStyle:{width:1,type:"solid"}}}}},map:{mapType:"china",mapValuePrecision:0,showLegendSymbol:!0,dataRangeHoverLink:!0,hoverable:!0,clickable:!0,itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1,areaStyle:{color:"#ccc"},label:{show:!1,textStyle:{color:"rgb(139,69,19)"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,areaStyle:{color:"rgba(255,215,0,0.8)"},label:{show:!1,textStyle:{color:"rgb(100,0,0)"}}}}},force:{center:["50%","50%"],size:"100%",preventOverlap:!1,coolDown:0.99,minRadius:10,maxRadius:20,ratioScaling:!1,large:!1,useWorker:!1,steps:1,scaling:1,gravity:1,symbol:"circle",symbolSize:0,linkSymbol:null,linkSymbolSize:[10,15],draggable:!0,clickable:!0,roam:!1,itemStyle:{normal:{label:{show:!1,position:"inside"},nodeStyle:{brushType:"both",borderColor:"#5182ab",borderWidth:1},linkStyle:{color:"#5182ab",width:1,type:"line"}},emphasis:{label:{show:!1},nodeStyle:{},linkStyle:{opacity:0}}}},chord:{clickable:!0,radius:["65%","75%"],center:["50%","50%"],padding:2,sort:"none",sortSub:"none",startAngle:90,clockWise:!0,ribbonType:!0,minRadius:10,maxRadius:20,symbol:"circle",showScale:!1,showScaleText:!1,itemStyle:{normal:{borderWidth:0,borderColor:"#000",label:{show:!0,rotate:!1,distance:5},chordStyle:{width:1,color:"black",borderWidth:1,borderColor:"#999",opacity:0.5}},emphasis:{borderWidth:0,borderColor:"#000",chordStyle:{width:1,color:"black",borderWidth:1,borderColor:"#999"}}}},gauge:{center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,min:0,max:100,precision:0,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[0.2,"#228b22"],[0.8,"#48b"],[1,"#ff4500"]],width:30}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,textStyle:{color:"auto"}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},pointer:{show:!0,length:"80%",width:8,color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}},funnel:{clickable:!0,legendHoverLink:!0,x:80,y:60,x2:80,y2:60,min:0,max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",itemStyle:{normal:{borderColor:"#fff",borderWidth:1,label:{show:!0,position:"outer"},labelLine:{show:!0,length:10,lineStyle:{width:1,type:"solid"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:!0},labelLine:{show:!0}}}},eventRiver:{clickable:!0,legendHoverLink:!0,itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:!0,position:"inside",formatter:"{b}"}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:!0}}}},island:{r:15,calculateStep:0.1},markPoint:{clickable:!0,symbol:"pin",symbolSize:10,large:!1,effect:{show:!1,loop:!0,period:15,scaleSize:2},itemStyle:{normal:{borderWidth:2,label:{show:!0,position:"inside"}},emphasis:{label:{show:!0}}}},markLine:{clickable:!0,symbol:["circle","arrow"],symbolSize:[2,4],large:!1,effect:{show:!1,loop:!0,period:15,scaleSize:2},itemStyle:{normal:{borderWidth:1.5,label:{show:!0,position:"end"},lineStyle:{type:"dashed"}},emphasis:{label:{show:!1},lineStyle:{}}}},textStyle:{decoration:"none",fontFamily:"Arial, Verdana, sans-serif",fontFamily2:"微软雅黑",fontSize:12,fontStyle:"normal",fontWeight:"normal"},EVENT:{REFRESH:"refresh",RESTORE:"restore",RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",HOVER:"hover",MOUSEOUT:"mouseout",DATA_CHANGED:"dataChanged",DATA_ZOOM:"dataZoom",DATA_RANGE:"dataRange",DATA_RANGE_HOVERLINK:"dataRangeHoverLink",LEGEND_SELECTED:"legendSelected",LEGEND_HOVERLINK:"legendHoverLink",MAP_SELECTED:"mapSelected",PIE_SELECTED:"pieSelected",MAGIC_TYPE_CHANGED:"magicTypeChanged",DATA_VIEW_CHANGED:"dataViewChanged",TIMELINE_CHANGED:"timelineChanged",MAP_ROAM:"mapRoam",FORCE_LAYOUT_END:"forceLayoutEnd",TOOLTIP_HOVER:"tooltipHover",TOOLTIP_IN_GRID:"tooltipInGrid",TOOLTIP_OUT_GRID:"tooltipOutGrid",ROAMCONTROLLER:"roamController"},DRAG_ENABLE_TIME:120,EFFECT_ZLEVEL:7,symbolList:["circle","rectangle","triangle","diamond","emptyCircle","emptyRectangle","emptyTriangle","emptyDiamond"],loadingText:"Loading...",calculable:!1,calculableColor:"rgba(255,165,0,0.6)",calculableHolderColor:"#ccc",nameConnector:" & ",valueConnector:": ",animation:!0,addDataAnimation:!0,animationThreshold:2000,animationDuration:2000,animationEasing:"ExponentialOut"};return a}),define("zrender/tool/util",["require","../dep/excanvas"],function(E){function k(h){if("object"==typeof h&&null!==h){var d=h;if(h instanceof Array){d=[];for(var m=0,c=h.length;c>m;m++){d[m]=k(h[m])}}else{if(!b[Object.prototype.toString.call(h)]){d={};for(var l in h){h.hasOwnProperty(l)&&(d[l]=k(h[l]))}}}return d}return h}function C(l,h,d,c){h.hasOwnProperty(d)&&("object"!=typeof l[d]||b[Object.prototype.toString.call(l[d])]?!c&&d in l||(l[d]=h[d]):z(l[d],h[d],c))}function z(h,d,i){for(var c in d){C(h,d,c,i)}return h}function H(){if(!F){if(E("../dep/excanvas"),window.G_vmlCanvasManager){var a=document.createElement("div");a.style.position="absolute",a.style.top="-1000px",document.body.appendChild(a),F=G_vmlCanvasManager.initElement(a).getContext("2d")}else{F=document.createElement("canvas").getContext("2d")}}return F}function x(){return G||(A=document.createElement("canvas"),w=A.width,j=A.height,G=A.getContext("2d")),G}function v(d,c){var a,h=100;d+f>w&&(w=d+f+h,A.width=w,a=!0),c+g>j&&(j=c+g+h,A.height=j,a=!0),-f>d&&(f=Math.ceil(-d/h)*h,w+=f,A.width=w,a=!0),-g>c&&(g=Math.ceil(-c/h)*h,j+=g,A.height=j,a=!0),a&&G.translate(f,g)}function q(){return{x:f,y:g}}function B(d,c){if(d.indexOf){return d.indexOf(c)}for(var a=0,h=d.length;h>a;a++){if(d[a]===c){return a}}return -1}function D(l,h){function d(){}var m=l.prototype;d.prototype=h.prototype,l.prototype=new d;for(var c in m){l.prototype[c]=m[c]}l.constructor=l}var F,A,G,w,j,b={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},f=0,g=0;return{inherits:D,clone:k,merge:z,getContext:H,getPixelContext:x,getPixelOffset:q,adjustCanvasSize:v,indexOf:B}}),define("zrender/tool/event",["require","../mixin/Eventful"],function(f){function d(a){return"undefined"!=typeof a.zrenderX&&a.zrenderX||"undefined"!=typeof a.offsetX&&a.offsetX||"undefined"!=typeof a.layerX&&a.layerX||"undefined"!=typeof a.clientX&&a.clientX}function c(a){return"undefined"!=typeof a.zrenderY&&a.zrenderY||"undefined"!=typeof a.offsetY&&a.offsetY||"undefined"!=typeof a.layerY&&a.layerY||"undefined"!=typeof a.clientY&&a.clientY}function h(a){return"undefined"!=typeof a.zrenderDelta&&a.zrenderDelta||"undefined"!=typeof a.wheelDelta&&a.wheelDelta||"undefined"!=typeof a.detail&&-a.detail}var b=f("../mixin/Eventful"),g="function"==typeof window.addEventListener?function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0}:function(a){a.returnValue=!1,a.cancelBubble=!0};return{getX:d,getY:c,getDelta:h,stop:g,Dispatcher:b}}),define("zrender/tool/env",[],function(){function a(J){var w=this.os={},F=this.browser={},C=J.match(/Web[kK]it[\/]{0,1}([\d.]+)/),N=J.match(/(Android);?[\s\/]+([\d.]+)?/),B=J.match(/(iPad).*OS\s([\d_]+)/),z=J.match(/(iPod)(.*OS\s([\d_]+))?/),x=!B&&J.match(/(iPhone\sOS)\s([\d_]+)/),E=J.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),G=E&&J.match(/TouchPad/),K=J.match(/Kindle\/([\d.]+)/),D=J.match(/Silk\/([\d._]+)/),L=J.match(/(BlackBerry).*Version\/([\d.]+)/),A=J.match(/(BB10).*Version\/([\d.]+)/),v=J.match(/(RIM\sTablet\sOS)\s([\d.]+)/),j=J.match(/PlayBook/),k=J.match(/Chrome\/([\d.]+)/)||J.match(/CriOS\/([\d.]+)/),q=J.match(/Firefox\/([\d.]+)/),H=J.match(/MSIE ([\d.]+)/),I=C&&J.match(/Mobile\//)&&!k,M=J.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!k,H=J.match(/MSIE\s([\d.]+)/);return(F.webkit=!!C)&&(F.version=C[1]),N&&(w.android=!0,w.version=N[2]),x&&!z&&(w.ios=w.iphone=!0,w.version=x[2].replace(/_/g,".")),B&&(w.ios=w.ipad=!0,w.version=B[2].replace(/_/g,".")),z&&(w.ios=w.ipod=!0,w.version=z[3]?z[3].replace(/_/g,"."):null),E&&(w.webos=!0,w.version=E[2]),G&&(w.touchpad=!0),L&&(w.blackberry=!0,w.version=L[2]),A&&(w.bb10=!0,w.version=A[2]),v&&(w.rimtabletos=!0,w.version=v[2]),j&&(F.playbook=!0),K&&(w.kindle=!0,w.version=K[1]),D&&(F.silk=!0,F.version=D[1]),!D&&w.android&&J.match(/Kindle Fire/)&&(F.silk=!0),k&&(F.chrome=!0,F.version=k[1]),q&&(F.firefox=!0,F.version=q[1]),H&&(F.ie=!0,F.version=H[1]),I&&(J.match(/Safari/)||w.ios)&&(F.safari=!0),M&&(F.webview=!0),H&&(F.ie=!0,F.version=H[1]),w.tablet=!!(B||j||N&&!J.match(/Mobile/)||q&&J.match(/Tablet/)||H&&!J.match(/Phone/)&&J.match(/Touch/)),w.phone=!(w.tablet||w.ipod||!(N||x||E||L||A||k&&J.match(/Android/)||k&&J.match(/CriOS\/([\d.]+)/)||q&&J.match(/Mobile/)||H&&J.match(/Touch/))),{browser:F,os:w,canvasSupported:document.createElement("canvas").getContext?!0:!1}}return a(navigator.userAgent)}),define("zrender",["zrender/zrender"],function(a){return a}),define("zrender/zrender",["require","./dep/excanvas","./tool/util","./tool/log","./tool/guid","./Handler","./Painter","./Storage","./animation/Animation","./tool/env"],function(q){function w(a){return function(){for(var e=a.animatingElements,d=0,h=e.length;h>d;d++){a.storage.mod(e[d].id)}(e.length||a._needsRefreshNextFrame)&&a.refresh()}}q("./dep/excanvas");var k=q("./tool/util"),f=q("./tool/log"),v=q("./tool/guid"),c=q("./Handler"),b=q("./Painter"),x=q("./Storage"),j=q("./animation/Animation"),p={},u={};u.version="2.0.6",u.init=function(d){var a=new g(v(),d);return p[a.id]=a,a},u.dispose=function(d){if(d){d.dispose()}else{for(var a in p){p[a].dispose()}p={}}return u},u.getInstance=function(a){return p[a]},u.delInstance=function(a){return delete p[a],u};var g=function(e,h){this.id=e,this.env=q("./tool/env"),this.storage=new x,this.painter=new b(h,this.storage),this.handler=new c(h,this.storage,this.painter),this.animatingElements=[],this.animation=new j({stage:{update:w(this)}}),this.animation.start();var d=this;this.painter.refreshNextFrame=function(){d.refreshNextFrame()},this._needsRefreshNextFrame=!1};return g.prototype.getId=function(){return this.id},g.prototype.addShape=function(a){return this.storage.addRoot(a),this},g.prototype.addGroup=function(a){return this.storage.addRoot(a),this},g.prototype.delShape=function(a){return this.storage.delRoot(a),this},g.prototype.delGroup=function(a){return this.storage.delRoot(a),this},g.prototype.modShape=function(d,a){return this.storage.mod(d,a),this},g.prototype.modGroup=function(d,a){return this.storage.mod(d,a),this},g.prototype.modLayer=function(d,a){return this.painter.modLayer(d,a),this},g.prototype.addHoverShape=function(a){return this.storage.addHover(a),this},g.prototype.render=function(a){return this.painter.render(a),this._needsRefreshNextFrame=!1,this},g.prototype.refresh=function(a){return this.painter.refresh(a),this._needsRefreshNextFrame=!1,this},g.prototype.refreshNextFrame=function(){return this._needsRefreshNextFrame=!0,this},g.prototype.refreshHover=function(a){return this.painter.refreshHover(a),this},g.prototype.refreshShapes=function(d,a){return this.painter.refreshShapes(d,a),this},g.prototype.resize=function(){return this.painter.resize(),this},g.prototype.animate=function(z,C,B){if("string"==typeof z&&(z=this.storage.get(z)),z){var m;if(C){for(var i=C.split("."),D=z,n=0,y=i.length;y>n;n++){D&&(D=D[i[n]])}D&&(m=D)}else{m=z}if(!m){return void f('Property "'+C+'" is not existed in element '+z.id)}var A=this.animatingElements;return"undefined"==typeof z.__aniCount&&(z.__aniCount=0),0===z.__aniCount&&A.push(z),z.__aniCount++,this.animation.animate(m,{loop:B}).done(function(){if(z.__aniCount--,0===z.__aniCount){var a=k.indexOf(A,z);A.splice(a,1)}})}f("Element not existed")},g.prototype.clearAnimation=function(){this.animation.clear()},g.prototype.showLoading=function(a){return this.painter.showLoading(a),this},g.prototype.hideLoading=function(){return this.painter.hideLoading(),this},g.prototype.getWidth=function(){return this.painter.getWidth()},g.prototype.getHeight=function(){return this.painter.getHeight()},g.prototype.toDataURL=function(h,d,a){return this.painter.toDataURL(h,d,a)},g.prototype.shapeToImage=function(h,d,a){var l=v();return this.painter.shapeToImage(l,h,d,a)},g.prototype.on=function(d,a){return this.handler.on(d,a),this},g.prototype.un=function(d,a){return this.handler.un(d,a),this},g.prototype.trigger=function(d,a){return this.handler.trigger(d,a),this},g.prototype.clear=function(){return this.storage.delRoot(),this.painter.clear(),this},g.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.animatingElements=this.storage=this.painter=this.handler=null,u.delInstance(this.id)},u}),define("zrender/config",[],function(){var a={EVENT:{RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",MOUSEWHEEL:"mousewheel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",GLOBALOUT:"globalout",DRAGSTART:"dragstart",DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",touchClickDelay:300},catchBrushException:!1,debugMode:0};return a}),define("echarts/chart/island",["require","../component/base","./base","zrender/shape/Circle","../config","../util/ecData","zrender/tool/util","zrender/tool/event","zrender/tool/color","../util/accMath","../chart"],function(h){function k(q,l,i,r,p){g.call(this,q,l,i,{},p),d.call(this),this._nameConnector,this._valueConnector,this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth();var n=this;n.shapeHandler.onmousewheel=function(y){var w=y.target,v=y.event,A=f.getDelta(v);A=A>0?-1:1,w.style.r-=A,w.style.r=w.style.r<5?5:w.style.r;var u=b.get(w,"value"),z=u*n.option.island.calculateStep;u=z>1?Math.round(u-z*A):(u-z*A).toFixed(2)-0;var x=b.get(w,"name");w.style.text=x+":"+u,b.set(w,"value",u),b.set(w,"name",x),n.zr.modShape(w.id),n.zr.refresh(),f.stop(v)}}var g=h("../component/base"),d=h("./base"),j=h("zrender/shape/Circle"),c=h("../config"),b=h("../util/ecData"),m=h("zrender/tool/util"),f=h("zrender/tool/event");return k.prototype={type:c.CHART_TYPE_ISLAND,_combine:function(p,l){var u=h("zrender/tool/color"),e=h("../util/accMath"),r=e.accAdd(b.get(p,"value"),b.get(l,"value")),q=b.get(p,"name")+this._nameConnector+b.get(l,"name");p.style.text=q+this._valueConnector+r,b.set(p,"value",r),b.set(p,"name",q),p.style.r=this.option.island.r,p.style.color=u.mix(p.style.color,l.style.color)},refresh:function(a){a&&(a.island=this.reformOption(a.island),this.option=a,this._nameConnector=this.option.nameConnector,this._valueConnector=this.option.valueConnector)},getOption:function(){return this.option},resize:function(){var r=this.zr.getWidth(),q=this.zr.getHeight(),p=r/(this._zrWidth||r),u=q/(this._zrHeight||q);if(1!==p||1!==u){this._zrWidth=r,this._zrHeight=q;for(var l=0,s=this.shapeList.length;s>l;l++){this.zr.modShape(this.shapeList[l].id,{style:{x:Math.round(this.shapeList[l].style.x*p),y:Math.round(this.shapeList[l].style.y*u)}})}}},add:function(q){var l=b.get(q,"name"),a=b.get(q,"value"),u=null!=b.get(q,"series")?b.get(q,"series").name:"",r=this.getFont(this.option.island.textStyle),p={zlevel:this._zlevelBase,style:{x:q.style.x,y:q.style.y,r:this.option.island.r,color:q.style.color||q.style.strokeColor,text:l+this._valueConnector+a,textFont:r},draggable:!0,hoverable:!0,onmousewheel:this.shapeHandler.onmousewheel,_type:"island"};"#fff"===p.style.color&&(p.style.color=q.style.strokeColor),this.setCalculable(p),p.dragEnableTime=0,b.pack(p,{name:u},-1,a,-1,l),p=new j(p),this.shapeList.push(p),this.zr.addShape(p)},del:function(o){this.zr.delShape(o.id);for(var l=[],a=0,p=this.shapeList.length;p>a;a++){this.shapeList[a].id!=o.id&&l.push(this.shapeList[a])}this.shapeList=l},ondrop:function(o,l){if(this.isDrop&&o.target){var a=o.target,p=o.dragged;this._combine(a,p),this.zr.modShape(a.id),l.dragIn=!0,this.isDrop=!1}},ondragend:function(n,l){var a=n.target;this.isDragend?l.dragIn&&(this.del(a),l.needRefresh=!0):l.dragIn||(a.style.x=f.getX(n.event),a.style.y=f.getY(n.event),this.add(a),l.needRefresh=!0),this.isDragend=!1}},m.inherits(k,d),m.inherits(k,g),h("../chart").define("island",k),k}),define("echarts/component/toolbox",["require","./base","zrender/shape/Line","zrender/shape/Image","zrender/shape/Rectangle","../util/shape/Icon","../config","zrender/tool/util","zrender/config","zrender/tool/event","./dataView","../component"],function(u){function y(i,d,m,c,l){p.call(this,i,d,m,c,l),this.dom=l.dom,this._magicType={},this._magicMap={},this._isSilence=!1,this._iconList,this._iconShapeMap={},this._featureTitle={},this._featureIcon={},this._featureColor={},this._featureOption={},this._enableColor="red",this._disableColor="#ccc",this._markShapeList=[];var h=this;h._onMark=function(a){h.__onMark(a)},h._onMarkUndo=function(a){h.__onMarkUndo(a)},h._onMarkClear=function(a){h.__onMarkClear(a)},h._onDataZoom=function(a){h.__onDataZoom(a)},h._onDataZoomReset=function(a){h.__onDataZoomReset(a)},h._onDataView=function(a){h.__onDataView(a)},h._onRestore=function(a){h.__onRestore(a)},h._onSaveAsImage=function(a){h.__onSaveAsImage(a)},h._onMagicType=function(a){h.__onMagicType(a)},h._onCustomHandler=function(a){h.__onCustomHandler(a)},h._onmousemove=function(a){return h.__onmousemove(a)},h._onmousedown=function(a){return h.__onmousedown(a)},h._onmouseup=function(a){return h.__onmouseup(a)},h._onclick=function(a){return h.__onclick(a)}}var p=u("./base"),g=u("zrender/shape/Line"),x=u("zrender/shape/Image"),f=u("zrender/shape/Rectangle"),b=u("../util/shape/Icon"),z=u("../config"),k=u("zrender/tool/util"),q=u("zrender/config"),v=u("zrender/tool/event"),j="stack",w="tiled";return y.prototype={type:z.COMPONENT_TYPE_TOOLBOX,_buildShape:function(){this._iconList=[];var m=this.option.toolbox;this._enableColor=m.effectiveColor,this._disableColor=m.disableColor;var h=m.feature,d=[];for(var A in h){if(h[A].show){switch(A){case"mark":d.push({key:A,name:"mark"}),d.push({key:A,name:"markUndo"}),d.push({key:A,name:"markClear"});break;case"magicType":for(var c=0,s=h[A].type.length;s>c;c++){h[A].title[h[A].type[c]+"Chart"]=h[A].title[h[A].type[c]],h[A].option&&(h[A].option[h[A].type[c]+"Chart"]=h[A].option[h[A].type[c]]),d.push({key:A,name:h[A].type[c]+"Chart"})}break;case"dataZoom":d.push({key:A,name:"dataZoom"}),d.push({key:A,name:"dataZoomReset"});break;case"saveAsImage":this.canvasSupported&&d.push({key:A,name:"saveAsImage"});break;default:d.push({key:A,name:A})}}}if(d.length>0){for(var l,A,c=0,s=d.length;s>c;c++){l=d[c].name,A=d[c].key,this._iconList.push(l),this._featureTitle[l]=h[A].title[l]||h[A].title,h[A].icon&&(this._featureIcon[l]=h[A].icon[l]||h[A].icon),h[A].color&&(this._featureColor[l]=h[A].color[l]||h[A].color),h[A].option&&(this._featureOption[l]=h[A].option[l]||h[A].option)}this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var c=0,s=this.shapeList.length;s>c;c++){this.zr.addShape(this.shapeList[c])}this._iconShapeMap.mark&&(this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear)),this._iconShapeMap.dataZoomReset&&0===this._zoomQueue.length&&this._iconDisable(this._iconShapeMap.dataZoomReset)}},_buildItem:function(){var K,E,r,e,L=this.option.toolbox,D=this._iconList.length,F=this._itemGroupLocation.x,G=this._itemGroupLocation.y,B=L.itemSize,H=L.itemGap,a=L.color instanceof Array?L.color:[L.color],J=this.getFont(L.textStyle);"horizontal"===L.orient?(E=this._itemGroupLocation.y/this.zr.getHeight()<0.5?"bottom":"top",r=this._itemGroupLocation.x/this.zr.getWidth()<0.5?"left":"right",e=this._itemGroupLocation.y/this.zr.getHeight()<0.5?"top":"bottom"):E=this._itemGroupLocation.x/this.zr.getWidth()<0.5?"right":"left",this._iconShapeMap={};for(var A=this,C=0;D>C;C++){switch(K={type:"icon",zlevel:this._zlevelBase,style:{x:F,y:G,width:B,height:B,iconType:this._iconList[C],lineWidth:1,strokeColor:this._featureColor[this._iconList[C]]||a[C%a.length],brushType:"stroke"},highlightStyle:{lineWidth:1,text:L.showTitle?this._featureTitle[this._iconList[C]]:void 0,textFont:J,textPosition:E,strokeColor:this._featureColor[this._iconList[C]]||a[C%a.length]},hoverable:!0,clickable:!0},this._featureIcon[this._iconList[C]]&&(K.style.image=this._featureIcon[this._iconList[C]].replace(new RegExp("^image:\\/\\/"),""),K.style.opacity=0.8,K.highlightStyle.opacity=1,K.type="image"),"horizontal"===L.orient&&(0===C&&"left"===r&&(K.highlightStyle.textPosition="specific",K.highlightStyle.textAlign=r,K.highlightStyle.textBaseline=e,K.highlightStyle.textX=F,K.highlightStyle.textY="top"===e?G+B+10:G-10),C===D-1&&"right"===r&&(K.highlightStyle.textPosition="specific",K.highlightStyle.textAlign=r,K.highlightStyle.textBaseline=e,K.highlightStyle.textX=F+B,K.highlightStyle.textY="top"===e?G+B+10:G-10)),this._iconList[C]){case"mark":K.onclick=A._onMark;break;case"markUndo":K.onclick=A._onMarkUndo;break;case"markClear":K.onclick=A._onMarkClear;break;case"dataZoom":K.onclick=A._onDataZoom;break;case"dataZoomReset":K.onclick=A._onDataZoomReset;break;case"dataView":if(!this._dataView){var I=u("./dataView");this._dataView=new I(this.ecTheme,this.messageCenter,this.zr,this.option,this.myChart)}K.onclick=A._onDataView;break;case"restore":K.onclick=A._onRestore;break;case"saveAsImage":K.onclick=A._onSaveAsImage;break;default:this._iconList[C].match("Chart")?(K._name=this._iconList[C].replace("Chart",""),K.onclick=A._onMagicType):K.onclick=A._onCustomHandler}"icon"===K.type?K=new b(K):"image"===K.type&&(K=new x(K)),this.shapeList.push(K),this._iconShapeMap[this._iconList[C]]=K,"horizontal"===L.orient?F+=B+H:G+=B+H}},_buildBackground:function(){var c=this.option.toolbox,a=this.reformCssArray(this.option.toolbox.padding);this.shapeList.push(new f({zlevel:this._zlevelBase,hoverable:!1,style:{x:this._itemGroupLocation.x-a[3],y:this._itemGroupLocation.y-a[0],width:this._itemGroupLocation.width+a[3]+a[1],height:this._itemGroupLocation.height+a[0]+a[2],brushType:0===c.borderWidth?"fill":"both",color:c.backgroundColor,strokeColor:c.borderColor,lineWidth:c.borderWidth}}))},_getItemGroupLocation:function(){var E=this.option.toolbox,H=this.reformCssArray(this.option.toolbox.padding),C=this._iconList.length,A=E.itemGap,G=E.itemSize,m=0,c=0;"horizontal"===E.orient?(m=(G+A)*C-A,c=G):(c=(G+A)*C-A,m=G);var I,B=this.zr.getWidth();switch(E.x){case"center":I=Math.floor((B-m)/2);break;case"left":I=H[3]+E.borderWidth;break;case"right":I=B-m-H[1]-E.borderWidth;break;default:I=E.x-0,I=isNaN(I)?0:I}var D,F=this.zr.getHeight();switch(E.y){case"top":D=H[0]+E.borderWidth;break;case"bottom":D=F-c-H[2]-E.borderWidth;break;case"center":D=Math.floor((F-c)/2);break;default:D=E.y-0,D=isNaN(D)?0:D}return{x:I,y:D,width:m,height:c}},__onmousemove:function(a){this._marking&&(this._markShape.style.xEnd=v.getX(a.event),this._markShape.style.yEnd=v.getY(a.event),this.zr.addHoverShape(this._markShape)),this._zooming&&(this._zoomShape.style.width=v.getX(a.event)-this._zoomShape.style.x,this._zoomShape.style.height=v.getY(a.event)-this._zoomShape.style.y,this.zr.addHoverShape(this._zoomShape),this.dom.style.cursor="crosshair"),this._zoomStart&&"pointer"!=this.dom.style.cursor&&"move"!=this.dom.style.cursor&&(this.dom.style.cursor="crosshair")},__onmousedown:function(d){if(!d.target){this._zooming=!0;var c=v.getX(d.event),a=v.getY(d.event),h=this.option.dataZoom||{};return this._zoomShape=new f({zlevel:this._zlevelBase,style:{x:c,y:a,width:1,height:1,brushType:"both"},highlightStyle:{lineWidth:2,color:h.fillerColor||z.dataZoom.fillerColor,strokeColor:h.handleColor||z.dataZoom.handleColor,brushType:"both"}}),this.zr.addHoverShape(this._zoomShape),!0}},__onmouseup:function(){if(!this._zoomShape||Math.abs(this._zoomShape.style.width)<10||Math.abs(this._zoomShape.style.height)<10){return this._zooming=!1,!0}if(this._zooming&&this.component.dataZoom){this._zooming=!1;var a=this.component.dataZoom.rectZoom(this._zoomShape.style);a&&(this._zoomQueue.push({start:a.start,end:a.end,start2:a.start2,end2:a.end2}),this._iconEnable(this._iconShapeMap.dataZoomReset),this.zr.refresh())}return !0},__onclick:function(d){if(!d.target){if(this._marking){this._marking=!1,this._markShapeList.push(this._markShape),this._iconEnable(this._iconShapeMap.markUndo),this._iconEnable(this._iconShapeMap.markClear),this.zr.addShape(this._markShape),this.zr.refresh()}else{if(this._markStart){this._marking=!0;var c=v.getX(d.event),a=v.getY(d.event);this._markShape=new g({zlevel:this._zlevelBase,style:{xStart:c,yStart:a,xEnd:c,yEnd:a,lineWidth:this.query(this.option,"toolbox.feature.mark.lineStyle.width"),strokeColor:this.query(this.option,"toolbox.feature.mark.lineStyle.color"),lineType:this.query(this.option,"toolbox.feature.mark.lineStyle.type")}}),this.zr.addHoverShape(this._markShape)}}}},__onMark:function(d){var c=d.target;if(this._marking||this._markStart){this._resetMark(),this.zr.refresh()}else{this._resetZoom(),this.zr.modShape(c.id,{style:{strokeColor:this._enableColor}}),this.zr.refresh(),this._markStart=!0;var a=this;setTimeout(function(){a.zr&&a.zr.on(q.EVENT.CLICK,a._onclick)&&a.zr.on(q.EVENT.MOUSEMOVE,a._onmousemove)},10)}return !0},__onMarkUndo:function(){if(this._marking){this._marking=!1}else{var c=this._markShapeList.length;if(c>=1){var a=this._markShapeList[c-1];this.zr.delShape(a.id),this.zr.refresh(),this._markShapeList.pop(),1===c&&(this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear))}}return !0},__onMarkClear:function(){this._marking&&(this._marking=!1);var a=this._markShapeList.length;if(a>0){for(;a--;){this.zr.delShape(this._markShapeList.pop().id)}this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear),this.zr.refresh()}return !0},__onDataZoom:function(d){var c=d.target;if(this._zooming||this._zoomStart){this._resetZoom(),this.zr.refresh(),this.dom.style.cursor="default"}else{this._resetMark(),this.zr.modShape(c.id,{style:{strokeColor:this._enableColor}}),this.zr.refresh(),this._zoomStart=!0;var a=this;setTimeout(function(){a.zr&&a.zr.on(q.EVENT.MOUSEDOWN,a._onmousedown)&&a.zr.on(q.EVENT.MOUSEUP,a._onmouseup)&&a.zr.on(q.EVENT.MOUSEMOVE,a._onmousemove)},10),this.dom.style.cursor="crosshair"}return !0},__onDataZoomReset:function(){return this._zooming&&(this._zooming=!1),this._zoomQueue.pop(),this._zoomQueue.length>0?this.component.dataZoom.absoluteZoom(this._zoomQueue[this._zoomQueue.length-1]):(this.component.dataZoom.rectZoom(),this._iconDisable(this._iconShapeMap.dataZoomReset),this.zr.refresh()),!0},_resetMark:function(){this._marking=!1,this._markStart&&(this._markStart=!1,this._iconShapeMap.mark&&this.zr.modShape(this._iconShapeMap.mark.id,{style:{strokeColor:this._iconShapeMap.mark.highlightStyle.strokeColor}}),this.zr.un(q.EVENT.CLICK,this._onclick),this.zr.un(q.EVENT.MOUSEMOVE,this._onmousemove))},_resetZoom:function(){this._zooming=!1,this._zoomStart&&(this._zoomStart=!1,this._iconShapeMap.dataZoom&&this.zr.modShape(this._iconShapeMap.dataZoom.id,{style:{strokeColor:this._iconShapeMap.dataZoom.highlightStyle.strokeColor}}),this.zr.un(q.EVENT.MOUSEDOWN,this._onmousedown),this.zr.un(q.EVENT.MOUSEUP,this._onmouseup),this.zr.un(q.EVENT.MOUSEMOVE,this._onmousemove))},_iconDisable:function(a){"image"!=a.type?this.zr.modShape(a.id,{hoverable:!1,clickable:!1,style:{strokeColor:this._disableColor}}):this.zr.modShape(a.id,{hoverable:!1,clickable:!1,style:{opacity:0.3}})},_iconEnable:function(a){"image"!=a.type?this.zr.modShape(a.id,{hoverable:!0,clickable:!0,style:{strokeColor:a.highlightStyle.strokeColor}}):this.zr.modShape(a.id,{hoverable:!0,clickable:!0,style:{opacity:0.8}})},__onDataView:function(){return this._dataView.show(this.option),!0},__onRestore:function(){return this._resetMark(),this._resetZoom(),this.messageCenter.dispatch(z.EVENT.RESTORE,null,null,this.myChart),!0},__onSaveAsImage:function(){var l=this.option.toolbox.feature.saveAsImage,h=l.type||"png";"png"!=h&&"jpeg"!=h&&(h="png");var d;d=this.myChart.isConnected()?this.myChart.getConnectedDataURL(h):this.zr.toDataURL("image/"+h,this.option.backgroundColor&&"rgba(0,0,0,0)"===this.option.backgroundColor.replace(" ","")?"#fff":this.option.backgroundColor);var m=document.createElement("div");m.id="__echarts_download_wrap__",m.style.cssText="position:fixed;z-index:99999;display:block;top:0;left:0;background-color:rgba(33,33,33,0.5);text-align:center;width:100%;height:100%;line-height:"+document.documentElement.clientHeight+"px;";var c=document.createElement("a");c.href=d,c.setAttribute("download",(l.name?l.name:this.option.title&&(this.option.title.text||this.option.title.subtext)?this.option.title.text||this.option.title.subtext:"ECharts")+"."+h),c.innerHTML='<img style="vertical-align:middle" src="'+d+'" title="'+(window.attachEvent&&-1===navigator.userAgent.indexOf("Opera")?"右键->图片另存为":l.lang?l.lang[0]:"点击保存")+'"/>',m.appendChild(c),document.body.appendChild(m),c=null,m=null,setTimeout(function(){var a=document.getElementById("__echarts_download_wrap__");a&&(a.onclick=function(){var i=document.getElementById("__echarts_download_wrap__");i.onclick=null,i.innerHTML="",document.body.removeChild(i),i=null},a=null)},500)},__onMagicType:function(c){this._resetMark();var a=c.target._name;return this._magicType[a]||(this._magicType[a]=!0,a===z.CHART_TYPE_LINE?this._magicType[z.CHART_TYPE_BAR]=!1:a===z.CHART_TYPE_BAR&&(this._magicType[z.CHART_TYPE_LINE]=!1),a===z.CHART_TYPE_PIE?this._magicType[z.CHART_TYPE_FUNNEL]=!1:a===z.CHART_TYPE_FUNNEL&&(this._magicType[z.CHART_TYPE_PIE]=!1),a===z.CHART_TYPE_FORCE?this._magicType[z.CHART_TYPE_CHORD]=!1:a===z.CHART_TYPE_CHORD&&(this._magicType[z.CHART_TYPE_FORCE]=!1),a===j?this._magicType[w]=!1:a===w&&(this._magicType[j]=!1),this.messageCenter.dispatch(z.EVENT.MAGIC_TYPE_CHANGED,c.event,{magicType:this._magicType},this.myChart)),!0},setMagicType:function(a){this._resetMark(),this._magicType=a,!this._isSilence&&this.messageCenter.dispatch(z.EVENT.MAGIC_TYPE_CHANGED,null,{magicType:this._magicType},this.myChart)},__onCustomHandler:function(d){var c=d.target.style.iconType,a=this.option.toolbox.feature[c].onclick;"function"==typeof a&&a.call(this,this.option)},reset:function(C,F){if(F&&this.clear(),this.query(C,"toolbox.show")&&this.query(C,"toolbox.feature.magicType.show")){var A=C.toolbox.feature.magicType.type,m=A.length;for(this._magicMap={};m--;){this._magicMap[A[m]]=!0}m=C.series.length;for(var E,l;m--;){E=C.series[m].type,this._magicMap[E]&&(l=C.xAxis instanceof Array?C.xAxis[C.series[m].xAxisIndex||0]:C.xAxis,l&&"category"===(l.type||"category")&&(l.__boundaryGap=null!=l.boundaryGap?l.boundaryGap:!0),l=C.yAxis instanceof Array?C.yAxis[C.series[m].yAxisIndex||0]:C.yAxis,l&&"category"===l.type&&(l.__boundaryGap=null!=l.boundaryGap?l.boundaryGap:!0),C.series[m].__type=E,C.series[m].__itemStyle=k.clone(C.series[m].itemStyle||{})),(this._magicMap[j]||this._magicMap[w])&&(C.series[m].__stack=C.series[m].stack)}}this._magicType=F?{}:this._magicType||{};for(var c in this._magicType){if(this._magicType[c]){this.option=C,this.getMagicOption();break}}var G=C.dataZoom;if(G&&G.show){var B=null!=G.start&&G.start>=0&&G.start<=100?G.start:0,D=null!=G.end&&G.end>=0&&G.end<=100?G.end:100;B>D&&(B+=D,D=B-D,B-=D),this._zoomQueue=[{start:B,end:D,start2:0,end2:100}]}else{this._zoomQueue=[]}},getMagicOption:function(){var l,h;if(this._magicType[z.CHART_TYPE_LINE]||this._magicType[z.CHART_TYPE_BAR]){for(var d=this._magicType[z.CHART_TYPE_LINE]?!1:!0,m=0,c=this.option.series.length;c>m;m++){h=this.option.series[m].type,(h==z.CHART_TYPE_LINE||h==z.CHART_TYPE_BAR)&&(l=this.option.xAxis instanceof Array?this.option.xAxis[this.option.series[m].xAxisIndex||0]:this.option.xAxis,l&&"category"===(l.type||"category")&&(l.boundaryGap=d?!0:l.__boundaryGap),l=this.option.yAxis instanceof Array?this.option.yAxis[this.option.series[m].yAxisIndex||0]:this.option.yAxis,l&&"category"===l.type&&(l.boundaryGap=d?!0:l.__boundaryGap))}this._defaultMagic(z.CHART_TYPE_LINE,z.CHART_TYPE_BAR)}if(this._defaultMagic(z.CHART_TYPE_CHORD,z.CHART_TYPE_FORCE),this._defaultMagic(z.CHART_TYPE_PIE,z.CHART_TYPE_FUNNEL),this._magicType[j]||this._magicType[w]){for(var m=0,c=this.option.series.length;c>m;m++){this._magicType[j]?(this.option.series[m].stack="_ECHARTS_STACK_KENER_2014_",h=j):this._magicType[w]&&(this.option.series[m].stack=null,h=w),this._featureOption[h+"Chart"]&&k.merge(this.option.series[m],this._featureOption[h+"Chart"]||{},!0)}}return this.option},_defaultMagic:function(l,h){if(this._magicType[l]||this._magicType[h]){for(var d=0,m=this.option.series.length;m>d;d++){var c=this.option.series[d].type;(c==l||c==h)&&(this.option.series[d].type=this._magicType[l]?l:h,this.option.series[d].itemStyle=k.clone(this.option.series[d].__itemStyle),c=this.option.series[d].type,this._featureOption[c+"Chart"]&&k.merge(this.option.series[d],this._featureOption[c+"Chart"]||{},!0))}}},silence:function(a){this._isSilence=a},resize:function(){this._resetMark(),this.clear(),this.option&&this.option.toolbox&&this.option.toolbox.show&&this._buildShape(),this._dataView&&this._dataView.resize()},hideDataView:function(){this._dataView&&this._dataView.hide()},clear:function(a){this.zr&&(this.zr.delShape(this.shapeList),this.shapeList=[],a||(this.zr.delShape(this._markShapeList),this._markShapeList=[]))},onbeforDispose:function(){this._dataView&&(this._dataView.dispose(),this._dataView=null),this._markShapeList=null},refresh:function(a){a&&(this._resetMark(),this._resetZoom(),a.toolbox=this.reformOption(a.toolbox),this.option=a,this.clear(!0),a.toolbox.show&&this._buildShape(),this.hideDataView())}},k.inherits(y,p),u("../component").define("toolbox",y),y}),define("echarts/component",[],function(){var b={},a={};return b.define=function(c,d){return a[c]=d,b},b.get=function(c){return a[c]},b}),define("echarts/component/title",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","zrender/tool/color","../component"],function(h){function k(p,l,r,i,q){g.call(this,p,l,r,i,q),this.refresh(i)}var g=h("./base"),d=h("zrender/shape/Text"),j=h("zrender/shape/Rectangle"),c=h("../config"),b=h("zrender/tool/util"),m=h("zrender/tool/area"),f=h("zrender/tool/color");return k.prototype={type:c.COMPONENT_TYPE_TITLE,_buildShape:function(){this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var i=0,a=this.shapeList.length;a>i;i++){this.zr.addShape(this.shapeList[i])}},_buildItem:function(){var z=this.titleOption.text,E=this.titleOption.link,x=this.titleOption.target,C=this.titleOption.subtext,q=this.titleOption.sublink,l=this.titleOption.subtarget,F=this.getFont(this.titleOption.textStyle),y=this.getFont(this.titleOption.subtextStyle),A=this._itemGroupLocation.x,w=this._itemGroupLocation.y,B=this._itemGroupLocation.width,n=this._itemGroupLocation.height,D={zlevel:this._zlevelBase,style:{y:w,color:this.titleOption.textStyle.color,text:z,textFont:F,textBaseline:"top"},highlightStyle:{color:f.lift(this.titleOption.textStyle.color,1),brushType:"fill"},hoverable:!1};E&&(D.hoverable=!0,D.clickable=!0,D.onclick=function(){x&&"self"==x?window.location=E:window.open(E)});var v={zlevel:this._zlevelBase,style:{y:w+n,color:this.titleOption.subtextStyle.color,text:C,textFont:y,textBaseline:"bottom"},highlightStyle:{color:f.lift(this.titleOption.subtextStyle.color,1),brushType:"fill"},hoverable:!1};switch(q&&(v.hoverable=!0,v.clickable=!0,v.onclick=function(){l&&"self"==l?window.location=q:window.open(q)}),this.titleOption.x){case"center":D.style.x=v.style.x=A+B/2,D.style.textAlign=v.style.textAlign="center";break;case"left":D.style.x=v.style.x=A,D.style.textAlign=v.style.textAlign="left";break;case"right":D.style.x=v.style.x=A+B,D.style.textAlign=v.style.textAlign="right";break;default:A=this.titleOption.x-0,A=isNaN(A)?0:A,D.style.x=v.style.x=A}this.titleOption.textAlign&&(D.style.textAlign=v.style.textAlign=this.titleOption.textAlign),this.shapeList.push(new d(D)),""!==C&&this.shapeList.push(new d(v))},_buildBackground:function(){var a=this.reformCssArray(this.titleOption.padding);this.shapeList.push(new j({zlevel:this._zlevelBase,hoverable:!1,style:{x:this._itemGroupLocation.x-a[3],y:this._itemGroupLocation.y-a[0],width:this._itemGroupLocation.width+a[3]+a[1],height:this._itemGroupLocation.height+a[0]+a[2],brushType:0===this.titleOption.borderWidth?"fill":"both",color:this.titleOption.backgroundColor,strokeColor:this.titleOption.borderColor,lineWidth:this.titleOption.borderWidth}}))},_getItemGroupLocation:function(){var y,B=this.reformCssArray(this.titleOption.padding),w=this.titleOption.text,s=this.titleOption.subtext,A=this.getFont(this.titleOption.textStyle),q=this.getFont(this.titleOption.subtextStyle),p=Math.max(m.getTextWidth(w,A),m.getTextWidth(s,q)),v=m.getTextHeight(w,A)+(""===s?0:this.titleOption.itemGap+m.getTextHeight(s,q)),x=this.zr.getWidth();switch(this.titleOption.x){case"center":y=Math.floor((x-p)/2);break;case"left":y=B[3]+this.titleOption.borderWidth;break;case"right":y=x-p-B[1]-this.titleOption.borderWidth;break;default:y=this.titleOption.x-0,y=isNaN(y)?0:y}var z,u=this.zr.getHeight();switch(this.titleOption.y){case"top":z=B[0]+this.titleOption.borderWidth;break;case"bottom":z=u-v-B[2]-this.titleOption.borderWidth;break;case"center":z=Math.floor((u-v)/2);break;default:z=this.titleOption.y-0,z=isNaN(z)?0:z}return{x:y,y:z,width:p,height:v}},refresh:function(a){a&&(this.option=a,this.option.title=this.reformOption(this.option.title),this.titleOption=this.option.title,this.titleOption.textStyle=b.merge(this.titleOption.textStyle,this.ecTheme.textStyle),this.titleOption.subtextStyle=b.merge(this.titleOption.subtextStyle,this.ecTheme.textStyle)),this.clear(),this._buildShape()}},b.inherits(k,g),h("../component").define("title",k),k}),define("echarts/component/tooltip",["require","./base","../util/shape/Cross","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/ecData","zrender/config","zrender/tool/event","zrender/tool/area","zrender/tool/color","zrender/tool/util","zrender/shape/Base","../component"],function(x){function C(i,c,m,h,d){v.call(this,i,c,m,h,d),this.dom=d.dom;var a=this;a._onmousemove=function(l){return a.__onmousemove(l)},a._onglobalout=function(l){return a.__onglobalout(l)},this.zr.on(w.EVENT.MOUSEMOVE,a._onmousemove),this.zr.on(w.EVENT.GLOBALOUT,a._onglobalout),a._hide=function(l){return a.__hide(l)},a._tryShow=function(l){return a.__tryShow(l)},a._refixed=function(l){return a.__refixed(l)},a._setContent=function(n,l){return a.__setContent(n,l)},this._tDom=this._tDom||document.createElement("div"),this._tDom.onselectstart=function(){return !1},this._tDom.onmouseover=function(){a._mousein=!0},this._tDom.onmouseout=function(){a._mousein=!1},this._tDom.style.position="absolute",this.hasAppend=!1,this._axisLineShape&&this.zr.delShape(this._axisLineShape.id),this._axisLineShape=new A({zlevel:this._zlevelBase,invisible:!0,hoverable:!1}),this.shapeList.push(this._axisLineShape),this.zr.addShape(this._axisLineShape),this._axisShadowShape&&this.zr.delShape(this._axisShadowShape.id),this._axisShadowShape=new A({zlevel:1,invisible:!0,hoverable:!1}),this.shapeList.push(this._axisShadowShape),this.zr.addShape(this._axisShadowShape),this._axisCrossShape&&this.zr.delShape(this._axisCrossShape.id),this._axisCrossShape=new j({zlevel:this._zlevelBase,invisible:!0,hoverable:!1}),this.shapeList.push(this._axisCrossShape),this.zr.addShape(this._axisCrossShape),this.showing=!1,this.refresh(h)}var v=x("./base"),j=x("../util/shape/Cross"),A=x("zrender/shape/Line"),g=x("zrender/shape/Rectangle"),b=new g({}),D=x("../config"),q=x("../util/ecData"),w=x("zrender/config"),y=x("zrender/tool/event"),k=x("zrender/tool/area"),z=x("zrender/tool/color"),f=x("zrender/tool/util"),B=x("zrender/shape/Base");return C.prototype={type:D.COMPONENT_TYPE_TOOLTIP,_gCssText:"position:absolute;display:block;border-style:solid;white-space:nowrap;",_style:function(l){if(!l){return""}var h=[];if(l.transitionDuration){var d="left "+l.transitionDuration+"s,top "+l.transitionDuration+"s";h.push("transition:"+d),h.push("-moz-transition:"+d),h.push("-webkit-transition:"+d),h.push("-o-transition:"+d)}l.backgroundColor&&(h.push("background-Color:"+z.toHex(l.backgroundColor)),h.push("filter:alpha(opacity=70)"),h.push("background-Color:"+l.backgroundColor)),null!=l.borderWidth&&h.push("border-width:"+l.borderWidth+"px"),null!=l.borderColor&&h.push("border-color:"+l.borderColor),null!=l.borderRadius&&(h.push("border-radius:"+l.borderRadius+"px"),h.push("-moz-border-radius:"+l.borderRadius+"px"),h.push("-webkit-border-radius:"+l.borderRadius+"px"),h.push("-o-border-radius:"+l.borderRadius+"px"));var m=l.textStyle;m&&(m.color&&h.push("color:"+m.color),m.decoration&&h.push("text-decoration:"+m.decoration),m.align&&h.push("text-align:"+m.align),m.fontFamily&&h.push("font-family:"+m.fontFamily),m.fontSize&&h.push("font-size:"+m.fontSize+"px"),m.fontSize&&h.push("line-height:"+Math.round(3*m.fontSize/2)+"px"),m.fontStyle&&h.push("font-style:"+m.fontStyle),m.fontWeight&&h.push("font-weight:"+m.fontWeight));var c=l.padding;return null!=c&&(c=this.reformCssArray(c),h.push("padding:"+c[0]+"px "+c[1]+"px "+c[2]+"px "+c[3]+"px")),h=h.join(";")+";"},__hide:function(){this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId=-1,this._tDom&&(this._tDom.style.display="none");var a=!1;this._axisLineShape.invisible||(this._axisLineShape.invisible=!0,this.zr.modShape(this._axisLineShape.id),a=!0),this._axisShadowShape.invisible||(this._axisShadowShape.invisible=!0,this.zr.modShape(this._axisShadowShape.id),a=!0),this._axisCrossShape.invisible||(this._axisCrossShape.invisible=!0,this.zr.modShape(this._axisCrossShape.id),a=!0),this._lastTipShape&&this._lastTipShape.tipShape.length>0&&(this.zr.delShape(this._lastTipShape.tipShape),this._lastTipShape=!1,this.shapeList.length=2),a&&this.zr.refresh(),this.showing=!1},_show:function(l,h,d,p){var c=this._tDom.offsetHeight,m=this._tDom.offsetWidth;l&&("function"==typeof l&&(l=l([h,d])),l instanceof Array&&(h=l[0],d=l[1])),h+m>this._zrWidth&&(h-=m+40),d+c>this._zrHeight&&(d-=c-20),20>d&&(d=0),this._tDom.style.cssText=this._gCssText+this._defaultCssText+(p?p:"")+"left:"+h+"px;top:"+d+"px;",(10>c||10>m)&&setTimeout(this._refixed,20),this.showing=!0},__refixed:function(){if(this._tDom){var d="",c=this._tDom.offsetHeight,a=this._tDom.offsetWidth;this._tDom.offsetLeft+a>this._zrWidth&&(d+="left:"+(this._zrWidth-a-20)+"px;"),this._tDom.offsetTop+c>this._zrHeight&&(d+="top:"+(this._zrHeight-c-10)+"px;"),""!==d&&(this._tDom.style.cssText+=d)}},__tryShow:function(){var d,c;if(this._curTarget){if("island"===this._curTarget._type&&this.option.tooltip.show){return void this._showItemTrigger()}var a=q.get(this._curTarget,"series"),h=q.get(this._curTarget,"data");d=this.deepQuery([h,a,this.option],"tooltip.show"),null!=a&&null!=h&&d?(c=this.deepQuery([h,a,this.option],"tooltip.trigger"),"axis"===c?this._showAxisTrigger(a.xAxisIndex,a.yAxisIndex,q.get(this._curTarget,"dataIndex")):this._showItemTrigger()):(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._hidingTicket=setTimeout(this._hide,this._hideDelay))}else{this._findPolarTrigger()||this._findAxisTrigger()}},_findAxisTrigger:function(){if(!this.component.xAxis||!this.component.yAxis){return void (this._hidingTicket=setTimeout(this._hide,this._hideDelay))}for(var l,h,d=this.option.series,m=0,c=d.length;c>m;m++){if("axis"===this.deepQuery([d[m],this.option],"tooltip.trigger")){return l=d[m].xAxisIndex||0,h=d[m].yAxisIndex||0,this.component.xAxis.getAxis(l)&&this.component.xAxis.getAxis(l).type===D.COMPONENT_TYPE_AXIS_CATEGORY?void this._showAxisTrigger(l,h,this._getNearestDataIndex("x",this.component.xAxis.getAxis(l))):this.component.yAxis.getAxis(h)&&this.component.yAxis.getAxis(h).type===D.COMPONENT_TYPE_AXIS_CATEGORY?void this._showAxisTrigger(l,h,this._getNearestDataIndex("y",this.component.yAxis.getAxis(h))):void this._showAxisTrigger(l,h,-1)}}"cross"===this.option.tooltip.axisPointer.type&&this._showAxisTrigger(-1,-1,-1)},_findPolarTrigger:function(){if(!this.component.polar){return !1}var d,c=y.getX(this._event),a=y.getY(this._event),h=this.component.polar.getNearestIndex([c,a]);return h?(d=h.valueIndex,h=h.polarIndex):h=-1,-1!=h?this._showPolarTrigger(h,d):!1},_getNearestDataIndex:function(I,L){var G=-1,u=y.getX(this._event),K=y.getY(this._event);if("x"===I){for(var p,d,M=this.component.grid.getXend(),F=L.getCoordByIndex(G);M>F&&(d=F,u>=F);){p=F,F=L.getCoordByIndex(++G)}return 0>=G?G=0:d-u>=u-p?G-=1:null==L.getNameByIndex(G)&&(G-=1),G}for(var H,E,J=this.component.grid.getY(),F=L.getCoordByIndex(G);F>J&&(H=F,F>=K);){E=F,F=L.getCoordByIndex(++G)}return 0>=G?G=0:K-H>=E-K?G-=1:null==L.getNameByIndex(G)&&(G-=1),G},_showAxisTrigger:function(S,H,O){if(!this._event.connectTrigger&&this.messageCenter.dispatch(D.EVENT.TOOLTIP_IN_GRID,this._event,null,this.myChart),null==this.component.xAxis||null==this.component.yAxis||null==S||null==H){return clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),void (this._hidingTicket=setTimeout(this._hide,this._hideDelay))}var L,X,K,I,N=this.option.series,P=[],M=[],T="";if("axis"===this.option.tooltip.trigger){if(!this.option.tooltip.show){return}X=this.option.tooltip.formatter,K=this.option.tooltip.position}var J,G,d=-1!=S&&this.component.xAxis.getAxis(S).type===D.COMPONENT_TYPE_AXIS_CATEGORY?"xAxis":-1!=H&&this.component.yAxis.getAxis(H).type===D.COMPONENT_TYPE_AXIS_CATEGORY?"yAxis":!1;if(d){var s="xAxis"==d?S:H;L=this.component[d].getAxis(s);for(var E=0,Q=N.length;Q>E;E++){this._isSelected(N[E].name)&&N[E][d+"Index"]===s&&"axis"===this.deepQuery([N[E],this.option],"tooltip.trigger")&&(I=this.query(N[E],"tooltip.showContent")||I,X=this.query(N[E],"tooltip.formatter")||X,K=this.query(N[E],"tooltip.position")||K,T+=this._style(this.query(N[E],"tooltip")),null!=N[E].stack&&"xAxis"==d?(P.unshift(N[E]),M.unshift(E)):(P.push(N[E]),M.push(E)))}this.messageCenter.dispatch(D.EVENT.TOOLTIP_HOVER,this._event,{seriesIndex:M,dataIndex:O},this.myChart);var R;"xAxis"==d?(J=this.subPixelOptimize(L.getCoordByIndex(O),this._axisLineWidth),G=y.getY(this._event),R=[J,this.component.grid.getY(),J,this.component.grid.getYend()]):(J=y.getX(this._event),G=this.subPixelOptimize(L.getCoordByIndex(O),this._axisLineWidth),R=[this.component.grid.getX(),G,this.component.grid.getXend(),G]),this._styleAxisPointer(P,R[0],R[1],R[2],R[3],L.getGap(),J,G)}else{J=y.getX(this._event),G=y.getY(this._event),this._styleAxisPointer(N,this.component.grid.getX(),G,this.component.grid.getXend(),G,0,J,G),O>=0?this._showItemTrigger(!0):(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._tDom.style.display="none")}if(P.length>0){if(this._lastDataIndex!=O||this._lastSeriesIndex!=M[0]){this._lastDataIndex=O,this._lastSeriesIndex=M[0];var W,Y;if("function"==typeof X){for(var F=[],E=0,Q=P.length;Q>E;E++){W=P[E].data[O],Y=null!=W?null!=W.value?W.value:W:"-",F.push({seriesIndex:M[E],seriesName:P[E].name||"",series:P[E],dataIndex:O,data:W,name:L.getNameByIndex(O),value:Y,0:P[E].name||"",1:L.getNameByIndex(O),2:Y,3:W})}this._curTicket="axis:"+O,this._tDom.innerHTML=X.call(this.myChart,F,this._curTicket,this._setContent)}else{if("string"==typeof X){this._curTicket=0/0,X=X.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}");for(var E=0,Q=P.length;Q>E;E++){X=X.replace("{a"+E+"}",this._encodeHTML(P[E].name||"")),X=X.replace("{b"+E+"}",this._encodeHTML(L.getNameByIndex(O))),W=P[E].data[O],W=null!=W?null!=W.value?W.value:W:"-",X=X.replace("{c"+E+"}",W instanceof Array?W:this.numAddCommas(W))}this._tDom.innerHTML=X}else{this._curTicket=0/0,X=this._encodeHTML(L.getNameByIndex(O));for(var E=0,Q=P.length;Q>E;E++){X+="<br/>"+this._encodeHTML(P[E].name||"")+" : ",W=P[E].data[O],W=null!=W?null!=W.value?W.value:W:"-",X+=W instanceof Array?W:this.numAddCommas(W)}this._tDom.innerHTML=X}}}if(I===!1||!this.option.tooltip.showContent){return}this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(K,J+10,G+10,T)}},_showPolarTrigger:function(S,H){if(null==this.component.polar||null==S||null==H||0>H){return !1}var P,M,W,L=this.option.series,J=[],I=[],O="";if("axis"===this.option.tooltip.trigger){if(!this.option.tooltip.show){return !1}P=this.option.tooltip.formatter,M=this.option.tooltip.position}for(var Q=this.option.polar[S].indicator[H].text,N=0,T=L.length;T>N;N++){this._isSelected(L[N].name)&&L[N].polarIndex===S&&"axis"===this.deepQuery([L[N],this.option],"tooltip.trigger")&&(W=this.query(L[N],"tooltip.showContent")||W,P=this.query(L[N],"tooltip.formatter")||P,M=this.query(L[N],"tooltip.position")||M,O+=this._style(this.query(L[N],"tooltip")),J.push(L[N]),I.push(N))}if(J.length>0){for(var K,G,d,E=[],N=0,T=J.length;T>N;N++){K=J[N].data;for(var F=0,R=K.length;R>F;F++){G=K[F],this._isSelected(G.name)&&(G=null!=G?G:{name:"",value:{dataIndex:"-"}},d=null!=G.value[H].value?G.value[H].value:G.value[H],E.push({seriesIndex:I[N],seriesName:J[N].name||"",series:J[N],dataIndex:H,data:G,name:G.name,indicator:Q,value:d,0:J[N].name||"",1:G.name,2:d,3:Q}))}}if(E.length<=0){return}if(this._lastDataIndex!=H||this._lastSeriesIndex!=I[0]){if(this._lastDataIndex=H,this._lastSeriesIndex=I[0],"function"==typeof P){this._curTicket="axis:"+H,this._tDom.innerHTML=P.call(this.myChart,E,this._curTicket,this._setContent)}else{if("string"==typeof P){P=P.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}");for(var N=0,T=E.length;T>N;N++){P=P.replace("{a"+N+"}",this._encodeHTML(E[N].seriesName)),P=P.replace("{b"+N+"}",this._encodeHTML(E[N].name)),P=P.replace("{c"+N+"}",this.numAddCommas(E[N].value)),P=P.replace("{d"+N+"}",this._encodeHTML(E[N].indicator))}this._tDom.innerHTML=P}else{P=this._encodeHTML(E[0].name)+"<br/>"+this._encodeHTML(E[0].indicator)+" : "+this.numAddCommas(E[0].value);for(var N=1,T=E.length;T>N;N++){P+="<br/>"+this._encodeHTML(E[N].name)+"<br/>",P+=this._encodeHTML(E[N].indicator)+" : "+this.numAddCommas(E[N].value)}this._tDom.innerHTML=P}}}if(W===!1||!this.option.tooltip.showContent){return}return this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(M,y.getX(this._event),y.getY(this._event),O),!0}},_showItemTrigger:function(K){if(this._curTarget){var O,I,E,M=q.get(this._curTarget,"series"),s=q.get(this._curTarget,"seriesIndex"),d=q.get(this._curTarget,"data"),J=q.get(this._curTarget,"dataIndex"),G=q.get(this._curTarget,"name"),L=q.get(this._curTarget,"value"),l=q.get(this._curTarget,"special"),N=q.get(this._curTarget,"special2"),F="";if("island"!=this._curTarget._type){var H=K?"axis":"item";this.option.tooltip.trigger===H&&(O=this.option.tooltip.formatter,I=this.option.tooltip.position),this.query(M,"tooltip.trigger")===H&&(E=this.query(M,"tooltip.showContent")||E,O=this.query(M,"tooltip.formatter")||O,I=this.query(M,"tooltip.position")||I,F+=this._style(this.query(M,"tooltip"))),E=this.query(d,"tooltip.showContent")||E,O=this.query(d,"tooltip.formatter")||O,I=this.query(d,"tooltip.position")||I,F+=this._style(this.query(d,"tooltip"))}else{this._lastItemTriggerId=0/0,E=this.deepQuery([d,M,this.option],"tooltip.showContent"),O=this.deepQuery([d,M,this.option],"tooltip.islandFormatter"),I=this.deepQuery([d,M,this.option],"tooltip.islandPosition")}this._lastItemTriggerId!==this._curTarget.id&&(this._lastItemTriggerId=this._curTarget.id,"function"==typeof O?(this._curTicket=(M.name||"")+":"+J,this._tDom.innerHTML=O.call(this.myChart,{seriesIndex:s,seriesName:M.name||"",series:M,dataIndex:J,data:d,name:G,value:L,percent:l,indicator:l,value2:N,indicator2:N,0:M.name||"",1:G,2:L,3:l,4:N,5:d,6:s,7:J},this._curTicket,this._setContent)):"string"==typeof O?(this._curTicket=0/0,O=O.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}"),O=O.replace("{a0}",this._encodeHTML(M.name||"")).replace("{b0}",this._encodeHTML(G)).replace("{c0}",L instanceof Array?L:this.numAddCommas(L)),O=O.replace("{d}","{d0}").replace("{d0}",l||""),O=O.replace("{e}","{e0}").replace("{e0}",q.get(this._curTarget,"special2")||""),this._tDom.innerHTML=O):(this._curTicket=0/0,this._tDom.innerHTML=M.type===D.CHART_TYPE_RADAR&&l?this._itemFormatter.radar.call(this,M,G,L,l):M.type===D.CHART_TYPE_EVENTRIVER?this._itemFormatter.eventRiver.call(this,M,G,L,d):""+(null!=M.name?this._encodeHTML(M.name)+"<br/>":"")+(""===G?"":this._encodeHTML(G)+" : ")+(L instanceof Array?L:this.numAddCommas(L)))),this._axisLineShape.invisible&&this._axisShadowShape.invisible||(this._axisLineShape.invisible=!0,this.zr.modShape(this._axisLineShape.id),this._axisShadowShape.invisible=!0,this.zr.modShape(this._axisShadowShape.id),this.zr.refresh()),E!==!1&&this.option.tooltip.showContent&&(this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(I,y.getX(this._event)+20,y.getY(this._event)-20,F))}},_itemFormatter:{radar:function(l,h,d,p){var c="";c+=this._encodeHTML(""===h?l.name||"":h),c+=""===c?"":"<br />";for(var m=0;m<p.length;m++){c+=this._encodeHTML(p[m].text)+" : "+this.numAddCommas(d[m])+"<br />"}return c},chord:function(m,h,d,s,c){if(null==c){return this._encodeHTML(h)+" ("+this.numAddCommas(d)+")"}var p=this._encodeHTML(h),l=this._encodeHTML(s);return""+(null!=m.name?this._encodeHTML(m.name)+"<br/>":"")+p+" -> "+l+" ("+this.numAddCommas(d)+")<br />"+l+" -> "+p+" ("+this.numAddCommas(c)+")"},eventRiver:function(m,h,d,s){var c="";c+=this._encodeHTML(""===m.name?"":m.name+" : "),c+=this._encodeHTML(h),c+=""===c?"":"<br />",s=s.evolution;for(var p=0,l=s.length;l>p;p++){c+='<div style="padding-top:5px;">',s[p].detail&&(s[p].detail.img&&(c+='<img src="'+s[p].detail.img+'" style="float:left;width:40px;height:40px;">'),c+='<div style="margin-left:45px;">'+s[p].time+"<br/>",c+='<a href="'+s[p].detail.link+'" target="_blank">',c+=s[p].detail.text+"</a></div>",c+="</div>")}return c}},_styleAxisPointer:function(N,S,L,H,Q,G,E,T){if(N.length>0){var K,M,O=this.option.tooltip.axisPointer,J=O.type,P={line:{},cross:{},shadow:{}};for(var F in P){P[F].color=O[F+"Style"].color,P[F].width=O[F+"Style"].width,P[F].type=O[F+"Style"].type}for(var R=0,I=N.length;I>R;R++){"axis"===this.deepQuery([N[R],this.option],"tooltip.trigger")&&(K=N[R],M=this.query(K,"tooltip.axisPointer.type"),J=M||J,M&&(P[M].color=this.query(K,"tooltip.axisPointer."+M+"Style.color")||P[M].color,P[M].width=this.query(K,"tooltip.axisPointer."+M+"Style.width")||P[M].width,P[M].type=this.query(K,"tooltip.axisPointer."+M+"Style.type")||P[M].type))}"line"===J?(this._axisLineShape.style={xStart:S,yStart:L,xEnd:H,yEnd:Q,strokeColor:P.line.color,lineWidth:P.line.width,lineType:P.line.type},this._axisLineShape.invisible=!1,this.zr.modShape(this._axisLineShape.id)):"cross"===J?(this._axisCrossShape.style={brushType:"stroke",rect:this.component.grid.getArea(),x:E,y:T,text:("( "+this.component.xAxis.getAxis(0).getValueFromCoord(E)+" , "+this.component.yAxis.getAxis(0).getValueFromCoord(T)+" )").replace("  , "," ").replace(" ,  "," "),textPosition:"specific",strokeColor:P.cross.color,lineWidth:P.cross.width,lineType:P.cross.type},this.component.grid.getXend()-E>100?(this._axisCrossShape.style.textAlign="left",this._axisCrossShape.style.textX=E+10):(this._axisCrossShape.style.textAlign="right",this._axisCrossShape.style.textX=E-10),T-this.component.grid.getY()>50?(this._axisCrossShape.style.textBaseline="bottom",this._axisCrossShape.style.textY=T-10):(this._axisCrossShape.style.textBaseline="top",this._axisCrossShape.style.textY=T+10),this._axisCrossShape.invisible=!1,this.zr.modShape(this._axisCrossShape.id)):"shadow"===J&&((null==P.shadow.width||"auto"===P.shadow.width||isNaN(P.shadow.width))&&(P.shadow.width=G),S===H?Math.abs(this.component.grid.getX()-S)<2?(P.shadow.width/=2,S=H+=P.shadow.width/2):Math.abs(this.component.grid.getXend()-S)<2&&(P.shadow.width/=2,S=H-=P.shadow.width/2):L===Q&&(Math.abs(this.component.grid.getY()-L)<2?(P.shadow.width/=2,L=Q+=P.shadow.width/2):Math.abs(this.component.grid.getYend()-L)<2&&(P.shadow.width/=2,L=Q-=P.shadow.width/2)),this._axisShadowShape.style={xStart:S,yStart:L,xEnd:H,yEnd:Q,strokeColor:P.shadow.color,lineWidth:P.shadow.width},this._axisShadowShape.invisible=!1,this.zr.modShape(this._axisShadowShape.id)),this.zr.refresh()}},__onmousemove:function(s){if(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),!this._mousein||!this._enterable){var p=s.target,m=y.getX(s.event),E=y.getY(s.event);if(p){this._curTarget=p,this._event=s.event,this._event.zrenderX=m,this._event.zrenderY=E;var d;if(this._needAxisTrigger&&this.component.polar&&-1!=(d=this.component.polar.isInside([m,E]))){for(var u=this.option.series,c=0,r=u.length;r>c;c++){if(u[c].polarIndex===d&&"axis"===this.deepQuery([u[c],this.option],"tooltip.trigger")){this._curTarget=null;break}}}this._showingTicket=setTimeout(this._tryShow,this._showDelay)}else{this._curTarget=!1,this._event=s.event,this._event.zrenderX=m,this._event.zrenderY=E,this._needAxisTrigger&&this.component.grid&&k.isInside(b,this.component.grid.getArea(),m,E)?this._showingTicket=setTimeout(this._tryShow,this._showDelay):this._needAxisTrigger&&this.component.polar&&-1!=this.component.polar.isInside([m,E])?this._showingTicket=setTimeout(this._tryShow,this._showDelay):(!this._event.connectTrigger&&this.messageCenter.dispatch(D.EVENT.TOOLTIP_OUT_GRID,this._event,null,this.myChart),this._hidingTicket=setTimeout(this._hide,this._hideDelay))}}},__onglobalout:function(){clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._hidingTicket=setTimeout(this._hide,this._hideDelay)},__setContent:function(c,a){this._tDom&&(c===this._curTicket&&(this._tDom.innerHTML=a),setTimeout(this._refixed,20))},ontooltipHover:function(d,c){if(!this._lastTipShape||this._lastTipShape&&this._lastTipShape.dataIndex!=d.dataIndex){this._lastTipShape&&this._lastTipShape.tipShape.length>0&&(this.zr.delShape(this._lastTipShape.tipShape),this.shapeList.length=2);for(var a=0,h=c.length;h>a;a++){c[a].zlevel=this._zlevelBase,c[a].style=B.prototype.getHighlightStyle(c[a].style,c[a].highlightStyle),c[a].draggable=!1,c[a].hoverable=!1,c[a].clickable=!1,c[a].ondragend=null,c[a].ondragover=null,c[a].ondrop=null,this.shapeList.push(c[a]),this.zr.addShape(c[a])}this._lastTipShape={dataIndex:d.dataIndex,tipShape:c}}},ondragend:function(){this._hide()},onlegendSelected:function(a){this._selectedMap=a.selected},_setSelectedMap:function(){this._selectedMap=this.component.legend?f.clone(this.component.legend.getSelectedMap()):{}},_isSelected:function(a){return null!=this._selectedMap[a]?this._selectedMap[a]:!0},showTip:function(Q){if(Q){var G,N=this.option.series;if(null!=Q.seriesIndex){G=Q.seriesIndex}else{for(var K=Q.seriesName,W=0,J=N.length;J>W;W++){if(N[W].name===K){G=W;break}}}var H=N[G];if(null!=H){var R=this.myChart.chart[H.type],L="axis"===this.deepQuery([H,this.option],"tooltip.trigger");if(R){if(L){var S=Q.dataIndex;switch(R.type){case D.CHART_TYPE_LINE:case D.CHART_TYPE_BAR:case D.CHART_TYPE_K:if(null==this.component.xAxis||null==this.component.yAxis||H.data.length<=S){return}var I=H.xAxisIndex||0,F=H.yAxisIndex||0;this._event=this.component.xAxis.getAxis(I).type===D.COMPONENT_TYPE_AXIS_CATEGORY?{zrenderX:this.component.xAxis.getAxis(I).getCoordByIndex(S),zrenderY:this.component.grid.getY()+(this.component.grid.getYend()-this.component.grid.getY())/4}:{zrenderX:this.component.grid.getX()+(this.component.grid.getXend()-this.component.grid.getX())/4,zrenderY:this.component.yAxis.getAxis(F).getCoordByIndex(S)},this._showAxisTrigger(I,F,S);break;case D.CHART_TYPE_RADAR:if(null==this.component.polar||H.data[0].value.length<=S){return}var h=H.polarIndex||0,l=this.component.polar.getVector(h,S,"max");this._event={zrenderX:l[0],zrenderY:l[1]},this._showPolarTrigger(h,S)}}else{var s,O,P=R.shapeList;switch(R.type){case D.CHART_TYPE_LINE:case D.CHART_TYPE_BAR:case D.CHART_TYPE_K:case D.CHART_TYPE_SCATTER:for(var S=Q.dataIndex,W=0,J=P.length;J>W;W++){if(q.get(P[W],"seriesIndex")==G&&q.get(P[W],"dataIndex")==S){this._curTarget=P[W],s=P[W].style.x,O=R.type!=D.CHART_TYPE_K?P[W].style.y:P[W].style.y[0];break}}break;case D.CHART_TYPE_RADAR:for(var S=Q.dataIndex,W=0,J=P.length;J>W;W++){if("polygon"===P[W].type&&q.get(P[W],"seriesIndex")==G&&q.get(P[W],"dataIndex")==S){this._curTarget=P[W];var l=this.component.polar.getCenter(H.polarIndex||0);s=l[0],O=l[1];break}}break;case D.CHART_TYPE_PIE:for(var T=Q.name,W=0,J=P.length;J>W;W++){if("sector"===P[W].type&&q.get(P[W],"seriesIndex")==G&&q.get(P[W],"name")==T){this._curTarget=P[W];var X=this._curTarget.style,E=(X.startAngle+X.endAngle)/2*Math.PI/180;s=this._curTarget.style.x+Math.cos(E)*X.r/1.5,O=this._curTarget.style.y-Math.sin(E)*X.r/1.5;break}}break;case D.CHART_TYPE_MAP:for(var T=Q.name,M=H.mapType,W=0,J=P.length;J>W;W++){if("text"===P[W].type&&P[W]._mapType===M&&P[W].style._name===T){this._curTarget=P[W],s=this._curTarget.style.x+this._curTarget.position[0],O=this._curTarget.style.y+this._curTarget.position[1];break}}break;case D.CHART_TYPE_CHORD:for(var T=Q.name,W=0,J=P.length;J>W;W++){if("sector"===P[W].type&&q.get(P[W],"name")==T){this._curTarget=P[W];var X=this._curTarget.style,E=(X.startAngle+X.endAngle)/2*Math.PI/180;return s=this._curTarget.style.x+Math.cos(E)*(X.r-2),O=this._curTarget.style.y-Math.sin(E)*(X.r-2),void this.zr.trigger(w.EVENT.MOUSEMOVE,{zrenderX:s,zrenderY:O})}}break;case D.CHART_TYPE_FORCE:for(var T=Q.name,W=0,J=P.length;J>W;W++){if("circle"===P[W].type&&q.get(P[W],"name")==T){this._curTarget=P[W],s=this._curTarget.position[0],O=this._curTarget.position[1];break}}}null!=s&&null!=O&&(this._event={zrenderX:s,zrenderY:O},this.zr.addHoverShape(this._curTarget),this.zr.refreshHover(),this._showItemTrigger())}}}}},hideTip:function(){this._hide()},refresh:function(l){if(this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth(),this._lastTipShape&&this._lastTipShape.tipShape.length>0&&this.zr.delShape(this._lastTipShape.tipShape),this._lastTipShape=!1,this.shapeList.length=2,this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId=-1,l){this.option=l,this.option.tooltip=this.reformOption(this.option.tooltip),this.option.tooltip.textStyle=f.merge(this.option.tooltip.textStyle,this.ecTheme.textStyle),this._needAxisTrigger=!1,"axis"===this.option.tooltip.trigger&&(this._needAxisTrigger=!0);for(var h=this.option.series,d=0,m=h.length;m>d;d++){if("axis"===this.query(h[d],"tooltip.trigger")){this._needAxisTrigger=!0;break}}this._showDelay=this.option.tooltip.showDelay,this._hideDelay=this.option.tooltip.hideDelay,this._defaultCssText=this._style(this.option.tooltip),this._setSelectedMap(),this._axisLineWidth=this.option.tooltip.axisPointer.lineStyle.width,this._enterable=this.option.tooltip.enterable}if(this.showing){var c=this;setTimeout(function(){c.zr.trigger(w.EVENT.MOUSEMOVE,c.zr.handler._event)},50)}},onbeforDispose:function(){this._lastTipShape&&this._lastTipShape.tipShape.length>0&&this.zr.delShape(this._lastTipShape.tipShape),clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this.zr.un(w.EVENT.MOUSEMOVE,this._onmousemove),this.zr.un(w.EVENT.GLOBALOUT,this._onglobalout),this.hasAppend&&this.dom.firstChild.removeChild(this._tDom),this._tDom=null},_encodeHTML:function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}},f.inherits(C,v),x("../component").define("tooltip",C),C}),define("echarts/component/legend",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","zrender/shape/Sector","../util/shape/Icon","../util/shape/Candle","../config","zrender/tool/util","zrender/tool/area","../component"],function(u){function y(i,d,m,c,l){if(!this.query(c,"legend.data")){return void console.error("option.legend.data has not been defined.")}p.call(this,i,d,m,c,l);var h=this;h._legendSelected=function(a){h.__legendSelected(a)},h._dispatchHoverLink=function(a){return h.__dispatchHoverLink(a)},this._colorIndex=0,this._colorMap={},this._selectedMap={},this._hasDataMap={},this.refresh(c)}var p=u("./base"),g=u("zrender/shape/Text"),x=u("zrender/shape/Rectangle"),f=u("zrender/shape/Sector"),b=u("../util/shape/Icon"),z=u("../util/shape/Candle"),k=u("../config"),q=u("zrender/tool/util"),v=u("zrender/tool/area");y.prototype={type:k.COMPONENT_TYPE_LEGEND,_buildShape:function(){if(this.legendOption.show){this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var c=0,a=this.shapeList.length;a>c;c++){this.zr.addShape(this.shapeList[c])}}},_buildItem:function(){var K,B,H,N,E,C,G,F,L=this.legendOption.data,D=L.length,A=this.legendOption.textStyle,d=this.zr.getWidth(),h=this.zr.getHeight(),n=this._itemGroupLocation.x,I=this._itemGroupLocation.y,J=this.legendOption.itemWidth,M=this.legendOption.itemHeight,O=this.legendOption.itemGap;"vertical"===this.legendOption.orient&&"right"===this.legendOption.x&&(n=this._itemGroupLocation.x+this._itemGroupLocation.width-J);for(var r=0;D>r;r++){E=q.merge(L[r].textStyle||{},A),C=this.getFont(E),K=this._getName(L[r]),G=this._getFormatterName(K),""!==K?(B=L[r].icon||this._getSomethingByName(K).type,F=this.getColor(K),"horizontal"===this.legendOption.orient?200>d-n&&J+5+v.getTextWidth(G,C)+(r===D-1||""===L[r+1]?0:O)>=d-n&&(n=this._itemGroupLocation.x,I+=M+O):200>h-I&&M+(r===D-1||""===L[r+1]?0:O)>=h-I&&("right"===this.legendOption.x?n-=this._itemGroupLocation.maxWidth+O:n+=this._itemGroupLocation.maxWidth+O,I=this._itemGroupLocation.y),H=this._getItemShapeByType(n,I,J,M,this._selectedMap[K]&&this._hasDataMap[K]?F:"#ccc",B,F),H._name=K,H=new b(H),N={zlevel:this._zlevelBase,style:{x:n+J+5,y:I+M/2,color:this._selectedMap[K]?"auto"===E.color?F:E.color:"#ccc",text:G,textFont:C,textBaseline:"middle"},highlightStyle:{color:F,brushType:"fill"},hoverable:!!this.legendOption.selectedMode,clickable:!!this.legendOption.selectedMode},"vertical"===this.legendOption.orient&&"right"===this.legendOption.x&&(N.style.x-=J+10,N.style.textAlign="right"),N._name=K,N=new g(N),this.legendOption.selectedMode&&(H.onclick=N.onclick=this._legendSelected,H.onmouseover=N.onmouseover=this._dispatchHoverLink,H.hoverConnect=N.id,N.hoverConnect=H.id),this.shapeList.push(H),this.shapeList.push(N),"horizontal"===this.legendOption.orient?n+=J+5+v.getTextWidth(G,C)+O:I+=M+O):"horizontal"===this.legendOption.orient?(n=this._itemGroupLocation.x,I+=M+O):("right"===this.legendOption.x?n-=this._itemGroupLocation.maxWidth+O:n+=this._itemGroupLocation.maxWidth+O,I=this._itemGroupLocation.y)}"horizontal"===this.legendOption.orient&&"center"===this.legendOption.x&&I!=this._itemGroupLocation.y&&this._mLineOptimize()},_getName:function(a){return"undefined"!=typeof a.name?a.name:a},_getFormatterName:function(d){var c,a=this.legendOption.formatter;return c="function"==typeof a?a.call(this.myChart,d):"string"==typeof a?a.replace("{name}",d):d},_getFormatterNameFromData:function(c){var a=this._getName(c);return this._getFormatterName(a)},_mLineOptimize:function(){for(var l=[],h=this._itemGroupLocation.x,d=2,m=this.shapeList.length;m>d;d++){this.shapeList[d].style.x===h?l.push((this._itemGroupLocation.width-(this.shapeList[d-1].style.x+v.getTextWidth(this.shapeList[d-1].style.text,this.shapeList[d-1].style.textFont)-h))/2):d===m-1&&l.push((this._itemGroupLocation.width-(this.shapeList[d].style.x+v.getTextWidth(this.shapeList[d].style.text,this.shapeList[d].style.textFont)-h))/2)}for(var c=-1,d=1,m=this.shapeList.length;m>d;d++){this.shapeList[d].style.x===h&&c++,0!==l[c]&&(this.shapeList[d].style.x+=l[c])}},_buildBackground:function(){var a=this.reformCssArray(this.legendOption.padding);this.shapeList.push(new x({zlevel:this._zlevelBase,hoverable:!1,style:{x:this._itemGroupLocation.x-a[3],y:this._itemGroupLocation.y-a[0],width:this._itemGroupLocation.width+a[3]+a[1],height:this._itemGroupLocation.height+a[0]+a[2],brushType:0===this.legendOption.borderWidth?"fill":"both",color:this.legendOption.backgroundColor,strokeColor:this.legendOption.borderColor,lineWidth:this.legendOption.borderWidth}}))},_getItemGroupLocation:function(){var I=this.legendOption.data,N=I.length,G=this.legendOption.itemGap,B=this.legendOption.itemWidth+5,L=this.legendOption.itemHeight,A=this.legendOption.textStyle,d=this.getFont(A),O=0,F=0,D=this.reformCssArray(this.legendOption.padding),J=this.zr.getWidth()-D[1]-D[3],h=this.zr.getHeight()-D[0]-D[2],M=0,C=0;if("horizontal"===this.legendOption.orient){F=L;for(var E=0;N>E;E++){""!==this._getName(I[E])?M+=B+v.getTextWidth(this._getFormatterNameFromData(I[E]),I[E].textStyle?this.getFont(q.merge(I[E].textStyle||{},A)):d)+G:(M-=G,M>J?(O=J,F+=L+G):O=Math.max(O,M),F+=L+G,M=0)}F=Math.max(F,L),M-=G,M>J?(O=J,F+=L+G):O=Math.max(O,M)}else{for(var E=0;N>E;E++){C=Math.max(C,v.getTextWidth(this._getFormatterNameFromData(I[E]),I[E].textStyle?this.getFont(q.merge(I[E].textStyle||{},A)):d))}C+=B,O=C;for(var E=0;N>E;E++){""!==this._getName(I[E])?M+=L+G:(M-=G,M>h?(F=h,O+=C+G):F=Math.max(F,M),O+=C+G,M=0)}O=Math.max(O,C),M-=G,M>h?(F=h,O+=C+G):F=Math.max(F,M)}J=this.zr.getWidth(),h=this.zr.getHeight();var K;switch(this.legendOption.x){case"center":K=Math.floor((J-O)/2);break;case"left":K=D[3]+this.legendOption.borderWidth;break;case"right":K=J-O-D[1]-D[3]-2*this.legendOption.borderWidth;break;default:K=this.parsePercent(this.legendOption.x,J)}var H;switch(this.legendOption.y){case"top":H=D[0]+this.legendOption.borderWidth;break;case"bottom":H=h-F-D[0]-D[2]-2*this.legendOption.borderWidth;break;case"center":H=Math.floor((h-F)/2);break;default:H=this.parsePercent(this.legendOption.y,h)}return{x:K,y:H,width:O,height:F,maxWidth:C}},_getSomethingByName:function(m){for(var h,d=this.option.series,A=0,c=d.length;c>A;A++){if(d[A].name===m){return{type:d[A].type,series:d[A],seriesIndex:A,data:null,dataIndex:-1}}if(d[A].type===k.CHART_TYPE_PIE||d[A].type===k.CHART_TYPE_RADAR||d[A].type===k.CHART_TYPE_CHORD||d[A].type===k.CHART_TYPE_FORCE||d[A].type===k.CHART_TYPE_FUNNEL){h=d[A].categories||d[A].data||d[A].nodes;for(var s=0,l=h.length;l>s;s++){if(h[s].name===m){return{type:d[A].type,series:d[A],seriesIndex:A,data:h[s],dataIndex:s}}}}}return{type:"bar",series:null,seriesIndex:-1,data:null,dataIndex:-1}},_getItemShapeByType:function(D,F,B,m,E,d,c){var G,A="#ccc"===E?c:E,C={zlevel:this._zlevelBase,style:{iconType:"legendicon"+d,x:D,y:F,width:B,height:m,color:E,strokeColor:E,lineWidth:2},highlightStyle:{color:A,strokeColor:A,lineWidth:1},hoverable:this.legendOption.selectedMode,clickable:this.legendOption.selectedMode};if(d.match("image")){var G=d.replace(new RegExp("^image:\\/\\/"),"");d="image"}switch(d){case"line":C.style.brushType="stroke",C.highlightStyle.lineWidth=3;break;case"radar":case"scatter":C.highlightStyle.lineWidth=3;break;case"k":C.style.brushType="both",C.highlightStyle.lineWidth=3,C.highlightStyle.color=C.style.color=this.query(this.ecTheme,"k.itemStyle.normal.color")||"#fff",C.style.strokeColor="#ccc"!=E?this.query(this.ecTheme,"k.itemStyle.normal.lineStyle.color")||"#ff3200":E;break;case"image":C.style.iconType="image",C.style.image=G,"#ccc"===E&&(C.style.opacity=0.5)}return C},__legendSelected:function(d){var c=d.target._name;if("single"===this.legendOption.selectedMode){for(var a in this._selectedMap){this._selectedMap[a]=!1}}this._selectedMap[c]=!this._selectedMap[c],this.messageCenter.dispatch(k.EVENT.LEGEND_SELECTED,d.event,{selected:this._selectedMap,target:c},this.myChart)},__dispatchHoverLink:function(a){this.messageCenter.dispatch(k.EVENT.LEGEND_HOVERLINK,a.event,{target:a.target._name},this.myChart)},refresh:function(B){if(B){this.option=B||this.option,this.option.legend=this.reformOption(this.option.legend),this.legendOption=this.option.legend;var D,m,l,C,d=this.legendOption.data||[];if(this.legendOption.selected){for(var c in this.legendOption.selected){this._selectedMap[c]="undefined"!=typeof this._selectedMap[c]?this._selectedMap[c]:this.legendOption.selected[c]}}for(var E=0,A=d.length;A>E;E++){D=this._getName(d[E]),""!==D&&(m=this._getSomethingByName(D),m.series?(this._hasDataMap[D]=!0,C=!m.data||m.type!==k.CHART_TYPE_PIE&&m.type!==k.CHART_TYPE_FORCE&&m.type!==k.CHART_TYPE_FUNNEL?[m.series]:[m.data,m.series],l=this.getItemStyleColor(this.deepQuery(C,"itemStyle.normal.color"),m.seriesIndex,m.dataIndex,m.data),l&&m.type!=k.CHART_TYPE_K&&this.setColor(D,l),this._selectedMap[D]=null!=this._selectedMap[D]?this._selectedMap[D]:!0):this._hasDataMap[D]=!1)}}this.clear(),this._buildShape()},getRelatedAmount:function(A){for(var h,d=0,C=this.option.series,c=0,B=C.length;B>c;c++){if(C[c].name===A&&d++,C[c].type===k.CHART_TYPE_PIE||C[c].type===k.CHART_TYPE_RADAR||C[c].type===k.CHART_TYPE_CHORD||C[c].type===k.CHART_TYPE_FORCE||C[c].type===k.CHART_TYPE_FUNNEL){h=C[c].type!=k.CHART_TYPE_FORCE?C[c].data:C[c].categories;for(var m=0,l=h.length;l>m;m++){h[m].name===A&&"-"!=h[m].value&&d++}}}return d},setColor:function(c,a){this._colorMap[c]=a},getColor:function(a){return this._colorMap[a]||(this._colorMap[a]=this.zr.getColor(this._colorIndex++)),this._colorMap[a]},hasColor:function(a){return this._colorMap[a]?this._colorMap[a]:!1},add:function(l,h){for(var d=this.legendOption.data,m=0,c=d.length;c>m;m++){if(this._getName(d[m])===l){return}}this.legendOption.data.push(l),this.setColor(l,h),this._selectedMap[l]=!0,this._hasDataMap[l]=!0},del:function(d){for(var c=this.legendOption.data,a=0,h=c.length;h>a;a++){if(this._getName(c[a])===d){return this.legendOption.data.splice(a,1)}}},getItemShape:function(d){if(null!=d){for(var c,a=0,h=this.shapeList.length;h>a;a++){if(c=this.shapeList[a],c._name===d&&"text"!=c.type){return c}}}},setItemShape:function(l,h){for(var d,m=0,c=this.shapeList.length;c>m;m++){d=this.shapeList[m],d._name===l&&"text"!=d.type&&(this._selectedMap[l]||(h.style.color="#ccc",h.style.strokeColor="#ccc"),this.zr.modShape(d.id,h))}},isSelected:function(a){return"undefined"!=typeof this._selectedMap[a]?this._selectedMap[a]:!0},getSelectedMap:function(){return this._selectedMap},setSelected:function(d,c){if("single"===this.legendOption.selectedMode){for(var a in this._selectedMap){this._selectedMap[a]=!1}}this._selectedMap[d]=c,this.messageCenter.dispatch(k.EVENT.LEGEND_SELECTED,null,{selected:this._selectedMap,target:d},this.myChart)},onlegendSelected:function(d,c){var a=d.selected;for(var h in a){this._selectedMap[h]!=a[h]&&(c.needRefresh=!0),this._selectedMap[h]=a[h]}}};var j={line:function(d,c){var a=c.height/2;d.moveTo(c.x,c.y+a),d.lineTo(c.x+c.width,c.y+a)},pie:function(m,h){var d=h.x,o=h.y,c=h.width,l=h.height;f.prototype.buildPath(m,{x:d+c/2,y:o+l+2,r:l+2,r0:6,startAngle:45,endAngle:135})},eventRiver:function(l,h){var d=h.x,r=h.y,c=h.width,m=h.height;l.moveTo(d,r+m),l.bezierCurveTo(d+c,r+m,d,r+4,d+c,r+4),l.lineTo(d+c,r),l.bezierCurveTo(d,r,d+c,r+m-4,d,r+m-4),l.lineTo(d,r+m)},k:function(l,h){var d=h.x,r=h.y,c=h.width,m=h.height;z.prototype.buildPath(l,{x:d+c/2,y:[r+1,r+1,r+m-6,r+m],width:c-6})},bar:function(m,h){var d=h.x,A=h.y+1,c=h.width,s=h.height-2,l=3;m.moveTo(d+l,A),m.lineTo(d+c-l,A),m.quadraticCurveTo(d+c,A,d+c,A+l),m.lineTo(d+c,A+s-l),m.quadraticCurveTo(d+c,A+s,d+c-l,A+s),m.lineTo(d+l,A+s),m.quadraticCurveTo(d,A+s,d,A+s-l),m.lineTo(d,A+l),m.quadraticCurveTo(d,A,d+l,A)},force:function(c,a){b.prototype.iconLibrary.circle(c,a)},radar:function(G,J){var E=6,B=J.x+J.width/2,I=J.y+J.height/2,A=J.height/2,c=2*Math.PI/E,K=-Math.PI/2,D=B+A*Math.cos(K),F=I+A*Math.sin(K);G.moveTo(D,F),K+=c;for(var H=0,C=E-1;C>H;H++){G.lineTo(B+A*Math.cos(K),I+A*Math.sin(K)),K+=c}G.lineTo(D,F)}};j.chord=j.pie,j.map=j.bar;for(var w in j){b.prototype.iconLibrary["legendicon"+w]=j[w]}return q.inherits(y,p),u("../component").define("legend",y),y}),define("echarts/util/ecData",[],function(){function c(m,q,k,h,p,g,f,u){var j;return"undefined"!=typeof h&&(j=null==h.value?h:h.value),m._echartsData={_series:q,_seriesIndex:k,_data:h,_dataIndex:p,_name:g,_value:j,_special:f,_special2:u},m._echartsData}function b(h,g){var f=h._echartsData;if(!g){return f}switch(g){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":return f&&f["_"+g]}return null}function a(h,g,f){switch(h._echartsData=h._echartsData||{},g){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":h._echartsData["_"+g]=f}}function d(g,f){f._echartsData={_series:g._echartsData._series,_seriesIndex:g._echartsData._seriesIndex,_data:g._echartsData._data,_dataIndex:g._echartsData._dataIndex,_name:g._echartsData._name,_value:g._echartsData._value,_special:g._echartsData._special,_special2:g._echartsData._special2}}return{pack:c,set:a,get:b,clone:d}}),define("echarts/chart",[],function(){var b={},a={};return b.define=function(c,d){return a[c]=d,b},b.get=function(c){return a[c]},b}),define("zrender/tool/color",["require","../tool/util"],function(aM){function az(a){ao=a}function aI(){ao=ae}function aE(b,a){return b=0|b,a=a||ao,a[b%a.length]}function aQ(a){ak=a}function aD(){aq=ak}function aB(){return ak}function aA(m,u,g,d,p,c,b){ad||(ad=ac.getContext());for(var v=ad.createRadialGradient(m,u,g,d,p,c),f=0,k=b.length;k>f;f++){v.addColorStop(b[f][0],b[f][1])}return v.__nonRecursion=!0,v}function aG(h,d,c,l,b){ad||(ad=ac.getContext());for(var k=ad.createLinearGradient(h,d,c,l),g=0,f=b.length;f>g;g++){k.addColorStop(b[g][0],b[g][1])}return k.__nonRecursion=!0,k}function aJ(w,A,u){w=ay(w),A=ay(A),w=ah(w),A=ah(A);for(var k=[],z=(A[0]-w[0])/u,g=(A[1]-w[1])/u,b=(A[2]-w[2])/u,B=(A[3]-w[3])/u,m=0,v=w[0],x=w[1],y=w[2],f=w[3];u>m;m++){k[m]=aF([ap(Math.floor(v),[0,255]),ap(Math.floor(x),[0,255]),ap(Math.floor(y),[0,255]),f.toFixed(4)-0],"rgba"),v+=z,x+=g,y+=b,f+=B}return v=A[0],x=A[1],y=A[2],f=A[3],k[m]=aF([v,x,y,f],"rgba"),k}function aN(g,d){var c=[],k=g.length;if(void 0===d&&(d=20),1===k){c=aJ(g[0],g[0],d)}else{if(k>1){for(var b=0,h=k-1;h>b;b++){var f=aJ(g[b],g[b+1],d);h-1>b&&f.pop(),c=c.concat(f)}}}return c}function aF(c,b){if(b=b||"rgb",c&&(3===c.length||4===c.length)){if(c=Z(c,function(d){return d>1?Math.ceil(d):d}),b.indexOf("hex")>-1){return"#"+((1<<24)+(c[0]<<16)+(c[1]<<8)+ +c[2]).toString(16).slice(1)}if(b.indexOf("hs")>-1){var a=Z(c.slice(1,3),function(d){return d+"%"});c[1]=a[0],c[2]=a[1]}return b.indexOf("a")>-1?(3===c.length&&c.push(1),c[3]=ap(c[3],[0,1]),b+"("+c.slice(0,4).join(",")+")"):b+"("+c.slice(0,3).join(",")+")"}}function aO(c){c=ag(c),c.indexOf("rgba")<0&&(c=ay(c));var b=[],a=0;return c.replace(/[\d.]+/g,function(d){d=3>a?0|d:+d,b[a++]=d}),b}function aC(c,b){if(!an(c)){return c}var a=ah(c),d=a[3];return"undefined"==typeof d&&(d=1),c.indexOf("hsb")>-1?a=ar(a):c.indexOf("hsl")>-1&&(a=at(a)),b.indexOf("hsb")>-1||b.indexOf("hsv")>-1?a=ai(a):b.indexOf("hsl")>-1&&(a=am(a)),a[3]=d,aF(a,b)}function ay(a){return aC(a,"rgba")}function Q(a){return aC(a,"rgb")}function Y(a){return aC(a,"hex")}function au(a){return aC(a,"hsva")}function aK(a){return aC(a,"hsv")}function aL(a){return aC(a,"hsba")}function aP(a){return aC(a,"hsb")}function aR(a){return aC(a,"hsla")}function av(a){return aC(a,"hsl")}function aH(b){for(var a in al){if(Y(al[a])===Y(b)){return a}}return null}function ag(a){return String(a).replace(/\s+/g,"")}function ax(c){if(al[c]&&(c=al[c]),c=ag(c),c=c.replace(/hsv/i,"hsb"),/^#[\da-f]{3}$/i.test(c)){c=parseInt(c.slice(1),16);var b=(3840&c)<<8,a=(240&c)<<4,d=15&c;c="#"+((1<<24)+(b<<4)+b+(a<<4)+a+(d<<4)+d).toString(16).slice(1)}return c}function q(f,d){if(!an(f)){return f}var c=d>0?1:-1;"undefined"==typeof d&&(d=0),d=Math.abs(d)>1?1:Math.abs(d),f=Q(f);for(var g=ah(f),b=0;3>b;b++){g[b]=1===c?g[b]*(1-d)|0:(255-g[b])*d+g[b]|0}return"rgb("+g.join(",")+")"}function aw(b){if(!an(b)){return b}var a=ah(ay(b));return a=Z(a,function(c){return 255-c}),aF(a,"rgb")}function j(u,y,m){if(!an(u)||!an(y)){return u}"undefined"==typeof m&&(m=0.5),m=1-ap(m,[0,1]);for(var g=2*m-1,x=ah(ay(u)),f=ah(ay(y)),b=x[3]-f[3],z=((g*b===-1?g:(g+b)/(1+g*b))+1)/2,k=1-z,p=[],v=0;3>v;v++){p[v]=x[v]*z+f[v]*k}var w=x[3]*m+f[3]*(1-m);return w=Math.max(0,Math.min(1,w)),1===x[3]&&1===f[3]?aF(p,"rgb"):(p[3]=w,aF(p,"rgba"))}function aj(){return"#"+(Math.random().toString(16)+"0000").slice(2,8)}function ah(p){p=ax(p);var w=p.match(ab);if(null===w){throw new Error("The color format error")}var k,f,v,c=[];if(w[2]){k=w[2].replace("#","").split(""),v=[k[0]+k[1],k[2]+k[3],k[4]+k[5]],c=Z(v,function(a){return ap(parseInt(a,16),[0,255])})}else{if(w[4]){var b=w[4].split(",");f=b[3],v=b.slice(0,3),c=Z(v,function(a){return a=Math.floor(a.indexOf("%")>0?2.55*parseInt(a,0):a),ap(a,[0,255])}),"undefined"!=typeof f&&c.push(ap(parseFloat(f),[0,1]))}else{if(w[5]||w[6]){var x=(w[5]||w[6]).split(","),g=parseInt(x[0],0)/360,m=x[1],u=x[2];f=x[3],c=Z([m,u],function(a){return ap(parseFloat(a)/100,[0,1])}),c.unshift(g),"undefined"!=typeof f&&c.push(ap(parseFloat(f),[0,1]))}}}return c}function aa(c,b){if(!an(c)){return c}null===b&&(b=1);var a=ah(ay(c));return a[3]=ap(Number(b).toFixed(4),[0,1]),aF(a,"rgba")}function Z(c,b){if("function"!=typeof b){throw new TypeError}for(var a=c?c.length:0,d=0;a>d;d++){c[d]=b(c[d])}return c}function ap(b,a){return b<=a[0]?b=a[0]:b>=a[1]&&(b=a[1]),b}function an(a){return a instanceof Array||"string"==typeof a}function ar(z){var E,x,k,C=z[0],g=z[1],b=z[2];if(0===g){E=255*b,x=255*b,k=255*b}else{var F=6*C;6===F&&(F=0);var w=0|F,y=b*(1-g),A=b*(1-g*(F-w)),v=b*(1-g*(1-(F-w))),B=0,f=0,D=0;0===w?(B=b,f=v,D=y):1===w?(B=A,f=b,D=y):2===w?(B=y,f=b,D=v):3===w?(B=y,f=A,D=b):4===w?(B=v,f=y,D=b):(B=b,f=y,D=A),E=255*B,x=255*f,k=255*D}return[E,x,k]}function at(h){var m,g,d,k=h[0],c=h[1],b=h[2];if(0===c){m=255*b,g=255*b,d=255*b}else{var p;p=0.5>b?b*(1+c):b+c-c*b;var f=2*b-p;m=255*af(f,p,k+1/3),g=255*af(f,p,k),d=255*af(f,p,k-1/3)}return[m,g,d]}function af(c,b,a){return 0>a&&(a+=1),a>1&&(a-=1),1>6*a?c+6*(b-c)*a:1>2*a?b:2>3*a?c+(b-c)*(2/3-a)*6:c}function ai(w){var A,u,g=w[0]/255,z=w[1]/255,f=w[2]/255,b=Math.min(g,z,f),B=Math.max(g,z,f),p=B-b,v=B;if(0===p){A=0,u=0}else{u=p/B;var x=((B-g)/6+p/2)/p,k=((B-z)/6+p/2)/p,y=((B-f)/6+p/2)/p;g===B?A=y-k:z===B?A=1/3+x-y:f===B&&(A=2/3+k-x),0>A&&(A+=1),A>1&&(A-=1)}return A=360*A,u=100*u,v=100*v,[A,u,v]}function am(w){var A,u,g=w[0]/255,z=w[1]/255,f=w[2]/255,b=Math.min(g,z,f),B=Math.max(g,z,f),p=B-b,v=(B+b)/2;if(0===p){A=0,u=0}else{u=0.5>v?p/(B+b):p/(2-B-b);var x=((B-g)/6+p/2)/p,k=((B-z)/6+p/2)/p,y=((B-f)/6+p/2)/p;g===B?A=y-k:z===B?A=1/3+x-y:f===B&&(A=2/3+k-x),0>A&&(A+=1),A>1&&(A-=1)}return A=360*A,u=100*u,v=100*v,[A,u,v]}var ad,ac=aM("../tool/util"),ao=["#ff9277"," #dddd00"," #ffc877"," #bbe3ff"," #d5ffbb","#bbbbff"," #ddb000"," #b0dd00"," #e2bbff"," #ffbbe3","#ff7777"," #ff9900"," #83dd00"," #77e3ff"," #778fff","#c877ff"," #ff77ab"," #ff6600"," #aa8800"," #77c7ff","#ad77ff"," #ff77ff"," #dd0083"," #777700"," #00aa00","#0088aa"," #8400dd"," #aa0088"," #dd0000"," #772e00"],ae=ao,ak="rgba(255,255,0,0.5)",aq=ak,ab=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,al={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"};return{customPalette:az,resetPalette:aI,getColor:aE,getHighlightColor:aB,customHighlight:aQ,resetHighlight:aD,getRadialGradient:aA,getLinearGradient:aG,getGradientColors:aN,getStepColors:aJ,reverse:aw,mix:j,lift:q,trim:ag,random:aj,toRGB:Q,toRGBA:ay,toHex:Y,toHSL:av,toHSLA:aR,toHSB:aP,toHSBA:aL,toHSV:aK,toHSVA:au,toName:aH,toColor:aF,toArray:aO,alpha:aa,getData:ah}}),define("echarts/component/timeline",["require","./base","zrender/shape/Rectangle","../util/shape/Icon","../util/shape/Chain","../config","zrender/tool/util","zrender/tool/area","zrender/tool/event","../component"],function(m){function u(s,l,h,d,w){f.call(this,s,l,h,d,w);var n=this;if(n._onclick=function(a){return n.__onclick(a)},n._ondrift=function(i,a){return n.__ondrift(this,i,a)},n._ondragend=function(){return n.__ondragend()},n._setCurrentOption=function(){var i=n.timelineOption;n.currentIndex%=i.data.length;var a=n.options[n.currentIndex]||{};n.myChart.setOption(a,i.notMerge),n.messageCenter.dispatch(v.EVENT.TIMELINE_CHANGED,null,{currentIndex:n.currentIndex,data:null!=i.data[n.currentIndex].name?i.data[n.currentIndex].name:i.data[n.currentIndex]},n.myChart)},n._onFrame=function(){n._setCurrentOption(),n._syncHandleShape(),n.timelineOption.autoPlay&&(n.playTicket=setTimeout(function(){return n.currentIndex+=1,!n.timelineOption.loop&&n.currentIndex>=n.timelineOption.data.length?(n.currentIndex=n.timelineOption.data.length-1,void n.stop()):void n._onFrame()},n.timelineOption.playInterval))},this.setTheme(!1),this.options=this.option.options,this.currentIndex=this.timelineOption.currentIndex%this.timelineOption.data.length,this.timelineOption.notMerge||0===this.currentIndex||(this.options[this.currentIndex]=g.merge(this.options[this.currentIndex],this.options[0])),this.timelineOption.show&&(this._buildShape(),this._syncHandleShape()),this._setCurrentOption(),this.timelineOption.autoPlay){var n=this;this.playTicket=setTimeout(function(){n.play()},this.ecTheme.animationDuration)}}function j(A,D){var y=2,w=D.x+y,C=D.y+y+2,o=D.width-y,E=D.height-y,x=D.symbol;if("last"===x){A.moveTo(w+o-2,C+E/3),A.lineTo(w+o-2,C),A.lineTo(w+2,C+E/2),A.lineTo(w+o-2,C+E),A.lineTo(w+o-2,C+E/3*2),A.moveTo(w,C),A.lineTo(w,C)}else{if("next"===x){A.moveTo(w+2,C+E/3),A.lineTo(w+2,C),A.lineTo(w+o-2,C+E/2),A.lineTo(w+2,C+E),A.lineTo(w+2,C+E/3*2),A.moveTo(w,C),A.lineTo(w,C)}else{if("play"===x){if("stop"===D.status){A.moveTo(w+2,C),A.lineTo(w+o-2,C+E/2),A.lineTo(w+2,C+E),A.lineTo(w+2,C)}else{var z="both"===D.brushType?2:3;A.rect(w+2,C,z,E),A.rect(w+o-z-2,C,z,E)}}else{if(x.match("image")){var B="";B=x.replace(new RegExp("^image:\\/\\/"),""),x=c.prototype.iconLibrary.image,x(A,{x:w,y:C,width:o,height:E,image:B})}}}}}var f=m("./base"),q=m("zrender/shape/Rectangle"),c=m("../util/shape/Icon"),b=m("../util/shape/Chain"),v=m("../config"),g=m("zrender/tool/util"),k=m("zrender/tool/area"),p=m("zrender/tool/event");return u.prototype={type:v.COMPONENT_TYPE_TIMELINE,_buildShape:function(){if(this._location=this._getLocation(),this._buildBackground(),this._buildControl(),this._chainPoint=this._getChainPoint(),this.timelineOption.label.show){for(var h=this._getInterval(),d=0,a=this._chainPoint.length;a>d;d+=h){this._chainPoint[d].showLabel=!0}}this._buildChain(),this._buildHandle();for(var d=0,l=this.shapeList.length;l>d;d++){this.zr.addShape(this.shapeList[d])}},_getLocation:function(){var B,D=this.timelineOption,z=this.reformCssArray(this.timelineOption.padding),x=this.zr.getWidth(),C=this.parsePercent(D.x,x),w=this.parsePercent(D.x2,x);null==D.width?(B=x-C-w,w=x-w):(B=this.parsePercent(D.width,x),w=C+B);var d,E,y=this.zr.getHeight(),A=this.parsePercent(D.height,y);return null!=D.y?(d=this.parsePercent(D.y,y),E=d+A):(E=y-this.parsePercent(D.y2,y),d=E-A),{x:C+z[3],y:d+z[0],x2:w-z[1],y2:E-z[2],width:B-z[1]-z[3],height:A-z[0]-z[2]}},_getReformedLabel:function(h){var d=this.timelineOption,a=null!=d.data[h].name?d.data[h].name:d.data[h],l=d.data[h].formatter||d.label.formatter;return l&&("function"==typeof l?a=l.call(this.myChart,a):"string"==typeof l&&(a=l.replace("{value}",a))),a},_getInterval:function(){var C=this._chainPoint,G=this.timelineOption,B=G.label.interval;if("auto"===B){var y=G.label.textStyle.fontSize,F=G.data,x=G.data.length;if(x>3){var h,H,A=!1;for(B=0;!A&&x>B;){B++,A=!0;for(var D=B;x>D;D+=B){if(h=C[D].x-C[D-B].x,0!==G.label.rotate){H=y}else{if(F[D].textStyle){H=k.getTextWidth(C[D].name,C[D].textFont)}else{var z=C[D].name+"",E=(z.match(/\w/g)||"").length,w=z.length-E;H=E*y*2/3+w*y}}if(H>h){A=!1;break}}}}else{B=1}}else{B=B-0+1}return B},_getChainPoint:function(){function N(a){return null!=K[a].name?K[a].name:K[a]+""}var C,J=this.timelineOption,H=J.symbol.toLowerCase(),R=J.symbolSize,G=J.label.rotate,E=J.label.textStyle,D=this.getFont(E),K=J.data,O=this._location.x,I=this._location.y+this._location.height/4*3,P=this._location.x2-this._location.x,F=K.length,B=[];if(F>1){var l=P/F;if(l=l>50?50:20>l?5:l,P-=2*l,"number"===J.type){for(var w=0;F>w;w++){B.push(O+l+P/(F-1)*w)}}else{B[0]=new Date(N(0).replace(/-/g,"/")),B[F-1]=new Date(N(F-1).replace(/-/g,"/"))-B[0];for(var w=1;F>w;w++){B[w]=O+l+P*(new Date(N(w).replace(/-/g,"/"))-B[0])/B[F-1]}B[0]=O+l}}else{B.push(O+P/2)}for(var z,L,M,Q,S,A=[],w=0;F>w;w++){O=B[w],z=K[w].symbol&&K[w].symbol.toLowerCase()||H,z.match("empty")?(z=z.replace("empty",""),M=!0):M=!1,z.match("star")&&(L=z.replace("star","")-0||5,z="star"),C=K[w].textStyle?g.merge(K[w].textStyle||{},E):E,Q=C.align||"center",G?(Q=G>0?"right":"left",S=[G*Math.PI/180,O,I-5]):S=!1,A.push({x:O,n:L,isEmpty:M,symbol:z,symbolSize:K[w].symbolSize||R,color:K[w].color,borderColor:K[w].borderColor,borderWidth:K[w].borderWidth,name:this._getReformedLabel(w),textColor:C.color,textAlign:Q,textBaseline:C.baseline||"middle",textX:O,textY:I-(G?5:0),textFont:K[w].textStyle?this.getFont(C):D,rotation:S,showLabel:!1})}return A},_buildBackground:function(){var h=this.timelineOption,d=this.reformCssArray(this.timelineOption.padding),a=this._location.width,l=this._location.height;(0!==h.borderWidth||"rgba(0,0,0,0)"!=h.backgroundColor.replace(/\s/g,""))&&this.shapeList.push(new q({zlevel:this._zlevelBase,hoverable:!1,style:{x:this._location.x-d[3],y:this._location.y-d[0],width:a+d[1]+d[3],height:l+d[0]+d[2],brushType:0===h.borderWidth?"fill":"both",color:h.backgroundColor,strokeColor:h.borderColor,lineWidth:h.borderWidth}}))},_buildControl:function(){var y=this,B=this.timelineOption,w=B.lineStyle,o=B.controlStyle;if("none"!==B.controlPosition){var A,l=15,C=5;"left"===B.controlPosition?(A=this._location.x,this._location.x+=3*(l+C)):(A=this._location.x2-(3*(l+C)-C),this._location.x2-=3*(l+C));var x=this._location.y,z={zlevel:this._zlevelBase+1,style:{iconType:"timelineControl",symbol:"last",x:A,y:x,width:l,height:l,brushType:"stroke",color:o.normal.color,strokeColor:o.normal.color,lineWidth:w.width},highlightStyle:{color:o.emphasis.color,strokeColor:o.emphasis.color,lineWidth:w.width+1},clickable:!0};this._ctrLastShape=new c(z),this._ctrLastShape.onclick=function(){y.last()},this.shapeList.push(this._ctrLastShape),A+=l+C,this._ctrPlayShape=new c(g.clone(z)),this._ctrPlayShape.style.brushType="fill",this._ctrPlayShape.style.symbol="play",this._ctrPlayShape.style.status=this.timelineOption.autoPlay?"playing":"stop",this._ctrPlayShape.style.x=A,this._ctrPlayShape.onclick=function(){"stop"===y._ctrPlayShape.style.status?y.play():y.stop()},this.shapeList.push(this._ctrPlayShape),A+=l+C,this._ctrNextShape=new c(g.clone(z)),this._ctrNextShape.style.symbol="next",this._ctrNextShape.style.x=A,this._ctrNextShape.onclick=function(){y.next()},this.shapeList.push(this._ctrNextShape)}},_buildChain:function(){var d=this.timelineOption,a=d.lineStyle;this._timelineShae={zlevel:this._zlevelBase,style:{x:this._location.x,y:this.subPixelOptimize(this._location.y,a.width),width:this._location.x2-this._location.x,height:this._location.height,chainPoint:this._chainPoint,brushType:"both",strokeColor:a.color,lineWidth:a.width,lineType:a.type},hoverable:!1,clickable:!0,onclick:this._onclick},this._timelineShae=new b(this._timelineShae),this.shapeList.push(this._timelineShae)},_buildHandle:function(){var d=this._chainPoint[this.currentIndex],a=d.symbolSize+1;a=5>a?5:a,this._handleShape={zlevel:this._zlevelBase+1,hoverable:!1,draggable:!0,style:{iconType:"diamond",n:d.n,x:d.x-a,y:this._location.y+this._location.height/4-a,width:2*a,height:2*a,brushType:"both",textPosition:"specific",textX:d.x,textY:this._location.y-this._location.height/4,textAlign:"center",textBaseline:"middle"},highlightStyle:{},ondrift:this._ondrift,ondragend:this._ondragend},this._handleShape=new c(this._handleShape),this.shapeList.push(this._handleShape)},_syncHandleShape:function(){if(this.timelineOption.show){var h=this.timelineOption,d=h.checkpointStyle,a=this._chainPoint[this.currentIndex];this._handleShape.style.text=d.label.show?a.name:"",this._handleShape.style.textFont=a.textFont,this._handleShape.style.n=a.n,"auto"===d.symbol?this._handleShape.style.iconType="none"!=a.symbol?a.symbol:"diamond":(this._handleShape.style.iconType=d.symbol,d.symbol.match("star")&&(this._handleShape.style.n=d.symbol.replace("star","")-0||5,this._handleShape.style.iconType="star"));var l;"auto"===d.symbolSize?(l=a.symbolSize+2,l=5>l?5:l):l=d.symbolSize-0,this._handleShape.style.color="auto"===d.color?a.color?a.color:h.controlStyle.emphasis.color:d.color,this._handleShape.style.textColor="auto"===d.label.textStyle.color?this._handleShape.style.color:d.label.textStyle.color,this._handleShape.highlightStyle.strokeColor=this._handleShape.style.strokeColor="auto"===d.borderColor?a.borderColor?a.borderColor:"#fff":d.borderColor,this._handleShape.style.lineWidth="auto"===d.borderWidth?a.borderWidth?a.borderWidth:0:d.borderWidth-0,this._handleShape.highlightStyle.lineWidth=this._handleShape.style.lineWidth+1,this.zr.animate(this._handleShape.id,"style").when(500,{x:a.x-l,textX:a.x,y:this._location.y+this._location.height/4-l,width:2*l,height:2*l}).start("ExponentialOut")}},_findChainIndex:function(h){var d=this._chainPoint,a=d.length;if(h<=d[0].x){return 0}if(h>=d[a-1].x){return a-1}for(var l=0;a-1>l;l++){if(h>=d[l].x&&h<=d[l+1].x){return Math.abs(h-d[l].x)<Math.abs(h-d[l+1].x)?l:l+1}}},__onclick:function(h){var d=p.getX(h.event),a=this._findChainIndex(d);return a===this.currentIndex?!0:(this.currentIndex=a,this.timelineOption.autoPlay&&this.stop(),clearTimeout(this.playTicket),void this._onFrame())},__ondrift:function(y,l){this.timelineOption.autoPlay&&this.stop();var h,A=this._chainPoint,d=A.length;y.style.x+l<=A[0].x-A[0].symbolSize?(y.style.x=A[0].x-A[0].symbolSize,h=0):y.style.x+l>=A[d-1].x-A[d-1].symbolSize?(y.style.x=A[d-1].x-A[d-1].symbolSize,h=d-1):(y.style.x+=l,h=this._findChainIndex(y.style.x));var z=A[h],x=z.symbolSize+2;if(y.style.iconType=z.symbol,y.style.n=z.n,y.style.textX=y.style.x+x/2,y.style.y=this._location.y+this._location.height/4-x,y.style.width=2*x,y.style.height=2*x,y.style.text=z.name,h===this.currentIndex){return !0}if(this.currentIndex=h,this.timelineOption.realtime){clearTimeout(this.playTicket);var w=this;this.playTicket=setTimeout(function(){w._setCurrentOption()},200)}return !0},__ondragend:function(){this.isDragend=!0},ondragend:function(d,a){this.isDragend&&d.target&&(!this.timelineOption.realtime&&this._setCurrentOption(),a.dragOut=!0,a.dragIn=!0,a.needRefresh=!1,this.isDragend=!1,this._syncHandleShape())},last:function(){return this.timelineOption.autoPlay&&this.stop(),this.currentIndex-=1,this.currentIndex<0&&(this.currentIndex=this.timelineOption.data.length-1),this._onFrame(),this.currentIndex},next:function(){return this.timelineOption.autoPlay&&this.stop(),this.currentIndex+=1,this.currentIndex>=this.timelineOption.data.length&&(this.currentIndex=0),this._onFrame(),this.currentIndex},play:function(d,a){return this._ctrPlayShape&&"playing"!=this._ctrPlayShape.style.status&&(this._ctrPlayShape.style.status="playing",this.zr.modShape(this._ctrPlayShape.id),this.zr.refresh()),this.timelineOption.autoPlay=null!=a?a:!0,this.timelineOption.autoPlay||clearTimeout(this.playTicket),this.currentIndex=null!=d?d:this.currentIndex+1,this.currentIndex>=this.timelineOption.data.length&&(this.currentIndex=0),this._onFrame(),this.currentIndex},stop:function(){return this._ctrPlayShape&&"stop"!=this._ctrPlayShape.style.status&&(this._ctrPlayShape.style.status="stop",this.zr.modShape(this._ctrPlayShape.id),this.zr.refresh()),this.timelineOption.autoPlay=!1,clearTimeout(this.playTicket),this.currentIndex},resize:function(){this.timelineOption.show&&(this.clear(),this._buildShape(),this._syncHandleShape())},setTheme:function(a){this.timelineOption=this.reformOption(g.clone(this.option.timeline)),this.timelineOption.label.textStyle=g.merge(this.timelineOption.label.textStyle||{},this.ecTheme.textStyle),this.timelineOption.checkpointStyle.label.textStyle=g.merge(this.timelineOption.checkpointStyle.label.textStyle||{},this.ecTheme.textStyle),this.myChart.canvasSupported||(this.timelineOption.realtime=!1),this.timelineOption.show&&a&&(this.clear(),this._buildShape(),this._syncHandleShape())},onbeforDispose:function(){clearTimeout(this.playTicket)}},c.prototype.iconLibrary.timelineControl=j,g.inherits(u,f),m("../component").define("timeline",u),u}),define("zrender/shape/Image",["require","./Base","../tool/util"],function(c){var b=c("./Base"),a=function(d){b.call(this,d)};return a.prototype={type:"image",brush:function(y,D,w){var k=this.style||{};D&&(k=this.getHighlightStyle(k,this.highlightStyle||{}));var B=k.image,j=this;if(this._imageCache||(this._imageCache={}),"string"==typeof B){var f=B;this._imageCache[f]?B=this._imageCache[f]:(B=new Image,B.onload=function(){B.onload=null,j.modSelf(),w()},B.src=f,this._imageCache[f]=B)}if(B){if("IMG"==B.nodeName.toUpperCase()){if(window.ActiveXObject){if("complete"!=B.readyState){return}}else{if(!B.complete){return}}}var E=k.width||B.width,v=k.height||B.height,x=k.x,z=k.y;if(!B.width||!B.height){return}if(y.save(),this.doClip(y),this.setContext(y,k),this.setTransform(y),k.sWidth&&k.sHeight){var q=k.sx||0,A=k.sy||0;y.drawImage(B,q,A,k.sWidth,k.sHeight,x,z,E,v)}else{if(k.sx&&k.sy){var q=k.sx,A=k.sy,g=E-q,C=v-A;y.drawImage(B,q,A,g,C,x,z,E,v)}else{y.drawImage(B,x,z,E,v)}}k.width||(k.width=E),k.height||(k.height=v),this.style.width||(this.style.width=E),this.style.height||(this.style.height=v),this.drawText(y,k,this.style),y.restore()}},getRect:function(d){return{x:d.x,y:d.y,width:d.width,height:d.height}},clearCache:function(){this._imageCache={}}},c("../tool/util").inherits(a,b),a}),define("zrender/loadingEffect/Bar",["require","./Base","../tool/util","../tool/color","../shape/Rectangle"],function(f){function d(a){c.call(this,a)}var c=f("./Base"),h=f("../tool/util"),b=f("../tool/color"),g=f("../shape/Rectangle");return h.inherits(d,c),d.prototype._start=function(p,k){var j=h.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effectOption:{x:0,y:this.canvasHeight/2-30,width:this.canvasWidth,height:5,brushType:"fill",timeInterval:100}}),o=this.createTextShape(j.textStyle),n=this.createBackgroundShape(j.backgroundColor),a=j.effectOption,m=new g({highlightStyle:h.clone(a)});return m.highlightStyle.color=a.color||b.getLinearGradient(a.x,a.y,a.x+a.width,a.y+a.height,[[0,"#ff6400"],[0.5,"#ffe100"],[1,"#b1ff00"]]),null!=j.progress?(p(n),m.highlightStyle.width=this.adjust(j.progress,[0,1])*j.effectOption.width,p(m),p(o),void k()):(m.highlightStyle.width=0,setInterval(function(){p(n),m.highlightStyle.width<a.width?m.highlightStyle.width+=8:m.highlightStyle.width=0,p(m),p(o),k()},a.timeInterval))},d}),define("zrender/loadingEffect/Bubble",["require","./Base","../tool/util","../tool/color","../shape/Circle"],function(f){function d(a){c.call(this,a)}var c=f("./Base"),h=f("../tool/util"),b=f("../tool/color"),g=f("../shape/Circle");return h.inherits(d,c),d.prototype._start=function(x,B){for(var v=h.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{n:50,lineWidth:2,brushType:"stroke",color:"random",timeInterval:100}}),a=this.createTextShape(v.textStyle),C=this.createBackgroundShape(v.backgroundColor),q=v.effect,w=q.n,y=q.brushType,n=q.lineWidth,z=[],j=this.canvasWidth,A=this.canvasHeight,k=0;w>k;k++){var o="random"==q.color?b.alpha(b.random(),0.3):q.color;z[k]=new g({highlightStyle:{x:Math.ceil(Math.random()*j),y:Math.ceil(Math.random()*A),r:Math.ceil(40*Math.random()),brushType:y,color:o,strokeColor:o,lineWidth:n},animationY:Math.ceil(20*Math.random())})}return setInterval(function(){x(C);for(var e=0;w>e;e++){var l=z[e].highlightStyle;l.y-z[e].animationY+l.r<=0&&(z[e].highlightStyle.y=A+l.r,z[e].highlightStyle.x=Math.ceil(Math.random()*j)),z[e].highlightStyle.y-=z[e].animationY,x(z[e])}x(a),B()},q.timeInterval)},d}),define("zrender/loadingEffect/DynamicLine",["require","./Base","../tool/util","../tool/color","../shape/Line"],function(f){function d(a){c.call(this,a)}var c=f("./Base"),h=f("../tool/util"),b=f("../tool/color"),g=f("../shape/Line");return h.inherits(d,c),d.prototype._start=function(z,E){for(var v=h.merge(this.options,{textStyle:{color:"#fff"},backgroundColor:"rgba(0, 0, 0, 0.8)",effectOption:{n:30,lineWidth:1,color:"random",timeInterval:100}}),a=this.createTextShape(v.textStyle),F=this.createBackgroundShape(v.backgroundColor),q=v.effectOption,w=q.n,A=q.lineWidth,n=[],B=this.canvasWidth,j=this.canvasHeight,D=0;w>D;D++){var k=-Math.ceil(1000*Math.random()),o=Math.ceil(400*Math.random()),C=Math.ceil(Math.random()*j),x="random"==q.color?b.random():q.color;n[D]=new g({highlightStyle:{xStart:k,yStart:C,xEnd:k+o,yEnd:C,strokeColor:x,lineWidth:A},animationX:Math.ceil(100*Math.random()),len:o})}return setInterval(function(){z(F);for(var e=0;w>e;e++){var l=n[e].highlightStyle;l.xStart>=B&&(n[e].len=Math.ceil(400*Math.random()),l.xStart=-400,l.xEnd=-400+n[e].len,l.yStart=Math.ceil(Math.random()*j),l.yEnd=l.yStart),l.xStart+=n[e].animationX,l.xEnd+=n[e].animationX,z(n[e])}z(a),E()},q.timeInterval)},d}),define("zrender/loadingEffect/Ring",["require","./Base","../tool/util","../tool/color","../shape/Ring","../shape/Sector"],function(g){function d(a){c.call(this,a)}var c=g("./Base"),j=g("../tool/util"),b=g("../tool/color"),h=g("../shape/Ring"),f=g("../shape/Sector");return j.inherits(d,c),d.prototype._start=function(H,v){var D=j.merge(this.options,{textStyle:{color:"#07a"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{x:this.canvasWidth/2,y:this.canvasHeight/2,r0:60,r:100,color:"#bbdcff",brushType:"fill",textPosition:"inside",textFont:"normal 30px verdana",textColor:"rgba(30, 144, 255, 0.6)",timeInterval:100}}),w=D.effect,B=D.textStyle;null==B.x&&(B.x=w.x),null==B.y&&(B.y=w.y+(w.r0+w.r)/2-5);for(var E=this.createTextShape(D.textStyle),I=this.createBackgroundShape(D.backgroundColor),A=w.x,J=w.y,z=w.r0+6,r=w.r-6,a=w.color,n=b.lift(a,0.1),o=new h({highlightStyle:j.clone(w)}),F=[],G=b.getGradientColors(["#ff6400","#ffe100","#97ff00"],25),K=15,L=240,q=0;16>q;q++){F.push(new f({highlightStyle:{x:A,y:J,r0:z,r:r,startAngle:L-K,endAngle:L,brushType:"fill",color:n},_color:b.getLinearGradient(A+z*Math.cos(L,!0),J-z*Math.sin(L,!0),A+z*Math.cos(L-K,!0),J-z*Math.sin(L-K,!0),[[0,G[2*q]],[1,G[2*q+1]]])})),L-=K}L=360;for(var q=0;4>q;q++){F.push(new f({highlightStyle:{x:A,y:J,r0:z,r:r,startAngle:L-K,endAngle:L,brushType:"fill",color:n},_color:b.getLinearGradient(A+z*Math.cos(L,!0),J-z*Math.sin(L,!0),A+z*Math.cos(L-K,!0),J-z*Math.sin(L-K,!0),[[0,G[2*q+32]],[1,G[2*q+33]]])})),L-=K}var C=0;if(null!=D.progress){H(I),C=100*this.adjust(D.progress,[0,1]).toFixed(2)/5,o.highlightStyle.text=5*C+"%",H(o);for(var q=0;20>q;q++){F[q].highlightStyle.color=C>q?F[q]._color:n,H(F[q])}return H(E),void v()}return setInterval(function(){H(I),C+=C>=20?-20:1,H(o);for(var e=0;20>e;e++){F[e].highlightStyle.color=C>e?F[e]._color:n,H(F[e])}H(E),v()},w.timeInterval)},d}),define("zrender/loadingEffect/Spin",["require","./Base","../tool/util","../tool/color","../tool/area","../shape/Sector"],function(g){function d(a){c.call(this,a)}var c=g("./Base"),j=g("../tool/util"),b=g("../tool/color"),h=g("../tool/area"),f=g("../shape/Sector");return j.inherits(d,c),d.prototype._start=function(H,v){var D=j.merge(this.options,{textStyle:{color:"#fff",textAlign:"start"},backgroundColor:"rgba(0, 0, 0, 0.8)"}),w=this.createTextShape(D.textStyle),B=10,E=h.getTextWidth(w.highlightStyle.text,w.highlightStyle.textFont),I=h.getTextHeight(w.highlightStyle.text,w.highlightStyle.textFont),A=j.merge(this.options.effect||{},{r0:9,r:15,n:18,color:"#fff",timeInterval:100}),J=this.getLocation(this.options.textStyle,E+B+2*A.r,Math.max(2*A.r,I));A.x=J.x+A.r,A.y=w.highlightStyle.y=J.y+J.height/2,w.highlightStyle.x=A.x+A.r+B;for(var z=this.createBackgroundShape(D.backgroundColor),r=A.n,a=A.x,n=A.y,o=A.r0,F=A.r,G=A.color,K=[],L=Math.round(180/r),q=0;r>q;q++){K[q]=new f({highlightStyle:{x:a,y:n,r0:o,r:F,startAngle:L*q*2,endAngle:L*q*2+L,color:b.alpha(G,(q+1)/r),brushType:"fill"}})}var C=[0,a,n];return setInterval(function(){H(z),C[0]-=0.3;for(var e=0;r>e;e++){K[e].rotation=C,H(K[e])}H(w),v()},A.timeInterval)},d}),define("zrender/loadingEffect/Whirling",["require","./Base","../tool/util","../tool/area","../shape/Ring","../shape/Droplet","../shape/Circle"],function(h){function d(a){c.call(this,a)}var c=h("./Base"),k=h("../tool/util"),b=h("../tool/area"),j=h("../shape/Ring"),g=h("../shape/Droplet"),f=h("../shape/Circle");return k.inherits(d,c),d.prototype._start=function(x,D){var s=k.merge(this.options,{textStyle:{color:"#888",textAlign:"start"},backgroundColor:"rgba(250, 250, 250, 0.8)"}),r=this.createTextShape(s.textStyle),v=10,z=b.getTextWidth(r.highlightStyle.text,r.highlightStyle.textFont),o=b.getTextHeight(r.highlightStyle.text,r.highlightStyle.textFont),A=k.merge(this.options.effect||{},{r:18,colorIn:"#fff",colorOut:"#555",colorWhirl:"#6cf",timeInterval:50}),a=this.getLocation(this.options.textStyle,z+v+2*A.r,Math.max(2*A.r,o));A.x=a.x+A.r,A.y=r.highlightStyle.y=a.y+a.height/2,r.highlightStyle.x=A.x+A.r+v;var C=this.createBackgroundShape(s.backgroundColor),n=new g({highlightStyle:{a:Math.round(A.r/2),b:Math.round(A.r-A.r/6),brushType:"fill",color:A.colorWhirl}}),q=new f({highlightStyle:{r:Math.round(A.r/6),brushType:"fill",color:A.colorIn}}),B=new j({highlightStyle:{r0:Math.round(A.r-A.r/3),r:A.r,brushType:"fill",color:A.colorOut}}),w=[0,A.x,A.y];return n.highlightStyle.x=q.highlightStyle.x=B.highlightStyle.x=w[1],n.highlightStyle.y=q.highlightStyle.y=B.highlightStyle.y=w[2],setInterval(function(){x(C),x(B),w[0]-=0.3,n.rotation=w,x(n),x(q),x(r),D()},A.timeInterval)},d}),define("echarts/theme/default",[],function(){var a={};return a}),define("zrender/dep/excanvas",["require"],function(){return document.createElement("canvas").getContext?G_vmlCanvasManager=!1:!function(){function aU(){return this.context_||(this.context_=new aX(this))}function aG(c,b){var a=ak.call(arguments,2);return function(){return c.apply(b,a.concat(ak.call(arguments)))}}function aQ(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function aM(c,b,a){c.namespaces[b]||c.namespaces.add(b,a,"#default#VML")}function aY(b){if(aM(b,"g_vml_","urn:schemas-microsoft-com:vml"),aM(b,"g_o_","urn:schemas-microsoft-com:office:office"),!b.styleSheets.ex_canvas_){var a=b.createStyleSheet();a.owningElement.id="ex_canvas_",a.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function aL(b){var a=b.srcElement;switch(b.propertyName){case"width":a.getContext().clearRect(),a.style.width=a.attributes.width.nodeValue+"px",a.firstChild.style.width=a.clientWidth+"px";break;case"height":a.getContext().clearRect(),a.style.height=a.attributes.height.nodeValue+"px",a.firstChild.style.height=a.clientHeight+"px"}}function aI(b){var a=b.srcElement;a.firstChild&&(a.firstChild.style.width=a.clientWidth+"px",a.firstChild.style.height=a.clientHeight+"px")}function aH(){return[[1,0,0],[0,1,0],[0,0,1]]}function aO(g,d){for(var c=aH(),k=0;3>k;k++){for(var b=0;3>b;b++){for(var h=0,f=0;3>f;f++){h+=g[k][f]*d[f][b]}c[k][b]=h}}return c}function aR(b,a){a.fillStyle=b.fillStyle,a.lineCap=b.lineCap,a.lineJoin=b.lineJoin,a.lineWidth=b.lineWidth,a.miterLimit=b.miterLimit,a.shadowBlur=b.shadowBlur,a.shadowColor=b.shadowColor,a.shadowOffsetX=b.shadowOffsetX,a.shadowOffsetY=b.shadowOffsetY,a.strokeStyle=b.strokeStyle,a.globalAlpha=b.globalAlpha,a.font=b.font,a.textAlign=b.textAlign,a.textBaseline=b.textBaseline,a.scaleX_=b.scaleX_,a.scaleY_=b.scaleY_,a.lineScale_=b.lineScale_}function aV(c){var b=c.indexOf("(",3),a=c.indexOf(")",b+1),d=c.substring(b+1,a).split(",");return(4!=d.length||"a"!=c.charAt(3))&&(d[3]=1),d}function aN(a){return parseFloat(a)/100}function aW(c,b,a){return Math.min(a,Math.max(b,c))}function aK(h){var m,g,d,k,c,b;if(k=parseFloat(h[0])/360%360,0>k&&k++,c=aW(aN(h[1]),0,1),b=aW(aN(h[2]),0,1),0==c){m=g=d=b}else{var p=0.5>b?b*(1+c):b+c-b*c,f=2*b-p;m=aF(f,p,k+1/3),g=aF(f,p,k),d=aF(f,p,k-1/3)}return"#"+aw[Math.floor(255*m)]+aw[Math.floor(255*g)]+aw[Math.floor(255*d)]}function aF(c,b,a){return 0>a&&a++,a>1&&a--,1>6*a?c+6*(b-c)*a:1>2*a?b:2>3*a?c+(b-c)*(2/3-a)*6:c}function ad(f){if(f in ah){return ah[f]}var d,c=1;if(f=String(f),"#"==f.charAt(0)){d=f}else{if(/^rgb/.test(f)){for(var h,b=aV(f),d="#",g=0;3>g;g++){h=-1!=b[g].indexOf("%")?Math.floor(255*aN(b[g])):+b[g],d+=aw[aW(h,0,255)]}c=+b[3]}else{if(/^hsl/.test(f)){var b=aV(f);d=aK(b),c=b[3]}else{d=ay[f]||f}}}return ah[f]={color:d,alpha:c}}function ae(f){if(aa[f]){return aa[f]}var d,c=document.createElement("div"),g=c.style;try{g.font=f,d=g.fontFamily.split(",")[0]}catch(b){}return aa[f]={style:g.fontStyle||at.style,variant:g.fontVariant||at.variant,weight:g.fontWeight||at.weight,size:g.fontSize||at.size,family:d||at.family}}function aB(f,d){var c={};for(var h in f){c[h]=f[h]}var b=parseFloat(d.currentStyle.fontSize),g=parseFloat(f.size);return c.size="number"==typeof f.size?f.size:-1!=f.size.indexOf("px")?g:-1!=f.size.indexOf("em")?b*g:-1!=f.size.indexOf("%")?b/100*g:-1!=f.size.indexOf("pt")?g/0.75:b,c}function aS(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+"px '"+a.family+"'"}function aT(a){return ai[a]||"square"}function aX(c){this.m_=aH(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*ap,this.globalAlpha=1,this.font="12px 微软雅黑",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=c;var b="width:"+c.clientWidth+"px;height:"+c.clientHeight+"px;overflow:hidden;position:absolute",a=c.ownerDocument.createElement("div");a.style.cssText=b,c.appendChild(a);var d=a.cloneNode(!1);d.style.backgroundColor="#fff",d.style.filter="alpha(opacity=0)",c.appendChild(d),this.element_=a,this.scaleX_=1,this.scaleY_=1,this.lineScale_=1}function aZ(c,b,a,d){c.currentPath_.push({type:"bezierCurveTo",cp1x:b.x,cp1y:b.y,cp2x:a.x,cp2y:a.y,x:d.x,y:d.y}),c.currentX_=d.x,c.currentY_=d.y}function aC(f,d){var c=ad(f.strokeStyle),h=c.color,b=c.alpha*f.globalAlpha,g=f.lineScale_*f.lineWidth;1>g&&(b*=g),d.push("<g_vml_:stroke",' opacity="',b,'"',' joinstyle="',f.lineJoin,'"',' miterlimit="',f.miterLimit,'"',' endcap="',aT(f.lineCap),'"',' weight="',g,'px"',' color="',h,'" />')}function aP(be,a1,ba,a6){var bi=be.fillStyle,a5=be.scaleX_,a3=be.scaleY_,a2=a6.x-ba.x,a8=a6.y-ba.y;if(bi instanceof aD){var bb=0,bf={x:0,y:0},a7=0,bg=1;if("gradient"==bi.type_){var a4=bi.x0_/a5,a0=bi.y0_/a3,w=bi.x1_/a5,X=bi.y1_/a3,bc=an(be,a4,a0),bd=an(be,w,X),bh=bd.x-bc.x,bj=bd.y-bc.y;bb=180*Math.atan2(bh,bj)/Math.PI,0>bb&&(bb+=360),0.000001>bb&&(bb=0)}else{var bc=an(be,bi.x0_,bi.y0_);bf={x:(bc.x-ba.x)/a2,y:(bc.y-ba.y)/a8},a2/=a5*ap,a8/=a3*ap;var Y=af.max(a2,a8);a7=2*bi.r0_/Y,bg=2*bi.r1_/Y-a7}var a9=bi.colors_;a9.sort(function(b,a){return b.offset-a.offset});for(var Z=a9.length,q=a9[0].color,L=a9[Z-1].color,J=a9[0].alpha*be.globalAlpha,B=a9[Z-1].alpha*be.globalAlpha,R=[],Q=0;Z>Q;Q++){var T=a9[Q];R.push(T.offset*bg+a7+" "+T.color)}a1.push('<g_vml_:fill type="',bi.type_,'"',' method="none" focus="100%"',' color="',q,'"',' color2="',L,'"',' colors="',R.join(","),'"',' opacity="',B,'"',' g_o_:opacity2="',J,'"',' angle="',bb,'"',' focusposition="',bf.x,",",bf.y,'" />')}else{if(bi instanceof ab){if(a2&&a8){var V=-ba.x,H=-ba.y;a1.push("<g_vml_:fill",' position="',V/a2*a5*a5,",",H/a8*a3*a3,'"',' type="tile"',' src="',bi.src_,'" />')}}else{var N=ad(be.fillStyle),G=N.color,D=N.alpha*be.globalAlpha;a1.push('<g_vml_:fill color="',G,'" opacity="',D,'" />')}}}function an(c,b,a){var d=c.m_;return{x:ap*(b*d[0][0]+a*d[1][0]+d[2][0])-au,y:ap*(b*d[0][1]+a*d[1][1]+d[2][1])-au}}function aE(a){return isFinite(a[0][0])&&isFinite(a[0][1])&&isFinite(a[1][0])&&isFinite(a[1][1])&&isFinite(a[2][0])&&isFinite(a[2][1])}function ac(c,b,a){if(aE(b)&&(c.m_=b,c.scaleX_=Math.sqrt(b[0][0]*b[0][0]+b[0][1]*b[0][1]),c.scaleY_=Math.sqrt(b[1][0]*b[1][0]+b[1][1]*b[1][1]),a)){var d=b[0][0]*b[1][1]-b[0][1]*b[1][0];c.lineScale_=am(aA(d))}}function aD(a){this.type_=a,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function ab(b,a){switch(ao(b),a){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=a;break;default:aq("SYNTAX_ERR")}this.src_=b.src,this.width_=b.width,this.height_=b.height}function aq(a){throw new ag(a)}function ao(a){a&&1==a.nodeType&&"IMG"==a.tagName||aq("TYPE_MISMATCH_ERR"),"complete"!=a.readyState&&aq("INVALID_STATE_ERR")}function ag(a){this.code=this[a],this.message=a+": DOM Exception "+this.code}var af=Math,ax=af.round,av=af.sin,az=af.cos,aA=af.abs,am=af.sqrt,ap=10,au=ap/2,ak=(+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1],Array.prototype.slice);aY(document);var aj={init:function(b){var a=b||document;a.createElement("canvas"),a.attachEvent("onreadystatechange",aG(this.init_,this,a))},init_:function(c){for(var b=c.getElementsByTagName("canvas"),a=0;a<b.length;a++){this.initElement(b[a])}},initElement:function(b){if(!b.getContext){b.getContext=aU,aY(b.ownerDocument),b.innerHTML="",b.attachEvent("onpropertychange",aL),b.attachEvent("onresize",aI);var a=b.attributes;a.width&&a.width.specified?b.style.width=a.width.nodeValue+"px":b.width=b.clientWidth,a.height&&a.height.specified?b.style.height=a.height.nodeValue+"px":b.height=b.clientHeight}return b}};aj.init();for(var aw=[],al=0;16>al;al++){for(var ar=0;16>ar;ar++){aw[16*al+ar]=al.toString(16)+ar.toString(16)}}var ay={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},ah={},at={style:"normal",variant:"normal",weight:"normal",size:12,family:"微软雅黑"},aa={},ai={butt:"flat",round:"round"},aJ=aX.prototype;aJ.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},aJ.beginPath=function(){this.currentPath_=[]},aJ.moveTo=function(c,b){var a=an(this,c,b);this.currentPath_.push({type:"moveTo",x:a.x,y:a.y}),this.currentX_=a.x,this.currentY_=a.y},aJ.lineTo=function(c,b){var a=an(this,c,b);this.currentPath_.push({type:"lineTo",x:a.x,y:a.y}),this.currentX_=a.x,this.currentY_=a.y},aJ.bezierCurveTo=function(h,m,g,d,k,c){var b=an(this,k,c),p=an(this,h,m),f=an(this,g,d);aZ(this,p,f,b)},aJ.quadraticCurveTo=function(h,d,c,l){var b=an(this,h,d),k=an(this,c,l),g={x:this.currentX_+2/3*(b.x-this.currentX_),y:this.currentY_+2/3*(b.y-this.currentY_)},f={x:g.x+(k.x-this.currentX_)/3,y:g.y+(k.y-this.currentY_)/3};aZ(this,g,f,k)},aJ.arc=function(x,B,v,k,A,g){v*=ap;var b=g?"at":"wa",C=x+az(k)*v-au,u=B+av(k)*v-au,w=x+az(A)*v-au,y=B+av(A)*v-au;C!=w||g||(C+=0.125);var q=an(this,x,B),z=an(this,C,u),f=an(this,w,y);this.currentPath_.push({type:b,x:q.x,y:q.y,radius:v,xStart:z.x,yStart:z.y,xEnd:f.x,yEnd:f.y})},aJ.rect=function(c,b,a,d){this.moveTo(c,b),this.lineTo(c+a,b),this.lineTo(c+a,b+d),this.lineTo(c,b+d),this.closePath()},aJ.strokeRect=function(f,d,c,g){var b=this.currentPath_;this.beginPath(),this.moveTo(f,d),this.lineTo(f+c,d),this.lineTo(f+c,d+g),this.lineTo(f,d+g),this.closePath(),this.stroke(),this.currentPath_=b},aJ.fillRect=function(f,d,c,g){var b=this.currentPath_;this.beginPath(),this.moveTo(f,d),this.lineTo(f+c,d),this.lineTo(f+c,d+g),this.lineTo(f,d+g),this.closePath(),this.fill(),this.currentPath_=b},aJ.createLinearGradient=function(f,d,c,g){var b=new aD("gradient");return b.x0_=f,b.y0_=d,b.x1_=c,b.y1_=g,b},aJ.createRadialGradient=function(g,d,c,k,b,h){var f=new aD("gradientradial");return f.x0_=g,f.y0_=d,f.r0_=c,f.x1_=k,f.y1_=b,f.r1_=h,f},aJ.drawImage=function(O){var B,K,G,S,F,D,C,I,L=O.runtimeStyle.width,P=O.runtimeStyle.height;O.runtimeStyle.width="auto",O.runtimeStyle.height="auto";var H=O.width,Q=O.height;if(O.runtimeStyle.width=L,O.runtimeStyle.height=P,3==arguments.length){B=arguments[1],K=arguments[2],F=D=0,C=G=H,I=S=Q}else{if(5==arguments.length){B=arguments[1],K=arguments[2],G=arguments[3],S=arguments[4],F=D=0,C=H,I=Q}else{if(9!=arguments.length){throw Error("Invalid number of arguments")}F=arguments[1],D=arguments[2],C=arguments[3],I=arguments[4],B=arguments[5],K=arguments[6],G=arguments[7],S=arguments[8]}}var E=an(this,B,K),A=[],q=10,v=10,w=N=1;if(A.push(" <g_vml_:group",' coordsize="',ap*q,",",ap*v,'"',' coordorigin="0,0"',' style="width:',q,"px;height:",v,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var M=[],w=this.scaleX_,N=this.scaleY_;M.push("M11=",this.m_[0][0]/w,",","M12=",this.m_[1][0]/N,",","M21=",this.m_[0][1]/w,",","M22=",this.m_[1][1]/N,",","Dx=",ax(E.x/ap),",","Dy=",ax(E.y/ap),"");var R=E,T=an(this,B+G,K),z=an(this,B,K+S),J=an(this,B+G,K+S);R.x=af.max(R.x,T.x,z.x,J.x),R.y=af.max(R.y,T.y,z.y,J.y),A.push("padding:0 ",ax(R.x/ap),"px ",ax(R.y/ap),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",M.join(""),", SizingMethod='clip');")}else{A.push("top:",ax(E.y/ap),"px;left:",ax(E.x/ap),"px;")}A.push(' ">'),(F||D)&&A.push('<div style="overflow: hidden; width:',Math.ceil((G+F*G/C)*w),"px;"," height:",Math.ceil((S+D*S/I)*N),"px;"," filter:progid:DxImageTransform.Microsoft.Matrix(Dx=",-F*G/C*w,",Dy=",-D*S/I*N,');">'),A.push('<div style="width:',Math.round(w*H*G/C),"px;"," height:",Math.round(N*Q*S/I),"px;"," filter:"),this.globalAlpha<1&&A.push(" progid:DXImageTransform.Microsoft.Alpha(opacity="+100*this.globalAlpha+")"),A.push(" progid:DXImageTransform.Microsoft.AlphaImageLoader(src=",O.src,',sizingMethod=scale)">'),(F||D)&&A.push("</div>"),A.push("</div></div>"),this.element_.insertAdjacentHTML("BeforeEnd",A.join(""))},aJ.stroke=function(h){var m=[],g=10,d=10;m.push("<g_vml_:shape",' filled="',!!h,'"',' style="position:absolute;width:',g,"px;height:",d,'px;"',' coordorigin="0,0"',' coordsize="',ap*g,",",ap*d,'"',' stroked="',!h,'"',' path="');for(var k={x:null,y:null},c={x:null,y:null},b=0;b<this.currentPath_.length;b++){var p,f=this.currentPath_[b];switch(f.type){case"moveTo":p=f,m.push(" m ",ax(f.x),",",ax(f.y));break;case"lineTo":m.push(" l ",ax(f.x),",",ax(f.y));break;case"close":m.push(" x "),f=null;break;case"bezierCurveTo":m.push(" c ",ax(f.cp1x),",",ax(f.cp1y),",",ax(f.cp2x),",",ax(f.cp2y),",",ax(f.x),",",ax(f.y));break;case"at":case"wa":m.push(" ",f.type," ",ax(f.x-this.scaleX_*f.radius),",",ax(f.y-this.scaleY_*f.radius)," ",ax(f.x+this.scaleX_*f.radius),",",ax(f.y+this.scaleY_*f.radius)," ",ax(f.xStart),",",ax(f.yStart)," ",ax(f.xEnd),",",ax(f.yEnd))}f&&((null==k.x||f.x<k.x)&&(k.x=f.x),(null==c.x||f.x>c.x)&&(c.x=f.x),(null==k.y||f.y<k.y)&&(k.y=f.y),(null==c.y||f.y>c.y)&&(c.y=f.y))}m.push(' ">'),h?aP(this,m,k,c):aC(this,m),m.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",m.join(""))},aJ.fill=function(){this.stroke(!0)},aJ.closePath=function(){this.currentPath_.push({type:"close"})},aJ.save=function(){var a={};aR(this,a),this.aStack_.push(a),this.mStack_.push(this.m_),this.m_=aO(aH(),this.m_)},aJ.restore=function(){this.aStack_.length&&(aR(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},aJ.translate=function(c,b){var a=[[1,0,0],[0,1,0],[c,b,1]];ac(this,aO(a,this.m_),!1)},aJ.rotate=function(c){var b=az(c),a=av(c),d=[[b,a,0],[-a,b,0],[0,0,1]];ac(this,aO(d,this.m_),!1)},aJ.scale=function(c,b){var a=[[c,0,0],[0,b,0],[0,0,1]];ac(this,aO(a,this.m_),!0)},aJ.transform=function(g,d,c,k,b,h){var f=[[g,d,0],[c,k,0],[b,h,1]];ac(this,aO(f,this.m_),!0)},aJ.setTransform=function(g,d,c,k,b,h){var f=[[g,d,0],[c,k,0],[b,h,1]];ac(this,f,!0)},aJ.drawText_=function(D,k,y,H,x){var v=this.m_,q=1000,A=0,B=q,E={x:0,y:0},z=[],F=aB(ae(this.font),this.element_),w=aS(F),i=this.element_.currentStyle,g=this.textAlign.toLowerCase();switch(g){case"left":case"center":case"right":break;case"end":g="ltr"==i.direction?"right":"left";break;case"start":g="rtl"==i.direction?"right":"left";break;default:g="left"}switch(this.textBaseline){case"hanging":case"top":E.y=F.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":E.y=-F.size/2.25}switch(g){case"right":A=q,B=0.05;break;case"center":A=B=q/2}var C=an(this,k+E.x,y+E.y);z.push('<g_vml_:line from="',-A,' 0" to="',B,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!x,'" stroked="',!!x,'" style="position:absolute;width:1px;height:1px;">'),x?aC(this,z):aP(this,z,{x:-A,y:0},{x:B,y:F.size});var G=v[0][0].toFixed(3)+","+v[1][0].toFixed(3)+","+v[0][1].toFixed(3)+","+v[1][1].toFixed(3)+",0,0",I=ax(C.x/ap)+","+ax(C.y/ap);z.push('<g_vml_:skew on="t" matrix="',G,'" ',' offset="',I,'" origin="',A,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',aQ(D),'" style="v-text-align:',g,";font:",aQ(w),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",z.join(""))},aJ.fillText=function(c,b,a,d){this.drawText_(c,b,a,d,!1)},aJ.strokeText=function(c,b,a,d){this.drawText_(c,b,a,d,!0)},aJ.measureText=function(c){if(!this.textMeasureEl_){var b='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",b),this.textMeasureEl_=this.element_.lastChild}var a=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";try{this.textMeasureEl_.style.font=this.font}catch(d){}return this.textMeasureEl_.appendChild(a.createTextNode(c)),{width:this.textMeasureEl_.offsetWidth}},aJ.clip=function(){},aJ.arcTo=function(){},aJ.createPattern=function(b,a){return new ab(b,a)},aD.prototype.addColorStop=function(b,a){a=ad(a),this.colors_.push({offset:b,color:a.color,alpha:a.alpha})};var j=ag.prototype=new Error;j.INDEX_SIZE_ERR=1,j.DOMSTRING_SIZE_ERR=2,j.HIERARCHY_REQUEST_ERR=3,j.WRONG_DOCUMENT_ERR=4,j.INVALID_CHARACTER_ERR=5,j.NO_DATA_ALLOWED_ERR=6,j.NO_MODIFICATION_ALLOWED_ERR=7,j.NOT_FOUND_ERR=8,j.NOT_SUPPORTED_ERR=9,j.INUSE_ATTRIBUTE_ERR=10,j.INVALID_STATE_ERR=11,j.SYNTAX_ERR=12,j.INVALID_MODIFICATION_ERR=13,j.NAMESPACE_ERR=14,j.INVALID_ACCESS_ERR=15,j.VALIDATION_ERR=16,j.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=aj,CanvasRenderingContext2D=aX,CanvasGradient=aD,CanvasPattern=ab,DOMException=ag}(),G_vmlCanvasManager}),define("zrender/mixin/Eventful",["require"],function(){var a=function(){this._handlers={}};return a.prototype.one=function(d,c,b){var f=this._handlers;return c&&d?(f[d]||(f[d]=[]),f[d].push({h:c,one:!0,ctx:b||this}),this):this},a.prototype.bind=function(d,c,b){var f=this._handlers;return c&&d?(f[d]||(f[d]=[]),f[d].push({h:c,one:!1,ctx:b||this}),this):this},a.prototype.unbind=function(f,d){var c=this._handlers;if(!f){return this._handlers={},this}if(d){if(c[f]){for(var h=[],b=0,g=c[f].length;g>b;b++){c[f][b].h!=d&&h.push(c[f][b])}c[f]=h}c[f]&&0===c[f].length&&delete c[f]}else{delete c[f]}return this},a.prototype.dispatch=function(f){if(this._handlers[f]){var d=arguments,c=d.length;c>3&&(d=Array.prototype.slice.call(d,1));for(var h=this._handlers[f],b=h.length,g=0;b>g;){switch(c){case 1:h[g].h.call(h[g].ctx);break;case 2:h[g].h.call(h[g].ctx,d[1]);break;case 3:h[g].h.call(h[g].ctx,d[1],d[2]);break;default:h[g].h.apply(h[g].ctx,d)}h[g].one?(h.splice(g,1),b--):g++}}return this},a.prototype.dispatchWithContext=function(g){if(this._handlers[g]){var d=arguments,c=d.length;c>4&&(d=Array.prototype.slice.call(d,1,d.length-1));for(var j=d[d.length-1],b=this._handlers[g],h=b.length,f=0;h>f;){switch(c){case 1:b[f].h.call(j);break;case 2:b[f].h.call(j,d[1]);break;case 3:b[f].h.call(j,d[1],d[2]);break;default:b[f].h.apply(j,d)}b[f].one?(b.splice(f,1),h--):f++}}return this},a}),define("zrender/tool/log",["require","../config"],function(b){var a=b("../config");return function(){if(0!==a.debugMode){if(1==a.debugMode){for(var c in arguments){throw new Error(arguments[c])}}else{if(a.debugMode>1){for(var c in arguments){console.log(arguments[c])}}}}}}),define("zrender/tool/guid",[],function(){var a=2311;return function(){return"zrender__"+a++}}),define("zrender/Handler",["require","./config","./tool/env","./tool/event","./tool/util","./tool/vector","./tool/matrix","./mixin/Eventful"],function(z){function E(c,a){return function(d){return c.call(a,d)}}function x(c,a){return function(e,h,d){return c.call(a,e,h,d)}}function j(c){for(var a=f.length;a--;){var d=f[a];c["_"+d+"Handler"]=E(D[d],c)}}function C(l,h,d){if(this._draggingTarget&&this._draggingTarget.id==l.id||l.isSilent()){return !1}var m=this._event;if(l.isCover(h,d)){l.hoverable&&this.storage.addHover(l);for(var c=l.parent;c;){if(c.clipShape&&!c.clipShape.isCover(this._mouseX,this._mouseY)){return !1}c=c.parent}return this._lastHover!=l&&(this._processOutShape(m),this._processDragLeave(m),this._lastHover=l,this._processDragEnter(m)),this._processOverShape(m),this._processDragOver(m),this._hasfound=1,!0}return !1}var g=z("./config"),b=z("./tool/env"),F=z("./tool/event"),w=z("./tool/util"),y=z("./tool/vector"),A=z("./tool/matrix"),q=g.EVENT,B=z("./mixin/Eventful"),f=["resize","click","dblclick","mousewheel","mousemove","mouseout","mouseup","mousedown","touchstart","touchend","touchmove"],D={resize:function(a){a=a||window.event,this._lastHover=null,this._isMouseDown=0,this.dispatch(q.RESIZE,a)},click:function(c){c=this._zrenderEventFixed(c);var a=this._lastHover;(a&&a.clickable||!a)&&this._clickThreshold<5&&this._dispatchAgency(a,q.CLICK,c),this._mousemoveHandler(c)},dblclick:function(c){c=c||window.event,c=this._zrenderEventFixed(c);var a=this._lastHover;(a&&a.clickable||!a)&&this._clickThreshold<5&&this._dispatchAgency(a,q.DBLCLICK,c),this._mousemoveHandler(c)},mousewheel:function(G){G=this._zrenderEventFixed(G);var I=G.wheelDelta||-G.detail,s=I>0?1.1:1/1.1,m=this.painter.getLayers(),H=!1;for(var d in m){if("hover"!==d){var c=m[d],p=c.position;if(c.zoomable){c.__zoom=c.__zoom||1;var u=c.__zoom;u*=s,u=Math.max(Math.min(c.maxZoom,u),c.minZoom),s=u/c.__zoom,c.__zoom=u,p[0]-=(this._mouseX-p[0])*(s-1),p[1]-=(this._mouseY-p[1])*(s-1),c.scale[0]*=s,c.scale[1]*=s,c.dirty=!0,H=!0,F.stop(G)}}}H&&this.painter.refresh(),this._dispatchAgency(this._lastHover,q.MOUSEWHEEL,G),this._mousemoveHandler(G)},mousemove:function(s){if(!this.painter.isLoading()){this._clickThreshold++,s=this._zrenderEventFixed(s),this._lastX=this._mouseX,this._lastY=this._mouseY,this._mouseX=F.getX(s),this._mouseY=F.getY(s);var m=this._mouseX-this._lastX,h=this._mouseY-this._lastY;this._processDragStart(s),this._hasfound=0,this._event=s,this._iterateAndFindHover(),this._hasfound||((!this._draggingTarget||this._lastHover&&this._lastHover!=this._draggingTarget)&&(this._processOutShape(s),this._processDragLeave(s)),this._lastHover=null,this.storage.delHover(),this.painter.clearHover());var G="default";if(this._draggingTarget){this.storage.drift(this._draggingTarget.id,m,h),this._draggingTarget.modSelf(),this.storage.addHover(this._draggingTarget)}else{if(this._isMouseDown){var d=this.painter.getLayers(),u=!1;for(var p in d){if("hover"!==p){var c=d[p];c.panable&&(G="move",c.position[0]+=m,c.position[1]+=h,u=!0,c.dirty=!0)}}u&&this.painter.refresh()}}this._draggingTarget||this._hasfound&&this._lastHover.draggable?G="move":this._hasfound&&this._lastHover.clickable&&(G="pointer"),this.root.style.cursor=G,this._dispatchAgency(this._lastHover,q.MOUSEMOVE,s),(this._draggingTarget||this._hasfound||this.storage.hasHoverShape())&&this.painter.refreshHover()}},mouseout:function(c){c=this._zrenderEventFixed(c);var a=c.toElement||c.relatedTarget;if(a!=this.root){for(;a&&9!=a.nodeType;){if(a==this.root){return void this._mousemoveHandler(c)}a=a.parentNode}}c.zrenderX=this._lastX,c.zrenderY=this._lastY,this.root.style.cursor="default",this._isMouseDown=0,this._processOutShape(c),this._processDrop(c),this._processDragEnd(c),this.painter.isLoading()||this.painter.refreshHover(),this.dispatch(q.GLOBALOUT,c)},mousedown:function(a){return this._clickThreshold=0,2==this._lastDownButton?(this._lastDownButton=a.button,void (this._mouseDownTarget=null)):(this._lastMouseDownMoment=new Date,a=this._zrenderEventFixed(a),this._isMouseDown=1,this._mouseDownTarget=this._lastHover,this._dispatchAgency(this._lastHover,q.MOUSEDOWN,a),void (this._lastDownButton=a.button))},mouseup:function(a){a=this._zrenderEventFixed(a),this.root.style.cursor="default",this._isMouseDown=0,this._clickThreshold=0,this._mouseDownTarget=null,this._dispatchAgency(this._lastHover,q.MOUSEUP,a),this._processDrop(a),this._processDragEnd(a)},touchstart:function(a){a=this._zrenderEventFixed(a,!0),this._lastTouchMoment=new Date,this._mobildFindFixed(a),this._mousedownHandler(a)},touchmove:function(a){a=this._zrenderEventFixed(a,!0),this._mousemoveHandler(a),this._isDragging&&F.stop(a)},touchend:function(c){c=this._zrenderEventFixed(c,!0),this._mouseupHandler(c);var a=new Date;a-this._lastTouchMoment<q.touchClickDelay&&(this._mobildFindFixed(c),this._clickHandler(c),a-this._lastClickMoment<q.touchClickDelay/2&&(this._dblclickHandler(c),this._lastHover&&this._lastHover.clickable&&F.stop(c)),this._lastClickMoment=a),this.painter.clearHover()}},k=function(c,a,d){B.call(this),this.root=c,this.storage=a,this.painter=d,this._lastX=this._lastY=this._mouseX=this._mouseY=0,this._findHover=x(C,this),this._domHover=d.getDomHover(),j(this),window.addEventListener?(window.addEventListener("resize",this._resizeHandler),b.os.tablet||b.os.phone?(c.addEventListener("touchstart",this._touchstartHandler),c.addEventListener("touchmove",this._touchmoveHandler),c.addEventListener("touchend",this._touchendHandler)):(c.addEventListener("click",this._clickHandler),c.addEventListener("dblclick",this._dblclickHandler),c.addEventListener("mousewheel",this._mousewheelHandler),c.addEventListener("mousemove",this._mousemoveHandler),c.addEventListener("mousedown",this._mousedownHandler),c.addEventListener("mouseup",this._mouseupHandler)),c.addEventListener("DOMMouseScroll",this._mousewheelHandler),c.addEventListener("mouseout",this._mouseoutHandler)):(window.attachEvent("onresize",this._resizeHandler),c.attachEvent("onclick",this._clickHandler),c.ondblclick=this._dblclickHandler,c.attachEvent("onmousewheel",this._mousewheelHandler),c.attachEvent("onmousemove",this._mousemoveHandler),c.attachEvent("onmouseout",this._mouseoutHandler),c.attachEvent("onmousedown",this._mousedownHandler),c.attachEvent("onmouseup",this._mouseupHandler))};k.prototype.on=function(c,a){return this.bind(c,a),this},k.prototype.un=function(c,a){return this.unbind(c,a),this},k.prototype.trigger=function(c,a){switch(c){case q.RESIZE:case q.CLICK:case q.DBLCLICK:case q.MOUSEWHEEL:case q.MOUSEMOVE:case q.MOUSEDOWN:case q.MOUSEUP:case q.MOUSEOUT:this["_"+c+"Handler"](a)}},k.prototype.dispose=function(){var a=this.root;window.removeEventListener?(window.removeEventListener("resize",this._resizeHandler),b.os.tablet||b.os.phone?(a.removeEventListener("touchstart",this._touchstartHandler),a.removeEventListener("touchmove",this._touchmoveHandler),a.removeEventListener("touchend",this._touchendHandler)):(a.removeEventListener("click",this._clickHandler),a.removeEventListener("dblclick",this._dblclickHandler),a.removeEventListener("mousewheel",this._mousewheelHandler),a.removeEventListener("mousemove",this._mousemoveHandler),a.removeEventListener("mousedown",this._mousedownHandler),a.removeEventListener("mouseup",this._mouseupHandler)),a.removeEventListener("DOMMouseScroll",this._mousewheelHandler),a.removeEventListener("mouseout",this._mouseoutHandler)):(window.detachEvent("onresize",this._resizeHandler),a.detachEvent("onclick",this._clickHandler),a.detachEvent("dblclick",this._dblclickHandler),a.detachEvent("onmousewheel",this._mousewheelHandler),a.detachEvent("onmousemove",this._mousemoveHandler),a.detachEvent("onmouseout",this._mouseoutHandler),a.detachEvent("onmousedown",this._mousedownHandler),a.detachEvent("onmouseup",this._mouseupHandler)),this.root=this._domHover=this.storage=this.painter=null,this.un()},k.prototype._processDragStart=function(d){var c=this._lastHover;if(this._isMouseDown&&c&&c.draggable&&!this._draggingTarget&&this._mouseDownTarget==c){if(c.dragEnableTime&&new Date-this._lastMouseDownMoment<c.dragEnableTime){return}var a=c;this._draggingTarget=a,this._isDragging=1,a.invisible=!0,this.storage.mod(a.id),this._dispatchAgency(a,q.DRAGSTART,d),this.painter.refresh()}},k.prototype._processDragEnter=function(a){this._draggingTarget&&this._dispatchAgency(this._lastHover,q.DRAGENTER,a,this._draggingTarget)},k.prototype._processDragOver=function(a){this._draggingTarget&&this._dispatchAgency(this._lastHover,q.DRAGOVER,a,this._draggingTarget)},k.prototype._processDragLeave=function(a){this._draggingTarget&&this._dispatchAgency(this._lastHover,q.DRAGLEAVE,a,this._draggingTarget)},k.prototype._processDrop=function(a){this._draggingTarget&&(this._draggingTarget.invisible=!1,this.storage.mod(this._draggingTarget.id),this.painter.refresh(),this._dispatchAgency(this._lastHover,q.DROP,a,this._draggingTarget))},k.prototype._processDragEnd=function(a){this._draggingTarget&&(this._dispatchAgency(this._draggingTarget,q.DRAGEND,a),this._lastHover=null),this._isDragging=0,this._draggingTarget=null},k.prototype._processOverShape=function(a){this._dispatchAgency(this._lastHover,q.MOUSEOVER,a)},k.prototype._processOutShape=function(a){this._dispatchAgency(this._lastHover,q.MOUSEOUT,a)},k.prototype._dispatchAgency=function(m,h,d,s){var c="on"+h,p={type:h,event:d,target:m,cancelBubble:!1},l=m;for(s&&(p.dragged=s);l&&(l[c]&&(p.cancelBubble=l[c](p)),l.dispatch(h,p),l=l.parent,!p.cancelBubble);){}m?p.cancelBubble||this.dispatch(h,p):s||this.dispatch(h,{type:h,event:d})},k.prototype._iterateAndFindHover=function(){var a=A.create();return function(){for(var e,d,m=this.storage.getShapeList(),c=[0,0],l=m.length-1;l>=0;l--){var h=m[l];if(e!==h.zlevel&&(d=this.painter.getLayer(h.zlevel,d),c[0]=this._mouseX,c[1]=this._mouseY,d.needTransform&&(A.invert(a,d.transform),y.applyTransform(c,c,a))),this._findHover(h,c[0],c[1])){break}}}}();var v=[{x:10},{x:-20},{x:10,y:10},{y:-20}];return k.prototype._mobildFindFixed=function(d){this._lastHover=null,this._mouseX=d.zrenderX,this._mouseY=d.zrenderY,this._event=d,this._iterateAndFindHover();for(var c=0;!this._lastHover&&c<v.length;c++){var a=v[c];a.x&&(this._mouseX+=a.x),a.y&&(this._mouseX+=a.y),this._iterateAndFindHover()}this._lastHover&&(d.zrenderX=this._mouseX,d.zrenderY=this._mouseY)},k.prototype._zrenderEventFixed=function(l,h){if(l.zrenderFixed){return l}if(h){var d="touchend"!=l.type?l.targetTouches[0]:l.changedTouches[0];if(d){var m=this.root.getBoundingClientRect();l.zrenderX=d.clientX-m.left,l.zrenderY=d.clientY-m.top}}else{l=l||window.event;var c=l.toElement||l.relatedTarget||l.srcElement||l.target;c&&c!=this._domHover&&(l.zrenderX=("undefined"!=typeof l.offsetX?l.offsetX:l.layerX)+c.offsetLeft,l.zrenderY=("undefined"!=typeof l.offsetY?l.offsetY:l.layerY)+c.offsetTop)}return l.zrenderFixed=1,l},w.merge(k.prototype,B.prototype,!0),k}),define("zrender/Painter",["require","./config","./tool/util","./tool/log","./tool/matrix","./loadingEffect/Base","./mixin/Transformable","./shape/Image"],function(w){function A(){return !1}function u(){}function j(l,h,d){var p=document.createElement(h),c=d._width,m=d._height;return p.style.position="absolute",p.style.left=0,p.style.top=0,p.style.width=c+"px",p.style.height=m+"px",p.setAttribute("width",c*x),p.setAttribute("height",m*x),p.setAttribute("data-zr-dom-id",l),p}var z=w("./config"),g=w("./tool/util"),b=w("./tool/log"),B=w("./tool/matrix"),q=w("./loadingEffect/Base"),v=w("./mixin/Transformable"),x=window.devicePixelRatio||1;x=Math.max(x,1);var k=window.G_vmlCanvasManager,y=function(h,d){this.root=h,this.storage=d,h.innerHTML="",this._width=this._getWidth(),this._height=this._getHeight();var c=document.createElement("div");this._domRoot=c,c.style.position="relative",c.style.overflow="hidden",c.style.width=this._width+"px",c.style.height=this._height+"px",h.appendChild(c),this._layers={},this._zlevelList=[],this._layerConfig={},this._loadingEffect=new q({}),this.shapeToImage=this._createShapeToImageProcessor(),this._bgDom=j("bg","div",this),c.appendChild(this._bgDom),this._bgDom.onselectstart=A,this._bgDom.style["-webkit-user-select"]="none",this._bgDom.style["user-select"]="none",this._bgDom.style["-webkit-touch-callout"]="none";var l=new f("_zrender_hover_",this);this._layers.hover=l,c.appendChild(l.dom),l.initContext(),l.dom.onselectstart=A,l.dom.style["-webkit-user-select"]="none",l.dom.style["user-select"]="none",l.dom.style["-webkit-touch-callout"]="none",this.refreshNextFrame=null};y.prototype.render=function(a){return this.isLoading()&&this.hideLoading(),this.refresh(a,!0),this},y.prototype.refresh=function(d,c){var a=this.storage.getShapeList(!0);return this._paintList(a,c),"function"==typeof d&&d(),this},y.prototype._paintList=function(G,L){"undefined"==typeof L&&(L=!1),this._updateLayerStatus(G);var E,r,m;for(var D in this._layers){"hover"!==D&&(this._layers[D].unusedCount++,this._layers[D].updateTransform())}for(var F=[],H=0,I=G.length;I>H;H++){var a=G[H];if(r!==a.zlevel&&(E&&(E.needTransform&&m.restore(),m.flush&&m.flush()),E=this.getLayer(a.zlevel),m=E.ctx,r=a.zlevel,E.unusedCount=0,(E.dirty||L)&&E.clear(),E.needTransform&&(m.save(),E.setTransform(m))),a.__startClip&&!k){var K=a.__startClip;if(m.save(),K.needTransform){var s=K.transform;B.invert(F,s),m.transform(s[0],s[1],s[2],s[3],s[4],s[5])}if(m.beginPath(),K.buildPath(m,K.style),m.clip(),K.needTransform){var s=F;m.transform(s[0],s[1],s[2],s[3],s[4],s[5])}}if((E.dirty||L)&&!a.invisible&&(!a.onbrush||a.onbrush&&!a.onbrush(m,!1))){if(z.catchBrushException){try{a.brush(m,!1,this.refreshNextFrame)}catch(C){b(C,"brush error of "+a.type,a)}}else{a.brush(m,!1,this.refreshNextFrame)}}a.__stopClip&&!k&&m.restore(),a.__dirty=!1}E&&(E.needTransform&&m.restore(),m.flush&&m.flush());for(var D in this._layers){if("hover"!==D){var J=this._layers[D];J.dirty=!1,1==J.unusedCount&&J.clear()}}},y.prototype.getLayer=function(m){var h=this._layers[m];if(!h){var d=this._zlevelList.length,o=null,c=-1;if(d>0&&m>this._zlevelList[0]){for(c=0;d-1>c&&!(this._zlevelList[c]<m&&this._zlevelList[c+1]>m);c++){}o=this._layers[this._zlevelList[c]]}this._zlevelList.splice(c+1,0,m),h=new f(m,this);var l=o?o.dom:this._bgDom;l.nextSibling?l.parentNode.insertBefore(h.dom,l.nextSibling):l.parentNode.appendChild(h.dom),h.initContext(),this._layers[m]=h,this._layerConfig[m]&&g.merge(h,this._layerConfig[m],!0),h.updateTransform()}return h},y.prototype.getLayers=function(){return this._layers},y.prototype._updateLayerStatus=function(C){var E=this._layers,p={};for(var h in E){"hover"!==h&&(p[h]=E[h].elCount,E[h].elCount=0)}for(var D=0,d=C.length;d>D;D++){var c=C[D],F=c.zlevel,m=E[F];if(m){if(m.elCount++,m.dirty){continue}m.dirty=c.__dirty}}for(var h in E){"hover"!==h&&p[h]!==E[h].elCount&&(E[h].dirty=!0)}},y.prototype.refreshShapes=function(l,h){for(var d=0,m=l.length;m>d;d++){var c=l[d];c.modSelf()}return this.refresh(h),this},y.prototype.setLoadingEffect=function(a){return this._loadingEffect=a,this},y.prototype.clear=function(){for(var a in this._layers){"hover"!=a&&this._layers[a].clear()}return this},y.prototype.modLayer=function(d,c){if(c){this._layerConfig[d]?g.merge(this._layerConfig[d],c,!0):this._layerConfig[d]=c;var a=this._layers[d];a&&g.merge(a,this._layerConfig[d],!0)}},y.prototype.delLayer=function(c){var a=this._layers[c];a&&(this.modLayer(c,{position:a.position,rotation:a.rotation,scale:a.scale}),a.dom.parentNode.removeChild(a.dom),delete this._layers[c],this._zlevelList.splice(g.indexOf(this._zlevelList,c),1))},y.prototype.refreshHover=function(){this.clearHover();for(var d=this.storage.getHoverShapes(!0),c=0,a=d.length;a>c;c++){this._brushHover(d[c])}var h=this._layers.hover.ctx;return h.flush&&h.flush(),this.storage.delHover(),this},y.prototype.clearHover=function(){var a=this._layers.hover;return a&&a.clear(),this},y.prototype.showLoading=function(a){return this._loadingEffect&&this._loadingEffect.stop(),a&&this.setLoadingEffect(a),this._loadingEffect.start(this),this.loading=!0,this},y.prototype.hideLoading=function(){return this._loadingEffect.stop(),this.clearHover(),this.loading=!1,this},y.prototype.isLoading=function(){return this.loading},y.prototype.resize=function(){var d=this._domRoot;d.style.display="none";var c=this._getWidth(),a=this._getHeight();if(d.style.display="",this._width!=c||a!=this._height){this._width=c,this._height=a,d.style.width=c+"px",d.style.height=a+"px";for(var h in this._layers){this._layers[h].resize(c,a)}this.refresh(null,!0)}return this},y.prototype.clearLayer=function(c){var a=this._layers[c];a&&a.clear()},y.prototype.dispose=function(){this.isLoading()&&this.hideLoading(),this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},y.prototype.getDomHover=function(){return this._layers.hover.dom},y.prototype.toDataURL=function(p,d,c){if(k){return null}var r=j("image","canvas",this);this._bgDom.appendChild(r);var n=r.getContext("2d");1!=x&&n.scale(x,x),n.fillStyle=d||"#fff",n.rect(0,0,this._width*x,this._height*x),n.fill();var a=this;this.storage.iterShape(function(i){if(!i.invisible&&(!i.onbrush||i.onbrush&&!i.onbrush(n,!1))){if(z.catchBrushException){try{i.brush(n,!1,a.refreshNextFrame)}catch(h){b(h,"brush error of "+i.type,i)}}else{i.brush(n,!1,a.refreshNextFrame)}}},{normal:"up",update:!0});var m=r.toDataURL(p,c);return n=null,this._bgDom.removeChild(r),m},y.prototype.getWidth=function(){return this._width},y.prototype.getHeight=function(){return this._height},y.prototype._getWidth=function(){var c=this.root,a=c.currentStyle||document.defaultView.getComputedStyle(c);return((c.clientWidth||parseInt(a.width,10))-parseInt(a.paddingLeft,10)-parseInt(a.paddingRight,10)).toFixed(0)-0},y.prototype._getHeight=function(){var c=this.root,a=c.currentStyle||document.defaultView.getComputedStyle(c);return((c.clientHeight||parseInt(a.height,10))-parseInt(a.paddingTop,10)-parseInt(a.paddingBottom,10)).toFixed(0)-0},y.prototype._brushHover=function(d){var c=this._layers.hover.ctx;if(!d.onbrush||d.onbrush&&!d.onbrush(c,!0)){var a=this.getLayer(d.zlevel);if(a.needTransform&&(c.save(),a.setTransform(c)),z.catchBrushException){try{d.brush(c,!0,this.refreshNextFrame)}catch(h){b(h,"hoverBrush error of "+d.type,d)}}else{d.brush(c,!0,this.refreshNextFrame)}a.needTransform&&c.restore()}},y.prototype._shapeToImage=function(G,C,m,F,e){var c=document.createElement("canvas"),H=c.getContext("2d"),e=window.devicePixelRatio||1;c.style.width=m+"px",c.style.height=F+"px",c.setAttribute("width",m*e),c.setAttribute("height",F*e),H.clearRect(0,0,m*e,F*e);var p={position:C.position,rotation:C.rotation,scale:C.scale};C.position=[0,0,0],C.rotation=0,C.scale=[1,1],C&&C.brush(H,!1);var D=w("./shape/Image"),E=new D({id:G,style:{x:0,y:0,image:c}});return null!=p.position&&(E.position=C.position=p.position),null!=p.rotation&&(E.rotation=C.rotation=p.rotation),null!=p.scale&&(E.scale=C.scale=p.scale),E},y.prototype._createShapeToImageProcessor=function(){if(k){return u}var a=this;return function(e,d,h,c){return a._shapeToImage(e,d,h,c,x)}};var f=function(c,a){this.dom=j(c,"canvas",a),this.dom.onselectstart=A,this.dom.style["-webkit-user-select"]="none",this.dom.style["user-select"]="none",this.dom.style["-webkit-touch-callout"]="none",k&&k.initElement(this.dom),this.domBack=null,this.ctxBack=null,this.painter=a,this.unusedCount=0,this.config=null,this.dirty=!0,this.elCount=0,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=0.7,this.zoomable=!1,this.panable=!1,this.maxZoom=1/0,this.minZoom=0,v.call(this)};return f.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),1!=x&&this.ctx.scale(x,x)},f.prototype.createBackBuffer=function(){k||(this.domBack=j("back-"+this.id,"canvas",this.painter),this.ctxBack=this.domBack.getContext("2d"),1!=x&&this.ctxBack.scale(x,x))},f.prototype.resize=function(c,a){this.dom.style.width=c+"px",this.dom.style.height=a+"px",this.dom.setAttribute("width",c*x),this.dom.setAttribute("height",a*x),1!=x&&this.ctx.scale(x,x),this.domBack&&(this.domBack.setAttribute("width",c*x),this.domBack.setAttribute("height",a*x),1!=x&&this.ctxBack.scale(x,x))},f.prototype.clear=function(){var p=this.dom,h=this.ctx,d=p.width,D=p.height,c=this.clearColor&&!k,C=this.motionBlur&&!k,m=this.lastFrameAlpha;if(C&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(p,0,0,d/x,D/x)),c?(h.save(),h.fillStyle=this.config.clearColor,h.fillRect(0,0,d/x,D/x),h.restore()):h.clearRect(0,0,d/x,D/x),C){var l=this.domBack;h.save(),h.globalAlpha=m,h.drawImage(l,0,0,d/x,D/x),h.restore()}},g.merge(f.prototype,v.prototype),y}),define("zrender/Storage",["require","./tool/util","./Group"],function(f){function d(i,a){return i.zlevel==a.zlevel?i.z==a.z?i.__renderidx-a.__renderidx:i.z-a.z:i.zlevel-a.zlevel}var c=f("./tool/util"),h=f("./Group"),b={hover:!1,normal:"down",update:!1},g=function(){this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],this._shapeListOffset=0};return g.prototype.iterShape=function(k,j){if(j||(j=b),j.hover){for(var a=0,m=this._hoverElements.length;m>a;a++){var l=this._hoverElements[a];if(l.updateTransform(),k(l)){return this}}}switch(j.update&&this.updateShapeList(),j.normal){case"down":for(var m=this._shapeList.length;m--;){if(k(this._shapeList[m])){return this}}break;default:for(var a=0,m=this._shapeList.length;m>a;a++){if(k(this._shapeList[a])){return this}}}return this},g.prototype.getHoverShapes=function(t){for(var m=[],v=0,k=this._hoverElements.length;k>v;v++){m.push(this._hoverElements[v]);var u=this._hoverElements[v].hoverConnect;if(u){var q;u=u instanceof Array?u:[u];for(var p=0,j=u.length;j>p;p++){q=u[p].id?u[p]:this.get(u[p]),q&&m.push(q)}}}if(m.sort(d),t){for(var v=0,k=m.length;k>v;v++){m[v].updateTransform()}}return m},g.prototype.getShapeList=function(a){return a&&this.updateShapeList(),this._shapeList},g.prototype.updateShapeList=function(){this._shapeListOffset=0;for(var j=0,a=this._roots.length;a>j;j++){var k=this._roots[j];this._updateAndAddShape(k)}this._shapeList.length=this._shapeListOffset;for(var j=0,a=this._shapeList.length;a>j;j++){this._shapeList[j].__renderidx=j}this._shapeList.sort(d)},g.prototype._updateAndAddShape=function(k,j){if(!k.ignore){if(k.updateTransform(),"group"==k.type){k.clipShape&&(k.clipShape.parent=k,k.clipShape.updateTransform(),j?(j=j.slice(),j.push(k.clipShape)):j=[k.clipShape]);for(var a=0;a<k._children.length;a++){var l=k._children[a];l.__dirty=k.__dirty||l.__dirty,this._updateAndAddShape(l,j)}k.__dirty=!1}else{k.__clipShapes=j,this._shapeList[this._shapeListOffset++]=k}}},g.prototype.mod=function(k,j){var m=this._elements[k];if(m&&(m.modSelf(),j)){if(j.parent||j._storage||j.__startClip){var i={};for(var l in j){"parent"!=l&&"_storage"!=l&&"__startClip"!=l&&j.hasOwnProperty(l)&&(i[l]=j[l])}c.merge(m,i,!0)}else{c.merge(m,j,!0)}}return this},g.prototype.drift=function(k,j,a){var l=this._elements[k];return l&&(l.needTransform=!0,"horizontal"===l.draggable?a=0:"vertical"===l.draggable&&(j=0),(!l.ondrift||l.ondrift&&!l.ondrift(j,a))&&l.drift(j,a)),this},g.prototype.addHover=function(a){return a.updateNeedTransform(),this._hoverElements.push(a),this},g.prototype.delHover=function(){return this._hoverElements=[],this},g.prototype.hasHoverShape=function(){return this._hoverElements.length>0},g.prototype.addRoot=function(a){a instanceof h&&a.addChildrenToStorage(this),this.addToMap(a),this._roots.push(a)},g.prototype.delRoot=function(m){if("undefined"==typeof m){for(var j=0;j<this._roots.length;j++){var i=this._roots[j];i instanceof h&&i.delChildrenFromStorage(this)}return this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],void (this._shapeListOffset=0)}if(m instanceof Array){for(var j=0,n=m.length;n>j;j++){this.delRoot(m[j])}}else{var l;l="string"==typeof m?this._elements[m]:m;var k=c.indexOf(this._roots,l);k>=0&&(this.delFromMap(l.id),this._roots.splice(k,1),l instanceof h&&l.delChildrenFromStorage(this))}},g.prototype.addToMap=function(a){return a instanceof h&&(a._storage=this),a.modSelf(),this._elements[a.id]=a,this},g.prototype.get=function(a){return this._elements[a]},g.prototype.delFromMap=function(i){var a=this._elements[i];return a&&(delete this._elements[i],a instanceof h&&(a._storage=null)),this},g.prototype.dispose=function(){this._elements=this._renderList=this._roots=this._hoverElements=null},g}),define("zrender/animation/Animation",["require","./Clip","../tool/color","../tool/util","../tool/event"],function(E){function k(c,a){return c[a]}function C(d,c,a){d[c]=a}function z(d,c,a){return(c-d)*a+d}function H(u,I,n,y,d){var c=u.length;if(1==d){for(var J=0;c>J;J++){y[J]=z(u[J],I[J],n)}}else{for(var m=u[0].length,J=0;c>J;J++){for(var p=0;m>p;p++){y[J][p]=z(u[J][p],I[J][p],n)}}}}function x(a){switch(typeof a){case"undefined":case"string":return !1}return"undefined"!=typeof a.length}function v(N,R,L,I,Q,y,s,K,M){var O=N.length;if(1==M){for(var J=0;O>J;J++){K[J]=q(N[J],R[J],L[J],I[J],Q,y,s)}}else{for(var P=N[0].length,J=0;O>J;J++){for(var u=0;P>u;u++){K[J][u]=q(N[J][u],R[J][u],L[J][u],I[J][u],Q,y,s)}}}}function q(u,I,p,h,y,d,c){var J=0.5*(p-u),m=0.5*(h-I);return(2*(I-p)+J+m)*c+(-3*(I-p)-2*J-m)*d+J*y+I}function B(d){if(x(d)){var c=d.length;if(x(d[0])){for(var a=[],h=0;c>h;h++){a.push(b.call(d[h]))}return a}return b.call(d)}return d}function D(a){return a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.floor(a[2]),"rgba("+a.join(",")+")"}var F=E("./Clip"),A=E("../tool/color"),G=E("../tool/util"),w=E("../tool/event").Dispatcher,j=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){setTimeout(a,16)},b=Array.prototype.slice,f=function(a){a=a||{},this.stage=a.stage||{},this.onframe=a.onframe||function(){},this._clips=[],this._running=!1,this._time=0,w.call(this)};f.prototype={add:function(a){this._clips.push(a)},remove:function(c){var a=G.indexOf(this._clips,c);a>=0&&this._clips.splice(a,1)},_update:function(){for(var u=(new Date).getTime(),I=u-this._time,p=this._clips,h=p.length,y=[],d=[],c=0;h>c;c++){var J=p[c],m=J.step(u);m&&(y.push(m),d.push(J))}this.stage.update&&this.stage.update();for(var c=0;h>c;){p[c]._needsRemove?(p[c]=p[h-1],p.pop(),h--):c++}h=y.length;for(var c=0;h>c;c++){d[c].fire(y[c])}this._time=u,this.onframe(I),this.dispatch("frame",I)},start:function(){function c(){a._running&&(a._update(),j(c))}var a=this;this._running=!0,this._time=(new Date).getTime(),j(c)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(d,c){c=c||{};var a=new g(d,c.loop,c.getter,c.setter);return a.animation=this,a},constructor:f},G.merge(f.prototype,w.prototype,!0);var g=function(d,i,c,h){this._tracks={},this._target=d,this._loop=i||!1,this._getter=c||k,this._setter=h||C,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};return g.prototype={when:function(d,c){for(var a in c){this._tracks[a]||(this._tracks[a]=[],0!==d&&this._tracks[a].push({time:0,value:B(this._getter(this._target,a))})),this._tracks[a].push({time:parseInt(d,10),value:c[a]})}return this},during:function(a){return this._onframeList.push(a),this},start:function(r){var n=this,m=this._setter,d=this._getter,s="spline"===r,o=function(){if(n._clipCount--,0===n._clipCount){n._tracks={};for(var l=n._doneList.length,c=0;l>c;c++){n._doneList[c].call(n)}}},h=function(Z,i){var l=Z.length;if(l){var O=Z[0].value,ae=x(O),af=!1,ag=ae&&x(O[0])?2:1;Z.sort(function(y,u){return y.time-u.time});var ah;if(l){ah=Z[l-1].time;for(var Q=[],ad=[],J=0;l>J;J++){Q.push(Z[J].time/ah);var Y=Z[J].value;"string"==typeof Y&&(Y=A.toArray(Y),0===Y.length&&(Y[0]=Y[1]=Y[2]=0,Y[3]=1),af=!0),ad.push(Y)}var e,J,R,c,P,N,t,p=0,ab=0;if(af){var aa=[0,0,0,0]}var ac=function(y,K){if(ab>K){for(e=Math.min(p+1,l-1),J=e;J>=0&&!(Q[J]<=K);J--){}J=Math.min(J,l-2)}else{for(J=p;l>J&&!(Q[J]>K);J++){}J=Math.min(J-1,l-2)}p=J,ab=K;var I=Q[J+1]-Q[J];if(0!==I){if(R=(K-Q[J])/I,s){if(P=ad[J],c=ad[0===J?J:J-1],N=ad[J>l-2?l-1:J+1],t=ad[J>l-3?l-1:J+2],ae){v(c,P,N,t,R,R*R,R*R*R,d(y,i),ag)}else{var u;af?(u=v(c,P,N,t,R,R*R,R*R*R,aa,1),u=D(aa)):u=q(c,P,N,t,R,R*R,R*R*R),m(y,i,u)}}else{if(ae){H(ad[J],ad[J+1],R,d(y,i),ag)}else{var u;af?(H(ad[J],ad[J+1],R,aa,1),u=D(aa)):u=z(ad[J],ad[J+1],R),m(y,i,u)}}for(J=0;J<n._onframeList.length;J++){n._onframeList[J](y,K)}}},M=new F({target:n._target,life:ah,loop:n._loop,delay:n._delay,onframe:ac,ondestroy:o});r&&"spline"!==r&&(M.easing=r),n._clipList.push(M),n._clipCount++,n.animation.add(M)}}};for(var a in this._tracks){h(this._tracks[a],a)}return this},stop:function(){for(var c=0;c<this._clipList.length;c++){var a=this._clipList[c];this.animation.remove(a)}this._clipList=[]},delay:function(a){return this._delay=a,this},done:function(a){return a&&this._doneList.push(a),this}},f}),define("zrender/tool/vector",[],function(){var b="undefined"==typeof Float32Array?Array:Float32Array,a={create:function(d,c){var e=new b(2);return e[0]=d||0,e[1]=c||0,e},copy:function(d,c){return d[0]=c[0],d[1]=c[1],d},set:function(f,d,c){return f[0]=d,f[1]=c,f},add:function(f,d,c){return f[0]=d[0]+c[0],f[1]=d[1]+c[1],f},scaleAndAdd:function(f,d,c,g){return f[0]=d[0]+c[0]*g,f[1]=d[1]+c[1]*g,f},sub:function(f,d,c){return f[0]=d[0]-c[0],f[1]=d[1]-c[1],f},len:function(c){return Math.sqrt(this.lenSquare(c))},lenSquare:function(c){return c[0]*c[0]+c[1]*c[1]},mul:function(f,d,c){return f[0]=d[0]*c[0],f[1]=d[1]*c[1],f},div:function(f,d,c){return f[0]=d[0]/c[0],f[1]=d[1]/c[1],f},dot:function(d,c){return d[0]*c[0]+d[1]*c[1]},scale:function(f,d,c){return f[0]=d[0]*c,f[1]=d[1]*c,f},normalize:function(d,c){var f=a.len(c);return 0===f?(d[0]=0,d[1]=0):(d[0]=c[0]/f,d[1]=c[1]/f),d},distance:function(d,c){return Math.sqrt((d[0]-c[0])*(d[0]-c[0])+(d[1]-c[1])*(d[1]-c[1]))},distanceSquare:function(d,c){return(d[0]-c[0])*(d[0]-c[0])+(d[1]-c[1])*(d[1]-c[1])},negate:function(d,c){return d[0]=-c[0],d[1]=-c[1],d},lerp:function(f,d,c,g){return f[0]=d[0]+g*(c[0]-d[0]),f[1]=d[1]+g*(c[1]-d[1]),f},applyTransform:function(g,f,d){var h=f[0],c=f[1];return g[0]=d[0]*h+d[2]*c+d[4],g[1]=d[1]*h+d[3]*c+d[5],g},min:function(f,d,c){return f[0]=Math.min(d[0],c[0]),f[1]=Math.min(d[1],c[1]),f},max:function(f,d,c){return f[0]=Math.max(d[0],c[0]),f[1]=Math.max(d[1],c[1]),f}};return a.length=a.len,a.lengthSquare=a.lenSquare,a.dist=a.distance,a.distSquare=a.distanceSquare,a}),define("zrender/tool/matrix",[],function(){var b="undefined"==typeof Float32Array?Array:Float32Array,a={create:function(){var c=new b(6);return a.identity(c),c},identity:function(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=1,c[4]=0,c[5]=0,c},copy:function(d,c){return d[0]=c[0],d[1]=c[1],d[2]=c[2],d[3]=c[3],d[4]=c[4],d[5]=c[5],d},mul:function(f,d,c){return f[0]=d[0]*c[0]+d[2]*c[1],f[1]=d[1]*c[0]+d[3]*c[1],f[2]=d[0]*c[2]+d[2]*c[3],f[3]=d[1]*c[2]+d[3]*c[3],f[4]=d[0]*c[4]+d[2]*c[5]+d[4],f[5]=d[1]*c[4]+d[3]*c[5]+d[5],f},translate:function(f,d,c){return f[0]=d[0],f[1]=d[1],f[2]=d[2],f[3]=d[3],f[4]=d[4]+c[0],f[5]=d[5]+c[1],f},rotate:function(p,v,k){var g=v[0],u=v[2],f=v[4],c=v[1],w=v[3],j=v[5],m=Math.sin(k),q=Math.cos(k);return p[0]=g*q+c*m,p[1]=-g*m+c*q,p[2]=u*q+w*m,p[3]=-u*m+q*w,p[4]=q*f+m*j,p[5]=q*j-m*f,p},scale:function(g,f,d){var h=d[0],c=d[1];return g[0]=f[0]*h,g[1]=f[1]*c,g[2]=f[2]*h,g[3]=f[3]*c,g[4]=f[4]*h,g[5]=f[5]*c,g},invert:function(j,m){var h=m[0],f=m[2],k=m[4],d=m[1],c=m[3],p=m[5],g=h*c-d*f;return g?(g=1/g,j[0]=c*g,j[1]=-d*g,j[2]=-f*g,j[3]=h*g,j[4]=(f*p-c*k)*g,j[5]=(d*k-h*p)*g,j):null},mulVector:function(j,m,h){var f=m[0],k=m[2],d=m[4],c=m[1],p=m[3],g=m[5];return j[0]=h[0]*f+h[1]*k+d,j[1]=h[0]*c+h[1]*p+g,j}};return a}),define("zrender/loadingEffect/Base",["require","../tool/util","../shape/Text","../shape/Rectangle"],function(g){function d(a){this.setOptions(a)}var c=g("../tool/util"),j=g("../shape/Text"),b=g("../shape/Rectangle"),h="Loading...",f="normal 16px Arial";return d.prototype.createTextShape=function(a){return new j({highlightStyle:c.merge({x:this.canvasWidth/2,y:this.canvasHeight/2,text:h,textAlign:"center",textBaseline:"middle",textFont:f,color:"#333",brushType:"fill"},a,!0)})},d.prototype.createBackgroundShape=function(a){return new b({highlightStyle:{x:0,y:0,width:this.canvasWidth,height:this.canvasHeight,brushType:"fill",color:a}})},d.prototype.start=function(l){function k(e){l.storage.addHover(e)}function a(){l.refreshHover()}this.canvasWidth=l._width,this.canvasHeight=l._height,this.loadingTimer=this._start(k,a)},d.prototype._start=function(){return setInterval(function(){},10000)},d.prototype.stop=function(){clearInterval(this.loadingTimer)},d.prototype.setOptions=function(a){this.options=a||{}},d.prototype.adjust=function(i,a){return i<=a[0]?i=a[0]:i>=a[1]&&(i=a[1]),i},d.prototype.getLocation=function(o,m,l){var p=null!=o.x?o.x:"center";switch(p){case"center":p=Math.floor((this.canvasWidth-m)/2);break;case"left":p=0;break;case"right":p=this.canvasWidth-m}var k=null!=o.y?o.y:"center";switch(k){case"center":k=Math.floor((this.canvasHeight-l)/2);break;case"top":k=0;break;case"bottom":k=this.canvasHeight-l}return{x:p,y:k,width:m,height:l}},d}),define("zrender/mixin/Transformable",["require","../tool/matrix","../tool/vector"],function(h){function d(a){return a>-g&&g>a}function c(a){return a>g||-g>a}var k=h("../tool/matrix"),b=h("../tool/vector"),j=[0,0],g=0.00005,f=function(){this.position||(this.position=[0,0]),"undefined"==typeof this.rotation&&(this.rotation=[0,0,0]),this.scale||(this.scale=[1,1,0,0]),this.needLocalTransform=!1,this.needTransform=!1};return f.prototype={constructor:f,updateNeedTransform:function(){this.needLocalTransform=c(this.rotation[0])||c(this.position[0])||c(this.position[1])||c(this.scale[0]-1)||c(this.scale[1]-1)},updateTransform:function(){if(this.updateNeedTransform(),this.needTransform=this.parent?this.needLocalTransform||this.parent.needTransform:this.needLocalTransform,this.needTransform){var i=this.transform||k.create();if(k.identity(i),this.needLocalTransform){if(c(this.scale[0])||c(this.scale[1])){j[0]=-this.scale[2]||0,j[1]=-this.scale[3]||0;var a=c(j[0])||c(j[1]);a&&k.translate(i,i,j),k.scale(i,i,this.scale),a&&(j[0]=-j[0],j[1]=-j[1],k.translate(i,i,j))}if(this.rotation instanceof Array){if(0!==this.rotation[0]){j[0]=-this.rotation[1]||0,j[1]=-this.rotation[2]||0;var a=c(j[0])||c(j[1]);a&&k.translate(i,i,j),k.rotate(i,i,this.rotation[0]),a&&(j[0]=-j[0],j[1]=-j[1],k.translate(i,i,j))}}else{0!==this.rotation&&k.rotate(i,i,this.rotation)}(c(this.position[0])||c(this.position[1]))&&k.translate(i,i,this.position)}this.transform=i,this.parent&&this.parent.needTransform&&(this.needLocalTransform?k.mul(this.transform,this.parent.transform,this.transform):k.copy(this.transform,this.parent.transform))}},setTransform:function(i){if(this.needTransform){var a=this.transform;i.transform(a[0],a[1],a[2],a[3],a[4],a[5])}},lookAt:function(){var a=b.create();return function(e){this.transform||(this.transform=k.create());var l=this.transform;b.sub(a,e,this.position),d(a[0])&&d(a[1])||(b.normalize(a,a),l[2]=a[0]*this.scale[1],l[3]=a[1]*this.scale[1],l[0]=a[1]*this.scale[0],l[1]=-a[0]*this.scale[0],l[4]=this.position[0],l[5]=this.position[1],this.decomposeTransform())}}(),decomposeTransform:function(){if(this.transform){var p=this.transform,l=p[0]*p[0]+p[1]*p[1],s=this.position,i=this.scale,q=this.rotation;c(l-1)&&(l=Math.sqrt(l));var m=p[2]*p[2]+p[3]*p[3];c(m-1)&&(m=Math.sqrt(m)),s[0]=p[4],s[1]=p[5],i[0]=l,i[1]=m,i[2]=i[3]=0,q[0]=Math.atan2(-p[1]/m,p[0]/l),q[1]=q[2]=0}}},f}),define("zrender/shape/Text",["require","../tool/area","./Base","../tool/util"],function(c){var b=c("../tool/area"),a=c("./Base"),d=function(f){a.call(this,f)};return d.prototype={type:"text",brush:function(q,m){var j=this.style;if(m&&(j=this.getHighlightStyle(j,this.highlightStyle||{})),"undefined"!=typeof j.text&&j.text!==!1){q.save(),this.doClip(q),this.setContext(q,j),this.setTransform(q),j.textFont&&(q.font=j.textFont),q.textAlign=j.textAlign||"start",q.textBaseline=j.textBaseline||"middle";var u,g=(j.text+"").split("\n"),f=b.getTextHeight("国",j.textFont),v=this.getRect(j),k=j.x;u="top"==j.textBaseline?v.y:"bottom"==j.textBaseline?v.y+f:v.y+f/2;for(var p=0,t=g.length;t>p;p++){if(j.maxWidth){switch(j.brushType){case"fill":q.fillText(g[p],k,u,j.maxWidth);break;case"stroke":q.strokeText(g[p],k,u,j.maxWidth);break;case"both":q.fillText(g[p],k,u,j.maxWidth),q.strokeText(g[p],k,u,j.maxWidth);break;default:q.fillText(g[p],k,u,j.maxWidth)}}else{switch(j.brushType){case"fill":q.fillText(g[p],k,u);break;case"stroke":q.strokeText(g[p],k,u);break;case"both":q.fillText(g[p],k,u),q.strokeText(g[p],k,u);break;default:q.fillText(g[p],k,u)}}u+=f}q.restore()}},getRect:function(h){if(h.__rect){return h.__rect}var g=b.getTextWidth(h.text,h.textFont),k=b.getTextHeight(h.text,h.textFont),f=h.x;"end"==h.textAlign||"right"==h.textAlign?f-=g:"center"==h.textAlign&&(f-=g/2);var j;return j="top"==h.textBaseline?h.y:"bottom"==h.textBaseline?h.y-k:h.y-k/2,h.__rect={x:f,y:j,width:g,height:k},h.__rect}},c("../tool/util").inherits(d,a),d}),define("zrender/shape/Rectangle",["require","./Base","../tool/util"],function(c){var b=c("./Base"),a=function(d){b.call(this,d)};return a.prototype={type:"rectangle",_buildRadiusPath:function(v,y){var q,j,x,g,f=y.x,z=y.y,p=y.width,u=y.height,w=y.radius;"number"==typeof w?q=j=x=g=w:w instanceof Array?1===w.length?q=j=x=g=w[0]:2===w.length?(q=x=w[0],j=g=w[1]):3===w.length?(q=w[0],j=g=w[1],x=w[2]):(q=w[0],j=w[1],x=w[2],g=w[3]):q=j=x=g=0;var k;q+j>p&&(k=q+j,q*=p/k,j*=p/k),x+g>p&&(k=x+g,x*=p/k,g*=p/k),j+x>u&&(k=j+x,j*=u/k,x*=u/k),q+g>u&&(k=q+g,q*=u/k,g*=u/k),v.moveTo(f+q,z),v.lineTo(f+p-j,z),0!==j&&v.quadraticCurveTo(f+p,z,f+p,z+j),v.lineTo(f+p,z+u-x),0!==x&&v.quadraticCurveTo(f+p,z+u,f+p-x,z+u),v.lineTo(f+g,z+u),0!==g&&v.quadraticCurveTo(f,z+u,f,z+u-g),v.lineTo(f,z+q),0!==q&&v.quadraticCurveTo(f,z,f+q,z)},buildPath:function(f,d){d.radius?this._buildRadiusPath(f,d):(f.moveTo(d.x,d.y),f.lineTo(d.x+d.width,d.y),f.lineTo(d.x+d.width,d.y+d.height),f.lineTo(d.x,d.y+d.height),f.lineTo(d.x,d.y)),f.closePath()},getRect:function(f){if(f.__rect){return f.__rect}var d;return d="stroke"==f.brushType||"fill"==f.brushType?f.lineWidth||1:0,f.__rect={x:Math.round(f.x-d/2),y:Math.round(f.y-d/2),width:f.width+d,height:f.height+d},f.__rect}},c("../tool/util").inherits(a,b),a}),define("zrender/tool/area",["require","./util","./curve"],function(al){function R(a){return a%=B,0>a&&(a+=B),a}function ah(g,c,b,h){if(!c||!g){return !1}var f=g.type;F=F||O.getContext();var d=ad(g,c,b,h);if("undefined"!=typeof d){return d}if(g.buildPath&&F.isPointInPath){return ap(g,F,c,b,h)}switch(f){case"ellipse":return !0;case"trochoid":var a="out"==c.location?c.r1+c.r2+c.d:c.r1-c.r2+c.d;return ab(c,b,h,a);case"rose":return ab(c,b,h,c.maxr);default:return !1}}function ad(k,f,d,m){var b=k.type;switch(b){case"bezier-curve":return"undefined"==typeof f.cpX2?af(f.xStart,f.yStart,f.cpX1,f.cpY1,f.xEnd,f.yEnd,f.lineWidth,d,m):Y(f.xStart,f.yStart,f.cpX1,f.cpY1,f.cpX2,f.cpY2,f.xEnd,f.yEnd,f.lineWidth,d,m);case"line":return aa(f.xStart,f.yStart,f.xEnd,f.yEnd,f.lineWidth,d,m);case"broken-line":return am(f.pointList,f.lineWidth,d,m);case"ring":return ae(f.x,f.y,f.r0,f.r,d,m);case"circle":return ab(f.x,f.y,f.r,d,m);case"sector":var l=f.startAngle*Math.PI/180,g=f.endAngle*Math.PI/180;return f.clockWise||(l=-l,g=-g),P(f.x,f.y,f.r0,f.r,l,g,!f.clockWise,d,m);case"path":return aq(f.pathArray,Math.max(f.lineWidth,5),f.brushType,d,m);case"polygon":case"star":case"isogon":return z(f.pointList,d,m);case"text":var c=f.__rect||k.getRect(f);return an(c.x,c.y,c.width,c.height,d,m);case"rectangle":case"image":return an(f.x,f.y,f.width,f.height,d,m)}}function ap(f,d,c,g,b){return d.beginPath(),f.buildPath(d,c),d.closePath(),d.isPointInPath(g,b)}function ac(d,c,f,b){return !ah(d,c,f,b)}function aa(v,y,p,f,x,c,b){if(0===x){return !1}var C=Math.max(x,5),k=0,u=v;if(b>y+C&&b>f+C||y-C>b&&f-C>b||c>v+C&&c>p+C||v-C>c&&p-C>c){return !1}if(v===p){return Math.abs(c-v)<=C/2}k=(y-f)/(v-p),u=(v*f-p*y)/(v-p);var w=k*c-b+u,g=w*w/(k*k+1);return C/2*C/2>=g}function Y(w,E,u,g,C,f,b,I,p,v,x){if(0===p){return !1}var k=Math.max(p,5);if(x>E+k&&x>g+k&&x>f+k&&x>I+k||E-k>x&&g-k>x&&f-k>x&&I-k>x||v>w+k&&v>u+k&&v>C+k&&v>b+k||w-k>v&&u-k>v&&C-k>v&&b-k>v){return !1}var y=q.cubicProjectPoint(w,E,u,g,C,f,b,I,v,x,null);return k/2>=y}function af(p,w,k,f,v,c,b,x,g){if(0===b){return !1}var m=Math.max(b,5);if(g>w+m&&g>f+m&&g>c+m||w-m>g&&f-m>g&&c-m>g||x>p+m&&x>k+m&&x>v+m||p-m>x&&k-m>x&&v-m>x){return !1}var u=q.quadraticProjectPoint(p,w,k,f,v,c,x,g,null);return m/2>=u}function ai(x,v,k,E,g,b,I,u,w){if(0===I){return !1}var y=Math.max(I,5);u-=x,w-=v;var t=Math.sqrt(u*u+w*w);if(t-y>k||k>t+y){return !1}if(Math.abs(E-g)>=B){return !0}if(b){var C=E;E=R(g),g=R(C)}else{E=R(E),g=R(g)}E>g&&(g+=B);var f=Math.atan2(w,u);return 0>f&&(f+=B),f>=E&&g>=f||f+B>=E&&g>=f+B}function am(m,u,g,c){for(var u=Math.max(u,10),r=0,b=m.length-1;b>r;r++){var v=m[r][0],f=m[r][1],k=m[r+1][0],p=m[r+1][1];if(aa(v,f,k,p,u,g,c)){return !0}}return !1}function ae(g,d,c,k,b,h){var f=(b-g)*(b-g)+(h-d)*(h-d);return k*k>f&&f>c*c}function an(f,d,c,h,b,g){return b>=f&&f+c>=b&&g>=d&&d+h>=g}function ab(f,d,c,g,b){return c*c>(g-f)*(g-f)+(b-d)*(b-d)}function P(h,m,g,d,k,c,b,p,f){return ai(h,m,(g+d)/2,k,c,b,d-g,p,f)}function z(p,w,k){for(var f=p.length,v=0,c=0,b=f-1;f>c;c++){var x=p[b][0],g=p[b][1],m=p[c][0],u=p[c][1];v+=A(x,g,m,u,w,k),b=c}return 0!==v}function A(h,m,g,d,k,c){if(c>m&&c>d||m>c&&d>c){return 0}if(d==m){return 0}var b=m>d?1:-1,p=(c-m)/(d-m),f=p*(g-h)+h;return f>k?b:0}function H(){var a=Q[0];Q[0]=Q[1],Q[1]=a}function aj(W,v,L,E,at,C,x,w,K,S){if(S>v&&S>E&&S>C&&S>w||v>S&&E>S&&C>S&&w>S){return 0}var X=q.cubicRootAt(v,E,C,w,S,Z);if(0===X){return 0}for(var I,ar,y=0,k=-1,b=0;X>b;b++){var f=Z[b],T=q.cubicAt(W,L,at,x,f);K>T||(0>k&&(k=q.cubicExtrema(v,E,C,w,Q),Q[1]<Q[0]&&k>1&&H(),I=q.cubicAt(v,E,C,w,Q[0]),k>1&&(ar=q.cubicAt(v,E,C,w,Q[1]))),y+=2==k?f<Q[0]?v>I?1:-1:f<Q[1]?I>ar?1:-1:ar>w?1:-1:f<Q[0]?v>I?1:-1:I>w?1:-1)}return y}function ak(y,K,w,k,I,g,b,L){if(L>K&&L>k&&L>g||K>L&&k>L&&g>L){return 0}var v=q.quadraticRootAt(K,k,g,L,Z);if(0===v){return 0}var x=q.quadraticExtremum(K,k,g);if(x>=0&&1>=x){for(var C=0,u=q.quadraticAt(K,k,g,x),E=0;v>E;E++){var f=q.quadraticAt(y,w,I,Z[E]);f>b||(C+=Z[E]<x?K>u?1:-1:u>g?1:-1)}return C}var f=q.quadraticAt(y,w,I,Z[0]);return f>b?0:K>g?1:-1}function ao(y,w,k,I,g,b,L,v){if(v-=w,v>k||-k>v){return 0}var x=Math.sqrt(k*k-v*v);if(Z[0]=-x,Z[1]=x,Math.abs(I-g)>=B){I=0,g=B;var C=b?1:-1;return L>=Z[0]+y&&L<=Z[1]+y?C:0}if(b){var x=I;I=R(g),g=R(x)}else{I=R(I),g=R(g)}I>g&&(g+=B);for(var t=0,E=0;2>E;E++){var f=Z[E];if(f+y>L){var K=Math.atan2(v,f),C=b?1:-1;0>K&&(K=B+K),(K>=I&&g>=K||K+B>=I&&g>=K+B)&&(K>Math.PI/2&&K<1.5*Math.PI&&(C=-C),t+=C)}}return t}function aq(aE,aw,aD,aA,aH){var az=0,aF=0,aB=0,aG=0,ay=0,av=!0,g=!0;aD=aD||"fill";for(var E="stroke"===aD||"both"===aD,aI="fill"===aD||"both"===aD,ar=0;ar<aE.length;ar++){var aC=aE[ar],r=aC.points;if(av||"M"===aC.command){if(ar>0&&(aI&&(az+=A(aF,aB,aG,ay,aA,aH)),0!==az)){return !0}aG=r[r.length-2],ay=r[r.length-1],av=!1,g&&"A"!==aC.command&&(g=!1,aF=aG,aB=ay)}switch(aC.command){case"M":aF=r[0],aB=r[1];break;case"L":if(E&&aa(aF,aB,r[0],r[1],aw,aA,aH)){return !0}aI&&(az+=A(aF,aB,r[0],r[1],aA,aH)),aF=r[0],aB=r[1];break;case"C":if(E&&Y(aF,aB,r[0],r[1],r[2],r[3],r[4],r[5],aw,aA,aH)){return !0}aI&&(az+=aj(aF,aB,r[0],r[1],r[2],r[3],r[4],r[5],aA,aH)),aF=r[4],aB=r[5];break;case"Q":if(E&&af(aF,aB,r[0],r[1],r[2],r[3],aw,aA,aH)){return !0}aI&&(az+=ak(aF,aB,r[0],r[1],r[2],r[3],aA,aH)),aF=r[2],aB=r[3];break;case"A":var au=r[0],f=r[1],at=r[2],b=r[3],U=r[4],s=r[5],l=Math.cos(U)*at+au,h=Math.sin(U)*b+f;g?(g=!1,aG=l,ay=h):az+=A(aF,aB,l,h);var ax=(aA-au)*b/at+au;if(E&&ai(au,f,b,U,U+s,1-r[7],aw,ax,aH)){return !0}aI&&(az+=ao(au,f,b,U,U+s,1-r[7],ax,aH)),aF=Math.cos(U+s)*at+au,aB=Math.sin(U+s)*b+f;break;case"z":if(E&&aa(aF,aB,aG,ay,aw,aA,aH)){return !0}av=!0}}return aI&&(az+=A(aF,aB,aG,ay,aA,aH)),0!==az}function M(f,d){var c=f+":"+d;if(N[c]){return N[c]}F=F||O.getContext(),F.save(),d&&(F.font=d),f=(f+"").split("\n");for(var h=0,b=0,g=f.length;g>b;b++){h=Math.max(F.measureText(f[b]).width,h)}return F.restore(),N[c]=h,++J>D&&(J=0,N={}),h}function ag(c,b){var a=c+":"+b;if(j[a]){return j[a]}F=F||O.getContext(),F.save(),b&&(F.font=b),c=(c+"").split("\n");var d=(F.measureText("国").width+2)*c.length;return F.restore(),j[a]=d,++G>D&&(G=0,j={}),d}var F,O=al("./util"),q=al("./curve"),N={},j={},J=0,G=0,D=5000,B=2*Math.PI,Z=[-1,-1,-1],Q=[-1,-1];return{isInside:ah,isOutside:ac,getTextWidth:M,getTextHeight:ag,isInsidePath:aq,isInsidePolygon:z,isInsideSector:P,isInsideCircle:ab,isInsideLine:aa,isInsideRect:an,isInsideBrokenLine:am,isInsideCubicStroke:Y,isInsideQuadraticStroke:af}}),define("zrender/shape/Base",["require","../tool/matrix","../tool/guid","../tool/util","../tool/log","../mixin/Transformable","../mixin/Eventful","../tool/area","../tool/color"],function(u){function y(H,A,G,i,e,I,C){e&&(H.font=e),H.textAlign=I,H.textBaseline=C;var D=p(A,G,i,e,I,C);A=(A+"").split("\n");var E=u("../tool/area").getTextHeight("国",e);switch(C){case"top":i=D.y;break;case"bottom":i=D.y+E;break;default:i=D.y+E/2}for(var B=0,F=A.length;F>B;B++){H.fillText(A[B],G,i),i+=E}}function p(D,A,e,C,d,c){var E=u("../tool/area"),m=E.getTextWidth(D,C),B=E.getTextHeight("国",C);switch(D=(D+"").split("\n"),d){case"end":case"right":A-=m;break;case"center":A-=m/2}switch(c){case"top":break;case"bottom":e-=B*D.length;break;default:e-=B*D.length/2}return{x:A,y:e,width:m,height:B*D.length}}var g=window.G_vmlCanvasManager,x=u("../tool/matrix"),f=u("../tool/guid"),b=u("../tool/util"),z=u("../tool/log"),k=u("../mixin/Transformable"),q=u("../mixin/Eventful"),v=function(c){c=c||{},this.id=c.id||f();for(var a in c){this[a]=c[a]}this.style=this.style||{},this.highlightStyle=this.highlightStyle||null,this.parent=null,this.__dirty=!0,this.__clipShapes=[],k.call(this),q.call(this)};v.prototype.invisible=!1,v.prototype.ignore=!1,v.prototype.zlevel=0,v.prototype.draggable=!1,v.prototype.clickable=!1,v.prototype.hoverable=!0,v.prototype.z=0,v.prototype.brush=function(d,c){var a=this.beforeBrush(d,c);switch(d.beginPath(),this.buildPath(d,a),a.brushType){case"both":d.fill();case"stroke":a.lineWidth>0&&d.stroke();break;default:d.fill()}this.drawText(d,a,this.style),this.afterBrush(d)},v.prototype.beforeBrush=function(d,c){var a=this.style;return this.brushTypeOnly&&(a.brushType=this.brushTypeOnly),c&&(a=this.getHighlightStyle(a,this.highlightStyle||{},this.brushTypeOnly)),"stroke"==this.brushTypeOnly&&(a.strokeColor=a.strokeColor||a.color),d.save(),this.doClip(d),this.setContext(d,a),this.setTransform(d),a},v.prototype.afterBrush=function(a){a.restore()};var j=[["color","fillStyle"],["strokeColor","strokeStyle"],["opacity","globalAlpha"],["lineCap","lineCap"],["lineJoin","lineJoin"],["miterLimit","miterLimit"],["lineWidth","lineWidth"],["shadowBlur","shadowBlur"],["shadowColor","shadowColor"],["shadowOffsetX","shadowOffsetX"],["shadowOffsetY","shadowOffsetY"]];v.prototype.setContext=function(m,h){for(var d=0,A=j.length;A>d;d++){var c=j[d][0],s=h[c],l=j[d][1];"undefined"!=typeof s&&(m[l]=s)}};var w=x.create();return v.prototype.doClip=function(d){if(this.__clipShapes&&!g){for(var c=0;c<this.__clipShapes.length;c++){var a=this.__clipShapes[c];if(a.needTransform){var h=a.transform;x.invert(w,h),d.transform(h[0],h[1],h[2],h[3],h[4],h[5])}if(d.beginPath(),a.buildPath(d,a.style),d.clip(),a.needTransform){var h=w;d.transform(h[0],h[1],h[2],h[3],h[4],h[5])}}}},v.prototype.getHighlightStyle=function(e,d,A){var c={};for(var m in e){c[m]=e[m]}var l=u("../tool/color"),h=l.getHighlightColor();"stroke"!=e.brushType?(c.strokeColor=h,c.lineWidth=(e.lineWidth||1)+this.getHighlightZoom(),c.brushType="both"):"stroke"!=A?(c.strokeColor=h,c.lineWidth=(e.lineWidth||1)+this.getHighlightZoom()):c.strokeColor=d.strokeColor||l.mix(e.strokeColor,l.toRGB(h));for(var m in d){"undefined"!=typeof d[m]&&(c[m]=d[m])}return c},v.prototype.getHighlightZoom=function(){return"text"!=this.type?6:2},v.prototype.drift=function(c,a){this.position[0]+=c,this.position[1]+=a},v.prototype.getTansform=function(){var a=[];return function(d,c){var e=[d,c];return this.needTransform&&this.transform&&(x.invert(a,this.transform),x.mulVector(e,a,[d,c,1]),d==e[0]&&c==e[1]&&this.updateNeedTransform()),e}}(),v.prototype.buildPath=function(){z("buildPath not implemented in "+this.type)},v.prototype.getRect=function(){z("getRect not implemented in "+this.type)},v.prototype.isCover=function(e,d){var h=this.getTansform(e,d);e=h[0],d=h[1];var c=this.style.__rect;return c||(c=this.style.__rect=this.getRect(this.style)),e>=c.x&&e<=c.x+c.width&&d>=c.y&&d<=c.y+c.height?u("../tool/area").isInside(this,this.style,e,d):!1},v.prototype.drawText=function(J,H,C){if("undefined"!=typeof H.text&&H.text!==!1){var N=H.textColor||H.color||H.strokeColor;J.fillStyle=N;var B,t,P,G,I=10,K=H.textPosition||this.textPosition||"top";switch(K){case"inside":case"top":case"bottom":case"left":case"right":if(this.getRect){var E=(C||H).__rect||this.getRect(C||H);switch(K){case"inside":P=E.x+E.width/2,G=E.y+E.height/2,B="center",t="middle","stroke"!=H.brushType&&N==H.color&&(J.fillStyle="#fff");break;case"left":P=E.x-I,G=E.y+E.height/2,B="end",t="middle";break;case"right":P=E.x+E.width+I,G=E.y+E.height/2,B="start",t="middle";break;case"top":P=E.x+E.width/2,G=E.y-I,B="center",t="bottom";break;case"bottom":P=E.x+E.width/2,G=E.y+E.height+I,B="center",t="top"}}break;case"start":case"end":var L,A,O,D;if("undefined"!=typeof H.pointList){var F=H.pointList;if(F.length<2){return}var M=F.length;switch(K){case"start":L=F[0][0],A=F[1][0],O=F[0][1],D=F[1][1];break;case"end":L=F[M-2][0],A=F[M-1][0],O=F[M-2][1],D=F[M-1][1]}}else{L=H.xStart||0,A=H.xEnd||0,O=H.yStart||0,D=H.yEnd||0}switch(K){case"start":B=A>L?"end":"start",t=D>O?"bottom":"top",P=L,G=O;break;case"end":B=A>L?"start":"end",t=D>O?"top":"bottom",P=A,G=D}I-=4,L!=A?P-="end"==B?I:-I:B="center",O!=D?G-="bottom"==t?I:-I:t="middle";break;case"specific":P=H.textX||0,G=H.textY||0,B="start",t="middle"}null!=P&&null!=G&&y(J,H.text,P,G,H.textFont,H.textAlign||B,H.textBaseline||t)}},v.prototype.modSelf=function(){this.__dirty=!0,this.style&&(this.style.__rect=null),this.highlightStyle&&(this.highlightStyle.__rect=null)},v.prototype.isSilent=function(){return !(this.hoverable||this.draggable||this.clickable||this.onmousemove||this.onmouseover||this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)},b.merge(v.prototype,k.prototype,!0),b.merge(v.prototype,q.prototype,!0),v}),define("zrender/tool/curve",["require","./vector"],function(J){function w(a){return a>-j&&j>a}function F(a){return a>j||-j>a}function C(f,d,c,h,b){var g=1-b;return g*g*(g*f+3*b*d)+b*b*(b*h+3*g*c)}function N(f,d,c,h,b){var g=1-b;return 3*(((d-f)*g+2*(c-d)*b)*g+(h-c)*b*b)}function B(aj,af,ab,an,aa,Y){var U=an+3*(af-ab)-aj,ad=3*(ab-2*af+aj),ag=3*(af-aj),ak=aj-aa,ac=ad*ad-3*U*ag,al=ad*ag-9*U*ak,Z=ag*ag-3*ad*ak,T=0;if(w(ac)&&w(al)){if(w(ad)){Y[0]=0}else{var O=-ag/ad;O>=0&&1>=O&&(Y[T++]=O)}}else{var ah=al*al-4*ac*Z;if(w(ah)){var ai=al/ac,O=-ad/U+ai,am=-ai/2;O>=0&&1>=O&&(Y[T++]=O),am>=0&&1>=am&&(Y[T++]=am)}else{if(ah>0){var ao=Math.sqrt(ah),Q=ac*ad+1.5*U*(-al+ao),ae=ac*ad+1.5*U*(-al-ao);Q=0>Q?-Math.pow(-Q,q):Math.pow(Q,q),ae=0>ae?-Math.pow(-ae,q):Math.pow(ae,q);var O=(-ad-(Q+ae))/(3*U);O>=0&&1>=O&&(Y[T++]=O)}else{var P=(2*ac*ad-3*U*al)/(2*Math.sqrt(ac*ac*ac)),S=Math.acos(P)/3,y=Math.sqrt(ac),R=Math.cos(S),O=(-ad-2*y*R)/(3*U),am=(-ad+y*(R+k*Math.sin(S)))/(3*U),t=(-ad+y*(R-k*Math.sin(S)))/(3*U);O>=0&&1>=O&&(Y[T++]=O),am>=0&&1>=am&&(Y[T++]=am),t>=0&&1>=t&&(Y[T++]=t)}}}return T}function z(P,i,S,g,b){var U=6*S-12*i+6*P,y=9*i+3*g-3*P-9*S,O=3*i-3*P,Q=0;if(w(y)){if(F(U)){var t=-O/U;t>=0&&1>=t&&(b[Q++]=t)}}else{var R=U*U-4*y*O;if(w(R)){b[0]=-U/(2*y)}else{if(R>0){var f=Math.sqrt(R),t=(-U+f)/(2*y),T=(-U-f)/(2*y);t>=0&&1>=t&&(b[Q++]=t),T>=0&&1>=T&&(b[Q++]=T)}}}return Q}function x(O,R,u,f,Q,c){var b=(R-O)*Q+O,S=(u-R)*Q+R,p=(f-u)*Q+u,y=(S-b)*Q+b,P=(p-S)*Q+S,g=(P-y)*Q+y;c[0]=O,c[1]=b,c[2]=y,c[3]=g,c[4]=g,c[5]=P,c[6]=p,c[7]=f}function E(Z,O,X,ac,S,Q,P,V,Y,aa,T){var ab,R=0.005,b=1/0;H[0]=Y,H[1]=aa;for(var g=0;1>g;g+=0.05){I[0]=C(Z,X,S,P,g),I[1]=C(O,ac,Q,V,g);var ad=v.distSquare(H,I);b>ad&&(ab=g,b=ad)}b=1/0;for(var n=0;32>n&&!(j>R);n++){var W=ab-R,f=ab+R;I[0]=C(Z,X,S,P,W),I[1]=C(O,ac,Q,V,W);var ad=v.distSquare(I,H);if(W>=0&&b>ad){ab=W,b=ad}else{M[0]=C(Z,X,S,P,f),M[1]=C(O,ac,Q,V,f);var u=v.distSquare(M,H);1>=f&&b>u?(ab=f,b=u):R*=0.5}}return T&&(T[0]=C(Z,X,S,P,ab),T[1]=C(O,ac,Q,V,ab)),Math.sqrt(b)}function G(f,d,c,g){var b=1-g;return b*(b*f+2*g*d)+g*g*c}function K(c,b,a,d){return 2*((1-d)*(b-c)+d*(a-b))}function D(P,i,S,g,b){var U=P-2*i+S,y=2*(i-P),O=P-g,Q=0;if(w(U)){if(F(y)){var t=-O/y;t>=0&&1>=t&&(b[Q++]=t)}}else{var R=y*y-4*U*O;if(w(R)){var t=-y/(2*U);t>=0&&1>=t&&(b[Q++]=t)}else{if(R>0){var f=Math.sqrt(R),t=(-y+f)/(2*U),T=(-y-f)/(2*U);t>=0&&1>=t&&(b[Q++]=t),T>=0&&1>=T&&(b[Q++]=T)}}}return Q}function L(c,b,a){var d=c+a-2*b;return 0===d?0.5:(c-b)/d}function A(X,h,W,R,aa,Q,O,u,T){var Y,S=0.005,Z=1/0;H[0]=O,H[1]=u;for(var P=0;1>P;P+=0.05){I[0]=G(X,W,aa,P),I[1]=G(h,R,Q,P);var b=v.distSquare(H,I);Z>b&&(Y=P,Z=b)}Z=1/0;for(var f=0;32>f&&!(j>S);f++){var ab=Y-S,g=Y+S;I[0]=G(X,W,aa,ab),I[1]=G(h,R,Q,ab);var b=v.distSquare(I,H);if(ab>=0&&Z>b){Y=ab,Z=b}else{M[0]=G(X,W,aa,g),M[1]=G(h,R,Q,g);var V=v.distSquare(M,H);1>=g&&Z>V?(Y=g,Z=V):S*=0.5}}return T&&(T[0]=G(X,W,aa,Y),T[1]=G(h,R,Q,Y)),Math.sqrt(Z)}var v=J("./vector"),j=0.0001,k=Math.sqrt(3),q=1/3,H=v.create(),I=v.create(),M=v.create();return{cubicAt:C,cubicDerivativeAt:N,cubicRootAt:B,cubicExtrema:z,cubicSubdivide:x,cubicProjectPoint:E,quadraticAt:G,quadraticDerivativeAt:K,quadraticRootAt:D,quadraticExtremum:L,quadraticProjectPoint:A}}),define("zrender/Group",["require","./tool/guid","./tool/util","./mixin/Transformable","./mixin/Eventful"],function(f){var d=f("./tool/guid"),c=f("./tool/util"),h=f("./mixin/Transformable"),b=f("./mixin/Eventful"),g=function(j){j=j||{},this.id=j.id||d();for(var a in j){this[a]=j[a]}this.type="group",this.clipShape=null,this._children=[],this._storage=null,this.__dirty=!0,h.call(this),b.call(this)};return g.prototype.ignore=!1,g.prototype.children=function(){return this._children.slice()},g.prototype.childAt=function(a){return this._children[a]},g.prototype.addChild=function(a){a!=this&&a.parent!=this&&(a.parent&&a.parent.removeChild(a),this._children.push(a),a.parent=this,this._storage&&this._storage!==a._storage&&(this._storage.addToMap(a),a instanceof g&&a.addChildrenToStorage(this._storage)))},g.prototype.removeChild=function(i){var a=c.indexOf(this._children,i);this._children.splice(a,1),i.parent=null,this._storage&&(this._storage.delFromMap(i.id),i instanceof g&&i.delChildrenFromStorage(this._storage))},g.prototype.eachChild=function(m,l){for(var k=!!l,o=0;o<this._children.length;o++){var j=this._children[o];k?m.call(l,j):m(j)}},g.prototype.traverse=function(m,l){for(var k=!!l,o=0;o<this._children.length;o++){var j=this._children[o];k?m.call(l,j):m(j),"group"===j.type&&j.traverse(m,l)}},g.prototype.addChildrenToStorage=function(k){for(var j=0;j<this._children.length;j++){var a=this._children[j];k.addToMap(a),"group"===a.type&&a.addChildrenToStorage(k)}},g.prototype.delChildrenFromStorage=function(k){for(var j=0;j<this._children.length;j++){var a=this._children[j];k.delFromMap(a.id),"group"===a.type&&a.delChildrenFromStorage(k)}},g.prototype.modSelf=function(){this.__dirty=!0},c.merge(g.prototype,h.prototype,!0),c.merge(g.prototype,b.prototype,!0),g}),define("zrender/animation/Clip",["require","./easing"],function(c){function b(d){this._targetPool=d.target||{},this._targetPool instanceof Array||(this._targetPool=[this._targetPool]),this._life=d.life||1000,this._delay=d.delay||0,this._startTime=(new Date).getTime()+this._delay,this._endTime=this._startTime+1000*this._life,this.loop="undefined"==typeof d.loop?!1:d.loop,this.gap=d.gap||0,this.easing=d.easing||"Linear",this.onframe=d.onframe,this.ondestroy=d.ondestroy,this.onrestart=d.onrestart}var a=c("./easing");return b.prototype={step:function(g){var f=(g-this._startTime)/this._life;if(!(0>f)){f=Math.min(f,1);var h="string"==typeof this.easing?a[this.easing]:this.easing,d="function"==typeof h?h(f):f;return this.fire("frame",d),1==f?this.loop?(this.restart(),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(){var f=(new Date).getTime(),d=(f-this._startTime)%this._life;this._startTime=(new Date).getTime()-d+this.gap,this._needsRemove=!1},fire:function(g,f){for(var d=0,h=this._targetPool.length;h>d;d++){this["on"+g]&&this["on"+g](this._targetPool[d],f)}},constructor:b},b}),define("zrender/animation/easing",[],function(){var a={Linear:function(b){return b},QuadraticIn:function(b){return b*b},QuadraticOut:function(b){return b*(2-b)},QuadraticInOut:function(b){return(b*=2)<1?0.5*b*b:-0.5*(--b*(b-2)-1)},CubicIn:function(b){return b*b*b},CubicOut:function(b){return --b*b*b+1},CubicInOut:function(b){return(b*=2)<1?0.5*b*b*b:0.5*((b-=2)*b*b+2)},QuarticIn:function(b){return b*b*b*b},QuarticOut:function(b){return 1- --b*b*b*b},QuarticInOut:function(b){return(b*=2)<1?0.5*b*b*b*b:-0.5*((b-=2)*b*b*b-2)},QuinticIn:function(b){return b*b*b*b*b},QuinticOut:function(b){return --b*b*b*b*b+1},QuinticInOut:function(b){return(b*=2)<1?0.5*b*b*b*b*b:0.5*((b-=2)*b*b*b*b+2)},SinusoidalIn:function(b){return 1-Math.cos(b*Math.PI/2)},SinusoidalOut:function(b){return Math.sin(b*Math.PI/2)},SinusoidalInOut:function(b){return 0.5*(1-Math.cos(Math.PI*b))},ExponentialIn:function(b){return 0===b?0:Math.pow(1024,b-1)},ExponentialOut:function(b){return 1===b?1:1-Math.pow(2,-10*b)},ExponentialInOut:function(b){return 0===b?0:1===b?1:(b*=2)<1?0.5*Math.pow(1024,b-1):0.5*(-Math.pow(2,-10*(b-1))+2)},CircularIn:function(b){return 1-Math.sqrt(1-b*b)},CircularOut:function(b){return Math.sqrt(1- --b*b)},CircularInOut:function(b){return(b*=2)<1?-0.5*(Math.sqrt(1-b*b)-1):0.5*(Math.sqrt(1-(b-=2)*b)+1)},ElasticIn:function(d){var c,b=0.1,f=0.4;return 0===d?0:1===d?1:(!b||1>b?(b=1,c=f/4):c=f*Math.asin(1/b)/(2*Math.PI),-(b*Math.pow(2,10*(d-=1))*Math.sin(2*(d-c)*Math.PI/f)))},ElasticOut:function(d){var c,b=0.1,f=0.4;return 0===d?0:1===d?1:(!b||1>b?(b=1,c=f/4):c=f*Math.asin(1/b)/(2*Math.PI),b*Math.pow(2,-10*d)*Math.sin(2*(d-c)*Math.PI/f)+1)},ElasticInOut:function(d){var c,b=0.1,f=0.4;return 0===d?0:1===d?1:(!b||1>b?(b=1,c=f/4):c=f*Math.asin(1/b)/(2*Math.PI),(d*=2)<1?-0.5*b*Math.pow(2,10*(d-=1))*Math.sin(2*(d-c)*Math.PI/f):b*Math.pow(2,-10*(d-=1))*Math.sin(2*(d-c)*Math.PI/f)*0.5+1)},BackIn:function(c){var b=1.70158;return c*c*((b+1)*c-b)},BackOut:function(c){var b=1.70158;return --c*c*((b+1)*c+b)+1},BackInOut:function(c){var b=2.5949095;return(c*=2)<1?0.5*c*c*((b+1)*c-b):0.5*((c-=2)*c*((b+1)*c+b)+2)},BounceIn:function(b){return 1-a.BounceOut(1-b)},BounceOut:function(b){return 1/2.75>b?7.5625*b*b:2/2.75>b?7.5625*(b-=1.5/2.75)*b+0.75:2.5/2.75>b?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},BounceInOut:function(b){return 0.5>b?0.5*a.BounceIn(2*b):0.5*a.BounceOut(2*b-1)+0.5}};return a}),define("echarts/component/base",["require","../config","../util/ecData","../util/ecQuery","../util/number","zrender/tool/util","zrender/tool/env"],function(g){function d(n,k,i,p,m){this.ecTheme=n,this.messageCenter=k,this.zr=i,this.option=p,this.series=p.series,this.myChart=m,this.component=m.component,this._zlevelBase=this.getZlevelBase(),this.shapeList=[],this.effectList=[];var l=this;l._onlegendhoverlink=function(s){if(l.legendHoverLink){for(var r,q=s.target,u=l.shapeList.length-1;u>=0;u--){r=l.type==c.CHART_TYPE_PIE||l.type==c.CHART_TYPE_FUNNEL?j.get(l.shapeList[u],"name"):(j.get(l.shapeList[u],"series")||{}).name,r!=q||l.shapeList[u].invisible||l.zr.addHoverShape(l.shapeList[u])}}},k&&k.bind(c.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink)}var c=g("../config"),j=g("../util/ecData"),b=g("../util/ecQuery"),h=g("../util/number"),f=g("zrender/tool/util");return d.prototype={canvasSupported:g("zrender/tool/env").canvasSupported,getZlevelBase:function(a){switch(a=a||this.type+""){case c.COMPONENT_TYPE_GRID:case c.COMPONENT_TYPE_AXIS_CATEGORY:case c.COMPONENT_TYPE_AXIS_VALUE:case c.COMPONENT_TYPE_POLAR:return 0;case c.CHART_TYPE_LINE:case c.CHART_TYPE_BAR:case c.CHART_TYPE_SCATTER:case c.CHART_TYPE_PIE:case c.CHART_TYPE_RADAR:case c.CHART_TYPE_MAP:case c.CHART_TYPE_K:case c.CHART_TYPE_CHORD:case c.CHART_TYPE_GUAGE:case c.CHART_TYPE_FUNNEL:case c.CHART_TYPE_EVENTRIVER:return 2;case c.COMPONENT_TYPE_LEGEND:case c.COMPONENT_TYPE_DATARANGE:case c.COMPONENT_TYPE_DATAZOOM:case c.COMPONENT_TYPE_TIMELINE:case c.COMPONENT_TYPE_ROAMCONTROLLER:return 4;case c.CHART_TYPE_ISLAND:return 5;case c.COMPONENT_TYPE_TOOLBOX:case c.COMPONENT_TYPE_TITLE:return 6;case c.COMPONENT_TYPE_TOOLTIP:return 8;default:return 0}},reformOption:function(a){return f.merge(a||{},f.clone(this.ecTheme[this.type]||{}))},reformCssArray:function(a){if(!(a instanceof Array)){return[a,a,a,a]}switch(a.length+""){case"4":return a;case"3":return[a[0],a[1],a[2],a[1]];case"2":return[a[0],a[1],a[0],a[1]];case"1":return[a[0],a[0],a[0],a[0]];case"0":return[0,0,0,0]}},getShapeById:function(l){for(var k=0,a=this.shapeList.length;a>k;k++){if(this.shapeList[k].id===l){return this.shapeList[k]}}return null},getFont:function(i){var a=f.merge(f.clone(i)||{},this.ecTheme.textStyle);return a.fontStyle+" "+a.fontWeight+" "+a.fontSize+"px "+a.fontFamily},getItemStyleColor:function(l,k,a,m){return"function"==typeof l?l.call(this.myChart,{seriesIndex:k,series:this.series[k],dataIndex:a,data:m}):l},subPixelOptimize:function(i,a){return i=a%2===1?Math.floor(i)+0.5:Math.round(i)},resize:function(){this.refresh&&this.refresh(),this.clearEffectShape&&this.clearEffectShape(!0);var a=this;setTimeout(function(){a.animationEffect&&a.animationEffect()},200)},clear:function(){this.clearEffectShape&&this.clearEffectShape(),this.zr&&this.zr.delShape(this.shapeList),this.shapeList=[]},dispose:function(){this.onbeforDispose&&this.onbeforDispose(),this.clear(),this.shapeList=null,this.effectList=null,this.messageCenter&&this.messageCenter.unbind(c.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink),this.onafterDispose&&this.onafterDispose()},query:b.query,deepQuery:b.deepQuery,deepMerge:b.deepMerge,parsePercent:h.parsePercent,parseCenter:h.parseCenter,parseRadius:h.parseRadius,numAddCommas:h.addCommas},d}),define("echarts/chart/base",["require","zrender/shape/Image","../util/shape/Icon","../util/shape/MarkLine","../util/shape/Symbol","../config","../util/ecData","../util/ecAnimation","../util/ecEffect","../util/accMath","zrender/tool/util","zrender/tool/area"],function(u){function y(){var a=this;this.selectedMap={},this.lastShapeList=[],this.shapeHandler={onclick:function(){a.isClick=!0},ondragover:function(e){var d=e.target;d.highlightStyle=d.highlightStyle||{};var m=d.highlightStyle,c=m.brushTyep,l=m.strokeColor,h=m.lineWidth;m.brushType="stroke",m.strokeColor=a.ecTheme.calculableColor,m.lineWidth="icon"===d.type?30:10,a.zr.addHoverShape(d),setTimeout(function(){d.highlightStyle&&(d.highlightStyle.brushType=c,d.highlightStyle.strokeColor=l,d.highlightStyle.lineWidth=h)},20)},ondrop:function(c){null!=z.get(c.dragged,"data")&&(a.isDrop=!0)},ondragend:function(){a.isDragend=!0}}}var p=u("zrender/shape/Image"),g=u("../util/shape/Icon"),x=u("../util/shape/MarkLine"),f=u("../util/shape/Symbol"),b=u("../config"),z=u("../util/ecData"),k=u("../util/ecAnimation"),q=u("../util/ecEffect"),v=u("../util/accMath"),j=u("zrender/tool/util"),w=u("zrender/tool/area");return y.prototype={setCalculable:function(a){return a.dragEnableTime=this.ecTheme.DRAG_ENABLE_TIME,a.ondragover=this.shapeHandler.ondragover,a.ondragend=this.shapeHandler.ondragend,a.ondrop=this.shapeHandler.ondrop,a},ondrop:function(G,K){if(this.isDrop&&G.target&&!K.dragIn){var E,s=G.target,I=G.dragged,r=z.get(s,"seriesIndex"),D=z.get(s,"dataIndex"),F=this.series,B=this.component.legend;if(-1===D){if(z.get(I,"seriesIndex")==r){return K.dragOut=K.dragIn=K.needRefresh=!0,void (this.isDrop=!1)}E={value:z.get(I,"value"),name:z.get(I,"name")},this.type===b.CHART_TYPE_PIE&&E.value<0&&(E.value=0);for(var H=!1,d=F[r].data,J=0,A=d.length;A>J;J++){d[J].name===E.name&&"-"===d[J].value&&(F[r].data[J].value=E.value,H=!0)}!H&&F[r].data.push(E),B&&B.add(E.name,I.style.color||I.style.strokeColor)}else{E=this.option.series[r].data[D]||"-",null!=E.value?(this.option.series[r].data[D].value="-"!=E.value?v.accAdd(this.option.series[r].data[D].value,z.get(I,"value")):z.get(I,"value"),(this.type===b.CHART_TYPE_FUNNEL||this.type===b.CHART_TYPE_PIE)&&(B&&1===B.getRelatedAmount(E.name)&&this.component.legend.del(E.name),E.name+=this.option.nameConnector+z.get(I,"name"),B&&B.add(E.name,I.style.color||I.style.strokeColor))):this.option.series[r].data[D]="-"!=E?v.accAdd(this.option.series[r].data[D],z.get(I,"value")):z.get(I,"value")}K.dragIn=K.dragIn||!0,this.isDrop=!1;var C=this;setTimeout(function(){C.zr.trigger("mousemove",G.event)},300)}},ondragend:function(m,h){if(this.isDragend&&m.target&&!h.dragOut){var d=m.target,A=z.get(d,"seriesIndex"),c=z.get(d,"dataIndex"),s=this.series;if(null!=s[A].data[c].value){s[A].data[c].value="-";var l=s[A].data[c].name;this.component.legend&&0===this.component.legend.getRelatedAmount(l)&&this.component.legend.del(l)}else{s[A].data[c]="-"}h.dragOut=!0,h.needRefresh=!0,this.isDragend=!1}},onlegendSelected:function(d,c){var a=d.selected;for(var h in this.selectedMap){this.selectedMap[h]!=a[h]&&(c.needRefresh=!0),this.selectedMap[h]=a[h]}},_bulidPosition:function(){this._symbol=this.option.symbolList,this._sIndex2ShapeMap={},this._sIndex2ColorMap={},this.selectedMap={},this.xMarkMap={};for(var B,D,r,d,C=this.series,c={top:[],bottom:[],left:[],right:[],other:[]},E=0,m=C.length;m>E;E++){C[E].type===this.type&&(C[E]=this.reformOption(C[E]),this.legendHoverLink=C[E].legendHoverLink||this.legendHoverLink,B=C[E].xAxisIndex,D=C[E].yAxisIndex,r=this.component.xAxis.getAxis(B),d=this.component.yAxis.getAxis(D),r.type===b.COMPONENT_TYPE_AXIS_CATEGORY?c[r.getPosition()].push(E):d.type===b.COMPONENT_TYPE_AXIS_CATEGORY?c[d.getPosition()].push(E):c.other.push(E))}for(var A in c){c[A].length>0&&this._buildSinglePosition(A,c[A])}this.addShapeList()},_buildSinglePosition:function(m,h){var d=this._mapData(h),A=d.locationMap,c=d.maxDataLength;if(0!==c&&0!==A.length){switch(m){case"bottom":case"top":this._buildHorizontal(h,c,A,this.xMarkMap);break;case"left":case"right":this._buildVertical(h,c,A,this.xMarkMap);break;case"other":this._buildOther(h,c,A,this.xMarkMap)}for(var s=0,l=h.length;l>s;s++){this.buildMark(h[s])}}},_mapData:function(G){for(var L,E,B,J,A=this.series,M=0,D={},F="__kener__stack__",H=this.component.legend,C=[],I=0,r=0,K=G.length;K>r;r++){L=A[G[r]],B=L.name,this._sIndex2ShapeMap[G[r]]=this._sIndex2ShapeMap[G[r]]||this.query(L,"symbol")||this._symbol[r%this._symbol.length],H?(this.selectedMap[B]=H.isSelected(B),this._sIndex2ColorMap[G[r]]=H.getColor(B),J=H.getItemShape(B),J&&(this.type==b.CHART_TYPE_LINE?(J.style.iconType="legendLineIcon",J.style.symbol=this._sIndex2ShapeMap[G[r]]):L.itemStyle.normal.barBorderWidth>0&&(J.style.x+=1,J.style.y+=1,J.style.width-=2,J.style.height-=2,J.style.strokeColor=J.highlightStyle.strokeColor=L.itemStyle.normal.barBorderColor,J.highlightStyle.lineWidth=3,J.style.brushType="both"),H.setItemShape(B,J))):(this.selectedMap[B]=!0,this._sIndex2ColorMap[G[r]]=this.zr.getColor(G[r])),this.selectedMap[B]&&(E=L.stack||F+G[r],null==D[E]?(D[E]=M,C[M]=[G[r]],M++):C[D[E]].push(G[r])),I=Math.max(I,L.data.length)}return{locationMap:C,maxDataLength:I}},_calculMarkMapXY:function(G,J,E){for(var B=this.series,I=0,A=J.length;A>I;I++){for(var c=0,K=J[I].length;K>c;c++){var D=J[I][c],F="xy"==E?0:"";if("-1"!=E.indexOf("x")){G[D]["counter"+F]>0&&(G[D]["average"+F]=(G[D]["sum"+F]/G[D]["counter"+F]).toFixed(2)-0);var H=this.component.xAxis.getAxis(B[D].xAxisIndex||0).getCoord(G[D]["average"+F]);G[D]["averageLine"+F]=[[H,this.component.grid.getYend()],[H,this.component.grid.getY()]],G[D]["minLine"+F]=[[G[D]["minX"+F],this.component.grid.getYend()],[G[D]["minX"+F],this.component.grid.getY()]],G[D]["maxLine"+F]=[[G[D]["maxX"+F],this.component.grid.getYend()],[G[D]["maxX"+F],this.component.grid.getY()]],G[D].isHorizontal=!1}if(F="xy"==E?1:"","-1"!=E.indexOf("y")){G[D]["counter"+F]>0&&(G[D]["average"+F]=(G[D]["sum"+F]/G[D]["counter"+F]).toFixed(2)-0);var C=this.component.yAxis.getAxis(B[D].yAxisIndex||0).getCoord(G[D]["average"+F]);G[D]["averageLine"+F]=[[this.component.grid.getX(),C],[this.component.grid.getXend(),C]],G[D]["minLine"+F]=[[this.component.grid.getX(),G[D]["minY"+F]],[this.component.grid.getXend(),G[D]["minY"+F]]],G[D]["maxLine"+F]=[[this.component.grid.getX(),G[D]["maxY"+F]],[this.component.grid.getXend(),G[D]["maxY"+F]]],G[D].isHorizontal=!0}}}},addLabel:function(D,F,B,m,E){var d=[B,F],c=this.deepMerge(d,"itemStyle.normal.label"),G=this.deepMerge(d,"itemStyle.emphasis.label"),A=c.textStyle||{},C=G.textStyle||{};return c.show&&(D.style.text=this._getLabelText(F,B,m,"normal"),D.style.textPosition=null==c.position?"horizontal"===E?"right":"top":c.position,D.style.textColor=A.color,D.style.textFont=this.getFont(A)),G.show&&(D.highlightStyle.text=this._getLabelText(F,B,m,"emphasis"),D.highlightStyle.textPosition=c.show?D.style.textPosition:null==G.position?"horizontal"===E?"right":"top":G.position,D.highlightStyle.textColor=C.color,D.highlightStyle.textFont=this.getFont(C)),D},_getLabelText:function(l,h,d,r){var c=this.deepQuery([h,l],"itemStyle."+r+".label.formatter");c||"emphasis"!==r||(c=this.deepQuery([h,l],"itemStyle.normal.label.formatter"));var m=null!=h?null!=h.value?h.value:h:"-";return c?"function"==typeof c?c.call(this.myChart,l.name,d,m):"string"==typeof c?(c=c.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}"),c=c.replace("{a0}",l.name).replace("{b0}",d).replace("{c0}",this.numAddCommas(m))):void 0:this.numAddCommas(m)},buildMark:function(c){var a=this.series[c];this.selectedMap[a.name]&&(a.markPoint&&this._buildMarkPoint(c),a.markLine&&this._buildMarkLine(c))},_buildMarkPoint:function(D){for(var G,B,r=(this.markAttachStyle||{})[D],F=this.series[D],m=this.getZlevelBase(),H=j.clone(F.markPoint),A=0,C=H.data.length;C>A;A++){G=H.data[A],B=this.getMarkCoord(D,G),H.data[A].x=null!=G.x?G.x:B[0],H.data[A].y=null!=G.y?G.y:B[1],!G.type||"max"!==G.type&&"min"!==G.type||(H.data[A].value=B[3],H.data[A].name=G.name||G.type,H.data[A].symbolSize=H.data[A].symbolSize||w.getTextWidth(B[3],this.getFont())/2+5)}for(var E=this._markPoint(D,H),A=0,C=E.length;C>A;A++){E[A].zlevel=m+1;for(var c in r){E[A][c]=j.clone(r[c])}this.shapeList.push(E[A])}if(this.type===b.CHART_TYPE_FORCE||this.type===b.CHART_TYPE_CHORD){for(var A=0,C=E.length;C>A;A++){this.zr.addShape(E[A])}}},_buildMarkLine:function(D){for(var H,B,r=(this.markAttachStyle||{})[D],G=this.series[D],m=this.getZlevelBase(),I=j.clone(G.markLine),A=0,C=I.data.length;C>A;A++){H=I.data[A],!H.type||"max"!==H.type&&"min"!==H.type&&"average"!==H.type?B=[this.getMarkCoord(D,H[0]),this.getMarkCoord(D,H[1])]:(B=this.getMarkCoord(D,H),I.data[A]=[j.clone(H),{}],I.data[A][0].name=H.name||H.type,I.data[A][0].value=B[3],B=B[2],H=[{},{}]),null!=B&&null!=B[0]&&null!=B[1]&&(I.data[A][0].x=null!=H[0].x?H[0].x:B[0][0],I.data[A][0].y=null!=H[0].y?H[0].y:B[0][1],I.data[A][1].x=null!=H[1].x?H[1].x:B[1][0],I.data[A][1].y=null!=H[1].y?H[1].y:B[1][1])}for(var E=this._markLine(D,I),A=0,C=E.length;C>A;A++){E[A].zlevel=m+1;for(var F in r){E[A][F]=j.clone(r[F])}this.shapeList.push(E[A])}if(this.type===b.CHART_TYPE_FORCE||this.type===b.CHART_TYPE_CHORD){for(var A=0,C=E.length;C>A;A++){this.zr.addShape(E[A])}}},_markPoint:function(K,B){var G=this.series[K],E=this.component;j.merge(B,this.ecTheme.markPoint),B.name=G.name;var O,D,F,H,L,M,C,A=[],m=B.data,r=E.dataRange,s=E.legend,I=this.zr.getWidth(),J=this.zr.getHeight();if(B.large){O=this.getLargeMarkPoingShape(K,B),O._mark="largePoint",O&&A.push(O)}else{for(var N=0,P=m.length;P>N;N++){null!=m[N].x&&null!=m[N].y&&(F=null!=m[N]&&null!=m[N].value?m[N].value:"",s&&(D=s.getColor(G.name)),r&&(D=isNaN(F)?D:r.getColor(F),H=[m[N],B],L=this.deepQuery(H,"itemStyle.normal.color")||D,M=this.deepQuery(H,"itemStyle.emphasis.color")||L,null==L&&null==M)||(D=null==D?this.zr.getColor(K):D,m[N].tooltip=m[N].tooltip||B.tooltip||{trigger:"item"},m[N].name=null!=m[N].name?m[N].name:"",m[N].value=F,O=this.getSymbolShape(B,K,m[N],N,m[N].name,this.parsePercent(m[N].x,I),this.parsePercent(m[N].y,J),"pin",D,"rgba(0,0,0,0)","horizontal"),O._mark="point",C=this.deepMerge([m[N],B],"effect"),C.show&&(O.effect=C),G.type===b.CHART_TYPE_MAP&&(O._geo=this.getMarkGeo(m[N])),z.pack(O,G,K,m[N],N,m[N].name,F),A.push(O)))}}return A},_markLine:function(L,C){var H=this.series[L],F=this.component;j.merge(C,this.ecTheme.markLine),C.symbol=C.symbol instanceof Array?C.symbol.length>1?C.symbol:[C.symbol[0],C.symbol[0]]:[C.symbol,C.symbol],C.symbolSize=C.symbolSize instanceof Array?C.symbolSize.length>1?C.symbolSize:[C.symbolSize[0],C.symbolSize[0]]:[C.symbolSize,C.symbolSize],C.symbolRotate=C.symbolRotate instanceof Array?C.symbolRotate.length>1?C.symbolRotate:[C.symbolRotate[0],C.symbolRotate[0]]:[C.symbolRotate,C.symbolRotate],C.name=H.name;for(var P,E,G,I,M,N,D,B,m=[],r=C.data,s=F.dataRange,J=F.legend,K=this.zr.getWidth(),O=this.zr.getHeight(),Q=0,A=r.length;A>Q;Q++){null!=r[Q][0].x&&null!=r[Q][0].y&&null!=r[Q][1].x&&null!=r[Q][1].y&&(E=J?J.getColor(H.name):this.zr.getColor(L),B=this.deepMerge(r[Q]),G=null!=B&&null!=B.value?B.value:"",s&&(E=isNaN(G)?E:s.getColor(G),I=[B,C],M=this.deepQuery(I,"itemStyle.normal.color")||E,N=this.deepQuery(I,"itemStyle.emphasis.color")||M,null==M&&null==N)||(r[Q][0].tooltip=B.tooltip||{trigger:"item"},r[Q][0].name=null!=r[Q][0].name?r[Q][0].name:"",r[Q][1].name=null!=r[Q][1].name?r[Q][1].name:"",r[Q][0].value=null!=r[Q][0].value?r[Q][0].value:"",P=this.getLineMarkShape(C,L,r[Q],Q,this.parsePercent(r[Q][0].x,K),this.parsePercent(r[Q][0].y,O),this.parsePercent(r[Q][1].x,K),this.parsePercent(r[Q][1].y,O),E),P._mark="line",D=this.deepMerge([B,C],"effect"),D.show&&(P.effect=D),H.type===b.CHART_TYPE_MAP&&(P._geo=[this.getMarkGeo(r[Q][0]),this.getMarkGeo(r[Q][1])]),z.pack(P,H,L,r[Q][0],Q,r[Q][0].name+(""!==r[Q][1].name?" > "+r[Q][1].name:""),G),m.push(P)))}return m},getMarkCoord:function(){return[0,0]},getSymbolShape:function(L,C,P,F,D,H,I,M,G,N,E){var B=[P,L],i=null!=P?null!=P.value?P.value:P:"-";M=this.deepQuery(B,"symbol")||M;var n=this.deepQuery(B,"symbolSize");n="function"==typeof n?n(i):n;var s=this.deepQuery(B,"symbolRotate"),J=this.deepMerge(B,"itemStyle.normal"),K=this.deepMerge(B,"itemStyle.emphasis"),O=null!=J.borderWidth?J.borderWidth:J.lineStyle&&J.lineStyle.width;null==O&&(O=M.match("empty")?2:0);var Q=null!=K.borderWidth?K.borderWidth:K.lineStyle&&K.lineStyle.width;null==Q&&(Q=O+2);var A=new g({style:{iconType:M.replace("empty","").toLowerCase(),x:H-n,y:I-n,width:2*n,height:2*n,brushType:"both",color:M.match("empty")?N:this.getItemStyleColor(J.color,C,F,P)||G,strokeColor:J.borderColor||this.getItemStyleColor(J.color,C,F,P)||G,lineWidth:O},highlightStyle:{color:M.match("empty")?N:this.getItemStyleColor(K.color,C,F,P),strokeColor:K.borderColor||J.borderColor||this.getItemStyleColor(J.color,C,F,P)||G,lineWidth:Q},clickable:this.deepQuery(B,"clickable")});return M.match("image")&&(A.style.image=M.replace(new RegExp("^image:\\/\\/"),""),A=new p({style:A.style,highlightStyle:A.highlightStyle,clickable:this.deepQuery(B,"clickable")})),null!=s&&(A.rotation=[s*Math.PI/180,H,I]),M.match("star")&&(A.style.iconType="star",A.style.n=M.replace("empty","").replace("star","")-0||5),"none"===M&&(A.invisible=!0,A.hoverable=!1),A=this.addLabel(A,L,P,D,E),M.match("empty")&&(null==A.style.textColor&&(A.style.textColor=A.style.strokeColor),null==A.highlightStyle.textColor&&(A.highlightStyle.textColor=A.highlightStyle.strokeColor)),z.pack(A,L,C,P,F,D),A._x=H,A._y=I,A._dataIndex=F,A._seriesIndex=C,A},getLineMarkShape:function(Q,E,M,J,I,G,F,L,N){var R=null!=M[0]?null!=M[0].value?M[0].value:M[0]:"-",K=null!=M[1]?null!=M[1].value?M[1].value:M[1]:"-",S=[this.query(M[0],"symbol")||Q.symbol[0],this.query(M[1],"symbol")||Q.symbol[1]],H=[this.query(M[0],"symbolSize")||Q.symbolSize[0],this.query(M[1],"symbolSize")||Q.symbolSize[1]];H[0]="function"==typeof H[0]?H[0](R):H[0],H[1]="function"==typeof H[1]?H[1](K):H[1];var D=[this.query(M[0],"symbolRotate")||Q.symbolRotate[0],this.query(M[1],"symbolRotate")||Q.symbolRotate[1]],a=[M[0],Q],A=this.deepMerge(a,"itemStyle.normal");A.color=this.getItemStyleColor(A.color,E,J,M);var B=this.deepMerge(a,"itemStyle.emphasis");B.color=this.getItemStyleColor(B.color,E,J,M);var O=A.lineStyle,P=B.lineStyle,T=O.width;null==T&&(T=A.borderWidth);var W=P.width;null==W&&(W=null!=B.borderWidth?B.borderWidth:T+2);var C=new x({style:{smooth:Q.smooth?"spline":!1,symbol:S,symbolSize:H,symbolRotate:D,xStart:I,yStart:G,xEnd:F,yEnd:L,brushType:"both",lineType:O.type,shadowColor:O.shadowColor||O.color||A.borderColor||A.color||N,shadowBlur:O.shadowBlur,shadowOffsetX:O.shadowOffsetX,shadowOffsetY:O.shadowOffsetY,color:A.color||N,strokeColor:O.color||A.borderColor||A.color||N,lineWidth:T,symbolBorderColor:A.borderColor||A.color||N,symbolBorder:A.borderWidth},highlightStyle:{shadowColor:P.shadowColor,shadowBlur:P.shadowBlur,shadowOffsetX:P.shadowOffsetX,shadowOffsetY:P.shadowOffsetY,color:B.color||A.color||N,strokeColor:P.color||O.color||B.borderColor||A.borderColor||B.color||A.color||N,lineWidth:W,symbolBorderColor:B.borderColor||A.borderColor||B.color||A.color||N,symbolBorder:null==B.borderWidth?A.borderWidth+2:B.borderWidth},clickable:this.deepQuery(a,"clickable")});return C=this.addLabel(C,Q,M[0],M[0].name+" : "+M[1].name),C._x=F,C._y=L,C},getLargeMarkPoingShape:function(I,N){var G,B,L,o,O,F,H=this.series[I],J=this.component,D=N.data,K=J.dataRange,A=J.legend,M=[D[0],N];if(A&&(B=A.getColor(H.name)),!K||(L=null!=D[0]?null!=D[0].value?D[0].value:D[0]:"-",B=isNaN(L)?B:K.getColor(L),o=this.deepQuery(M,"itemStyle.normal.color")||B,O=this.deepQuery(M,"itemStyle.emphasis.color")||o,null!=o||null!=O)){B=this.deepMerge(M,"itemStyle.normal").color||B;var C=this.deepQuery(M,"symbol")||"circle";C=C.replace("empty","").replace(/\d/g,""),F=this.deepMerge([D[0],N],"effect");var E=window.devicePixelRatio||1;return G=new f({style:{pointList:D,color:B,strokeColor:B,shadowColor:F.shadowColor||B,shadowBlur:(null!=F.shadowBlur?F.shadowBlur:8)*E,size:this.deepQuery(M,"symbolSize"),iconType:C,brushType:"fill",lineWidth:1},draggable:!1,hoverable:!1}),F.show&&(G.effect=F),G}},backupShapeList:function(){this.shapeList&&this.shapeList.length>0?(this.lastShapeList=this.shapeList,this.shapeList=[]):this.lastShapeList=[]},addShapeList:function(){var E,H,C=this.option.animationThreshold/(this.canvasSupported?2:4),r=this.lastShapeList,G=this.shapeList,c=r.length>0?500:this.query(this.option,"animationDuration"),I=this.query(this.option,"animationEasing"),B={},D={};if(this.option.animation&&!this.option.renderAsImage&&G.length<C&&!this.motionlessOnce){for(var F=0,A=r.length;A>F;F++){H=this._getAnimationKey(r[F]),H.match("undefined")?this.zr.delShape(r[F].id):(H+=r[F].type,B[H]=r[F])}for(var F=0,A=G.length;A>F;F++){H=this._getAnimationKey(G[F]),H.match("undefined")?this.zr.addShape(G[F]):(H+=G[F].type,D[H]=G[F])}for(H in B){D[H]||this.zr.delShape(B[H].id)}for(H in D){B[H]?(this.zr.delShape(B[H].id),this._animateMod(B[H],D[H],c,I)):(E=this.type!=b.CHART_TYPE_LINE&&this.type!=b.CHART_TYPE_RADAR||0===H.indexOf("icon")?0:c/2,this._animateMod(!1,D[H],c,I,E))}this.zr.refresh(),this.animationEffect()}else{this.motionlessOnce=!1,this.zr.delShape(r);for(var F=0,A=G.length;A>F;F++){this.zr.addShape(G[F])}}},_getAnimationKey:function(a){return this.type!=b.CHART_TYPE_MAP?z.get(a,"seriesIndex")+"_"+z.get(a,"dataIndex")+(a._mark?a._mark:"")+(this.type===b.CHART_TYPE_RADAR?z.get(a,"special"):""):z.get(a,"seriesIndex")+"_"+z.get(a,"dataIndex")+(a._mark?a._mark:"undefined")},_animateMod:function(l,h,d,m,c){switch(h.type){case"broken-line":case"half-smooth-polygon":k.pointList(this.zr,l,h,d,m);break;case"rectangle":k.rectangle(this.zr,l,h,d,m);break;case"icon":k.icon(this.zr,l,h,d,m,c);break;case"candle":d>500?k.candle(this.zr,l,h,d,m):this.zr.addShape(h);break;case"ring":case"sector":case"circle":d>500?k.ring(this.zr,l,h,d+(z.get(h,"dataIndex")||0)%20*100,m):"sector"===h.type?k.sector(this.zr,l,h,d,m):this.zr.addShape(h);break;case"text":k.text(this.zr,l,h,d,m);break;case"polygon":d>500?k.polygon(this.zr,l,h,d,m):k.pointList(this.zr,l,h,d,m);break;case"ribbon":k.ribbon(this.zr,l,h,d,m);break;case"gauge-pointer":k.gaugePointer(this.zr,l,h,d,m);break;case"mark-line":k.markline(this.zr,l,h,d,m);break;case"bezier-curve":case"line":k.line(this.zr,l,h,d,m);break;default:this.zr.addShape(h)}},animationMark:function(l,h,d){for(var r=d||this.shapeList,c=0,m=r.length;m>c;c++){r[c]._mark&&this._animateMod(!1,r[c],l,h)}this.animationEffect(d)},animationEffect:function(l){!l&&this.clearEffectShape();var h=l||this.shapeList;if(null!=h){var d=b.EFFECT_ZLEVEL;this.canvasSupported&&this.zr.modLayer(d,{motionBlur:!0,lastFrameAlpha:0.95});for(var r,c=0,m=h.length;m>c;c++){r=h[c],r._mark&&r.effect&&r.effect.show&&q[r._mark]&&(q[r._mark](this.zr,this.effectList,r,d),this.effectList[this.effectList.length-1]._mark=r._mark)}}},clearEffectShape:function(a){this.zr&&this.effectList&&this.effectList.length>0&&(a&&this.zr.modLayer(b.EFFECT_ZLEVEL,{motionBlur:!1}),this.zr.delShape(this.effectList)),this.effectList=[]},addMark:function(D,F,B){var m=this.series[D];if(this.selectedMap[m.name]){var E=500,d=this.query(this.option,"animationEasing"),c=m[B].data,G=this.shapeList.length;if(m[B].data=F.data,this["_build"+B.replace("m","M")](D),this.option.animation&&!this.option.renderAsImage){this.animationMark(E,d,this.shapeList.slice(G))}else{for(var A=G,C=this.shapeList.length;C>A;A++){this.zr.addShape(this.shapeList[A])}this.zr.refresh()}m[B].data=c}},delMark:function(C,E,A){A=A.replace("mark","").replace("large","").toLowerCase();var m=this.series[C];if(this.selectedMap[m.name]){for(var D=!1,d=[this.shapeList,this.effectList],c=2;c--;){for(var s=0,B=d[c].length;B>s;s++){if(d[c][s]._mark==A&&z.get(d[c][s],"seriesIndex")==C&&z.get(d[c][s],"name")==E){this.zr.delShape(d[c][s].id),d[c].splice(s,1),D=!0;break}}}D&&this.zr.refresh()}}},y}),define("zrender/shape/Circle",["require","./Base","../tool/util"],function(c){var b=c("./Base"),a=function(d){b.call(this,d)};return a.prototype={type:"circle",buildPath:function(f,d){f.arc(d.x,d.y,d.r,0,2*Math.PI,!0)},getRect:function(f){if(f.__rect){return f.__rect}var d;return d="stroke"==f.brushType||"fill"==f.brushType?f.lineWidth||1:0,f.__rect={x:Math.round(f.x-f.r-d/2),y:Math.round(f.y-f.r-d/2),width:2*f.r+d,height:2*f.r+d},f.__rect}},c("../tool/util").inherits(a,b),a}),define("echarts/util/accMath",[],function(){function c(j,h){var g=j.toString(),l=h.toString(),f=0;try{f=l.split(".")[1].length}catch(k){}try{f-=g.split(".")[1].length}catch(k){}return(g.replace(".","")-0)/(l.replace(".","")-0)*Math.pow(10,f)}function b(j,h){var g=j.toString(),l=h.toString(),f=0;try{f+=g.split(".")[1].length}catch(k){}try{f+=l.split(".")[1].length}catch(k){}return(g.replace(".","")-0)*(l.replace(".","")-0)/Math.pow(10,f)}function a(j,h){var g=0,l=0;try{g=j.toString().split(".")[1].length}catch(f){}try{l=h.toString().split(".")[1].length}catch(f){}var k=Math.pow(10,Math.max(g,l));return(Math.round(j*k)+Math.round(h*k))/k}function d(g,f){return a(g,-f)}return{accDiv:c,accMul:b,accAdd:a,accSub:d}}),define("echarts/util/ecQuery",["require","zrender/tool/util"],function(f){function d(j,h){if("undefined"!=typeof j){if(!h){return j}h=h.split(".");for(var a=h.length,k=0;a>k;){if(j=j[h[k]],"undefined"==typeof j){return}k++}return j}}function c(k,j){for(var m,h=0,l=k.length;l>h;h++){if(m=d(k[h],j),"undefined"!=typeof m){return m}}}function g(j,a){for(var l,k=j.length;k--;){var h=d(j[k],a);"undefined"!=typeof h&&("undefined"==typeof l?l=b.clone(h):b.merge(l,h,!0))}return l}var b=f("zrender/tool/util");return{query:d,deepQuery:c,deepMerge:g}}),define("echarts/util/number",[],function(){function f(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")}function d(e,a){return"string"==typeof e?f(e).match(/%$/)?parseFloat(e)/100*a:parseFloat(e):e}function c(h,a){return[d(a[0],h.getWidth()),d(a[1],h.getHeight())]}function g(h,a){a instanceof Array||(a=[0,a]);var j=Math.min(h.getWidth(),h.getHeight())/2;return[d(a[0],j),d(a[1],j)]}function b(a){return isNaN(a)?"-":(a=(a+"").split("."),a[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(a.length>1?"."+a[1]:""))}return{parsePercent:d,parseCenter:c,parseRadius:g,addCommas:b}}),define("echarts/util/shape/Icon",["require","zrender/tool/util","zrender/shape/Star","zrender/shape/Heart","zrender/shape/Droplet","zrender/shape/Image","zrender/shape/Base"],function(ad){function M(f,d){var c=d.x,h=d.y,b=d.width/16,g=d.height/16;f.moveTo(c,h+d.height),f.lineTo(c+5*b,h+14*g),f.lineTo(c+d.width,h+3*g),f.lineTo(c+13*b,h),f.lineTo(c+2*b,h+11*g),f.lineTo(c,h+d.height),f.moveTo(c+6*b,h+10*g),f.lineTo(c+14*b,h+2*g),f.moveTo(c+10*b,h+13*g),f.lineTo(c+d.width,h+13*g),f.moveTo(c+13*b,h+10*g),f.lineTo(c+13*b,h+d.height)}function Z(f,d){var c=d.x,h=d.y,b=d.width/16,g=d.height/16;f.moveTo(c,h+d.height),f.lineTo(c+5*b,h+14*g),f.lineTo(c+d.width,h+3*g),f.lineTo(c+13*b,h),f.lineTo(c+2*b,h+11*g),f.lineTo(c,h+d.height),f.moveTo(c+6*b,h+10*g),f.lineTo(c+14*b,h+2*g),f.moveTo(c+10*b,h+13*g),f.lineTo(c+d.width,h+13*g)}function R(f,d){var c=d.x,h=d.y,b=d.width/16,g=d.height/16;f.moveTo(c+4*b,h+15*g),f.lineTo(c+9*b,h+13*g),f.lineTo(c+14*b,h+8*g),f.lineTo(c+11*b,h+5*g),f.lineTo(c+6*b,h+10*g),f.lineTo(c+4*b,h+15*g),f.moveTo(c+5*b,h),f.lineTo(c+11*b,h),f.moveTo(c+5*b,h+g),f.lineTo(c+11*b,h+g),f.moveTo(c,h+2*g),f.lineTo(c+d.width,h+2*g),f.moveTo(c,h+5*g),f.lineTo(c+3*b,h+d.height),f.lineTo(c+13*b,h+d.height),f.lineTo(c+d.width,h+5*g)}function ah(f,d){var c=d.x,h=d.y,b=d.width/16,g=d.height/16;f.moveTo(c,h+3*g),f.lineTo(c+6*b,h+3*g),f.moveTo(c+3*b,h),f.lineTo(c+3*b,h+6*g),f.moveTo(c+3*b,h+8*g),f.lineTo(c+3*b,h+d.height),f.lineTo(c+d.width,h+d.height),f.lineTo(c+d.width,h+3*g),f.lineTo(c+8*b,h+3*g)}function Q(f,d){var c=d.x,h=d.y,b=d.width/16,g=d.height/16;f.moveTo(c+6*b,h),f.lineTo(c+2*b,h+3*g),f.lineTo(c+6*b,h+6*g),f.moveTo(c+2*b,h+3*g),f.lineTo(c+14*b,h+3*g),f.lineTo(c+14*b,h+11*g),f.moveTo(c+2*b,h+5*g),f.lineTo(c+2*b,h+13*g),f.lineTo(c+14*b,h+13*g),f.moveTo(c+10*b,h+10*g),f.lineTo(c+14*b,h+13*g),f.lineTo(c+10*b,h+d.height)}function O(g,d){var c=d.x,k=d.y,b=d.width/16,h=d.height/16,f=d.width/2;g.lineWidth=1.5,g.arc(c+f,k+f,f-b,0,2*Math.PI/3),g.moveTo(c+3*b,k+d.height),g.lineTo(c+0*b,k+12*h),g.lineTo(c+5*b,k+11*h),g.moveTo(c,k+8*h),g.arc(c+f,k+f,f-b,Math.PI,5*Math.PI/3),g.moveTo(c+13*b,k),g.lineTo(c+d.width,k+4*h),g.lineTo(c+11*b,k+5*h)}function N(f,d){var c=d.x,h=d.y,b=d.width/16,g=d.height/16;f.moveTo(c,h),f.lineTo(c,h+d.height),f.lineTo(c+d.width,h+d.height),f.moveTo(c+2*b,h+14*g),f.lineTo(c+7*b,h+6*g),f.lineTo(c+11*b,h+11*g),f.lineTo(c+15*b,h+2*g)}function T(f,d){var c=d.x,h=d.y,b=d.width/16,g=d.height/16;f.moveTo(c,h),f.lineTo(c,h+d.height),f.lineTo(c+d.width,h+d.height),f.moveTo(c+3*b,h+14*g),f.lineTo(c+3*b,h+6*g),f.lineTo(c+4*b,h+6*g),f.lineTo(c+4*b,h+14*g),f.moveTo(c+7*b,h+14*g),f.lineTo(c+7*b,h+2*g),f.lineTo(c+8*b,h+2*g),f.lineTo(c+8*b,h+14*g),f.moveTo(c+11*b,h+14*g),f.lineTo(c+11*b,h+9*g),f.lineTo(c+12*b,h+9*g),f.lineTo(c+12*b,h+14*g)}function aa(g,d){var c=d.x,k=d.y,b=d.width-2,h=d.height-2,f=Math.min(b,h)/2;k+=2,g.moveTo(c+f+3,k+f-3),g.arc(c+f+3,k+f-3,f-1,0,-Math.PI/2,!0),g.lineTo(c+f+3,k+f-3),g.moveTo(c+f,k),g.lineTo(c+f,k+f),g.arc(c+f,k+f,f,-Math.PI/2,2*Math.PI,!0),g.lineTo(c+f,k+f),g.lineWidth=1.5}function ae(f,d){var c=d.x,h=d.y,b=d.width/16,g=d.height/16;h-=g,f.moveTo(c+1*b,h+2*g),f.lineTo(c+15*b,h+2*g),f.lineTo(c+14*b,h+3*g),f.lineTo(c+2*b,h+3*g),f.moveTo(c+3*b,h+6*g),f.lineTo(c+13*b,h+6*g),f.lineTo(c+12*b,h+7*g),f.lineTo(c+4*b,h+7*g),f.moveTo(c+5*b,h+10*g),f.lineTo(c+11*b,h+10*g),f.lineTo(c+10*b,h+11*g),f.lineTo(c+6*b,h+11*g),f.moveTo(c+7*b,h+14*g),f.lineTo(c+9*b,h+14*g),f.lineTo(c+8*b,h+15*g),f.lineTo(c+7*b,h+15*g)}function S(h,m){var g=m.x,d=m.y,k=m.width,c=m.height,b=k/16,p=c/16,f=2*Math.min(b,p);h.moveTo(g+b+f,d+p+f),h.arc(g+b,d+p,f,Math.PI/4,3*Math.PI),h.lineTo(g+7*b-f,d+6*p-f),h.arc(g+7*b,d+6*p,f,Math.PI/4*5,4*Math.PI),h.arc(g+7*b,d+6*p,f/2,Math.PI/4*5,4*Math.PI),h.moveTo(g+7*b-f/2,d+6*p+f),h.lineTo(g+b+f,d+14*p-f),h.arc(g+b,d+14*p,f,-Math.PI/4,2*Math.PI),h.moveTo(g+7*b+f/2,d+6*p),h.lineTo(g+14*b-f,d+10*p-f/2),h.moveTo(g+16*b,d+10*p),h.arc(g+14*b,d+10*p,f,0,3*Math.PI),h.lineWidth=1.5}function af(g,d){var c=d.x,k=d.y,b=d.width,h=d.height,f=Math.min(b,h)/2;g.moveTo(c+b,k+h/2),g.arc(c+f,k+f,f,0,2*Math.PI),g.arc(c+f,k,f,Math.PI/4,Math.PI/5*4),g.arc(c,k+f,f,-Math.PI/3,Math.PI/3),g.arc(c+b,k+h,f,Math.PI,Math.PI/2*3),g.lineWidth=1.5}function P(h,d){for(var c=d.x,l=d.y,b=d.width,k=d.height,g=Math.round(k/3),f=3;f--;){h.rect(c,l+g*f+2,b,2)}}function J(h,d){for(var c=d.x,l=d.y,b=d.width,k=d.height,g=Math.round(b/3),f=3;f--;){h.rect(c+g*f,l,2,k)}}function z(f,d){var c=d.x,g=d.y,b=d.width/16;f.moveTo(c+b,g),f.lineTo(c+b,g+d.height),f.lineTo(c+15*b,g+d.height),f.lineTo(c+15*b,g),f.lineTo(c+b,g),f.moveTo(c+3*b,g+3*b),f.lineTo(c+13*b,g+3*b),f.moveTo(c+3*b,g+6*b),f.lineTo(c+13*b,g+6*b),f.moveTo(c+3*b,g+9*b),f.lineTo(c+13*b,g+9*b),f.moveTo(c+3*b,g+12*b),f.lineTo(c+9*b,g+12*b)}function A(f,d){var c=d.x,h=d.y,b=d.width/16,g=d.height/16;f.moveTo(c,h),f.lineTo(c,h+d.height),f.lineTo(c+d.width,h+d.height),f.lineTo(c+d.width,h),f.lineTo(c,h),f.moveTo(c+4*b,h),f.lineTo(c+4*b,h+8*g),f.lineTo(c+12*b,h+8*g),f.lineTo(c+12*b,h),f.moveTo(c+6*b,h+11*g),f.lineTo(c+6*b,h+13*g),f.lineTo(c+10*b,h+13*g),f.lineTo(c+10*b,h+11*g),f.lineTo(c+6*b,h+11*g)}function D(f,d){var c=d.x,h=d.y,b=d.width,g=d.height;f.moveTo(c,h+g/2),f.lineTo(c+b,h+g/2),f.moveTo(c+b/2,h),f.lineTo(c+b/2,h+g)}function ab(f,d){var c=d.width/2,g=d.height/2,b=Math.min(c,g);f.moveTo(d.x+c+b,d.y+g),f.arc(d.x+c,d.y+g,b,0,2*Math.PI),f.closePath()}function ac(b,a){b.rect(a.x,a.y,a.width,a.height),b.closePath()}function ag(g,d){var c=d.width/2,k=d.height/2,b=d.x+c,h=d.y+k,f=Math.min(c,k);g.moveTo(b,h-f),g.lineTo(b+f,h+f),g.lineTo(b-f,h+f),g.lineTo(b,h-f),g.closePath()}function ai(g,d){var c=d.width/2,k=d.height/2,b=d.x+c,h=d.y+k,f=Math.min(c,k);g.moveTo(b,h-f),g.lineTo(b+f,h),g.lineTo(b,h+f),g.lineTo(b-f,h),g.lineTo(b,h-f),g.closePath()}function F(f,d){var c=d.x,g=d.y,b=d.width/16;f.moveTo(c+8*b,g),f.lineTo(c+b,g+d.height),f.lineTo(c+8*b,g+d.height/4*3),f.lineTo(c+15*b,g+d.height),f.lineTo(c+8*b,g),f.closePath()}function Y(d,c){var f=ad("zrender/shape/Star"),b=c.width/2,e=c.height/2;f.prototype.buildPath(d,{x:c.x+b,y:c.y+e,r:Math.min(b,e),n:c.n||5})}function B(b,a){var c=ad("zrender/shape/Heart");c.prototype.buildPath(b,{x:a.x+a.width/2,y:a.y+0.2*a.height,a:a.width/2,b:0.8*a.height})}function H(b,a){var c=ad("zrender/shape/Droplet");c.prototype.buildPath(b,{x:a.x+0.5*a.width,y:a.y+0.5*a.height,a:0.5*a.width,b:0.8*a.height})}function q(g,d){var c=d.x,k=d.y-d.height/2*1.5,b=d.width/2,h=d.height/2,f=Math.min(b,h);g.arc(c+b,k+h,f,Math.PI/5*4,Math.PI/5),g.lineTo(c+b,k+h+1.5*f),g.closePath()}function G(d,c,f){var b=ad("zrender/shape/Image");this._imageShape=this._imageShape||new b({style:{}});for(var e in c){this._imageShape.style[e]=c[e]}this._imageShape.brush(d,!1,f)}function j(a){C.call(this,a)}var E=ad("zrender/tool/util"),C=ad("zrender/shape/Base");return j.prototype={type:"icon",iconLibrary:{mark:M,markUndo:Z,markClear:R,dataZoom:ah,dataZoomReset:Q,restore:O,lineChart:N,barChart:T,pieChart:aa,funnelChart:ae,forceChart:S,chordChart:af,stackChart:P,tiledChart:J,dataView:z,saveAsImage:A,cross:D,circle:ab,rectangle:ac,triangle:ag,diamond:ai,arrow:F,star:Y,heart:B,droplet:H,pin:q,image:G},brush:function(d,c,g){var b=c?this.highlightStyle:this.style;b=b||{};var f=b.iconType||this.style.iconType;if("image"===f){var e=ad("zrender/shape/Image");e.prototype.brush.call(this,d,c,g)}else{var b=this.beforeBrush(d,c);switch(d.beginPath(),this.buildPath(d,b,g),b.brushType){case"both":d.fill();case"stroke":b.lineWidth>0&&d.stroke();break;default:d.fill()}this.drawText(d,b,this.style),this.afterBrush(d)}},buildPath:function(c,b,a){this.iconLibrary[b.iconType]?this.iconLibrary[b.iconType].call(this,c,b,a):(c.moveTo(b.x,b.y),c.lineTo(b.x+b.width,b.y),c.lineTo(b.x+b.width,b.y+b.height),c.lineTo(b.x,b.y+b.height),c.lineTo(b.x,b.y),c.closePath())},getRect:function(a){return a.__rect?a.__rect:(a.__rect={x:Math.round(a.x),y:Math.round(a.y-("pin"==a.iconType?a.height/2*1.5:0)),width:a.width,height:a.height},a.__rect)},isCover:function(f,d){var c=this.getTansform(f,d);f=c[0],d=c[1];var g=this.style.__rect;g||(g=this.style.__rect=this.getRect(this.style));var b=g.height<8||g.width<8?4:0;return f>=g.x-b&&f<=g.x+g.width+b&&d>=g.y-b&&d<=g.y+g.height+b?!0:!1}},E.inherits(j,C),j}),define("echarts/util/shape/MarkLine",["require","zrender/shape/Base","./Icon","zrender/shape/Line","zrender/shape/BrokenLine","zrender/tool/matrix","zrender/tool/area","zrender/shape/util/dashedLineTo","zrender/shape/util/smoothSpline","zrender/tool/util"],function(u){function y(a){p.call(this,a)}var p=u("zrender/shape/Base"),g=u("./Icon"),x=u("zrender/shape/Line"),f=new x({}),b=u("zrender/shape/BrokenLine"),z=new b({}),k=u("zrender/tool/matrix"),q=u("zrender/tool/area"),v=u("zrender/shape/util/dashedLineTo"),j=u("zrender/shape/util/smoothSpline"),w=u("zrender/tool/util");return y.prototype={type:"mark-line",brush:function(d,c){var a=this.style;c&&(a=this.getHighlightStyle(a,this.highlightStyle||{})),d.save(),this.setContext(d,a),this.setTransform(d),d.save(),d.beginPath(),this.buildLinePath(d,a,this.style.lineWidth||1),d.stroke(),d.restore(),this.brushSymbol(d,a,0),this.brushSymbol(d,a,1),this.drawText(d,a,this.style),d.restore()},buildLinePath:function(m,h,d){var A=h.pointList||this.getPointList(h);h.pointList=A;var c=Math.min(h.pointList.length,Math.round(h.pointListLength||h.pointList.length));if(h.lineType&&"solid"!=h.lineType){if("dashed"==h.lineType||"dotted"==h.lineType){if("spline"!==h.smooth){var s=d*("dashed"==h.lineType?5:1);m.moveTo(A[0][0],A[0][1]);for(var l=1;c>l;l++){v(m,A[l-1][0],A[l-1][1],A[l][0],A[l][1],s)}}else{for(var l=1;c>l;l+=2){m.moveTo(A[l-1][0],A[l-1][1]),m.lineTo(A[l][0],A[l][1])}}}}else{m.moveTo(A[0][0],A[0][1]);for(var l=1;c>l;l++){m.lineTo(A[l][0],A[l][1])}}},brushSymbol:function(A,D,m){if("none"!=D.symbol[m]){A.save(),A.beginPath(),A.lineWidth=D.symbolBorder,A.strokeStyle=D.symbolBorderColor,D.iconType=D.symbol[m].replace("empty","").toLowerCase(),D.symbol[m].match("empty")&&(A.fillStyle="#fff");var C,l=Math.min(D.pointList.length,Math.round(D.pointListLength||D.pointList.length)),c=0===m?D.pointList[0][0]:D.pointList[l-1][0],E=0===m?D.pointList[0][1]:D.pointList[l-1][1],n="undefined"!=typeof D.symbolRotate[m]?D.symbolRotate[m]-0:0;if(0!==n&&(C=k.create(),k.identity(C),(c||E)&&k.translate(C,C,[-c,-E]),k.rotate(C,C,n*Math.PI/180),(c||E)&&k.translate(C,C,[c,E]),A.transform.apply(A,C)),"arrow"==D.iconType&&0===n){this.buildArrawPath(A,D,m)}else{var B=D.symbolSize[m];D.x=c-B,D.y=E-B,D.width=2*B,D.height=2*B,g.prototype.buildPath(A,D)}A.closePath(),A.fill(),A.stroke(),A.restore()}},buildArrawPath:function(K,P,I){var D=Math.min(P.pointList.length,Math.round(P.pointListLength||P.pointList.length)),N=2*P.symbolSize[I],C=P.pointList[0][0],A=P.pointList[D-1][0],Q=P.pointList[0][1],H=P.pointList[D-1][1],J=0;"spline"===P.smooth&&(J=0.2);var L=Math.atan(Math.abs((H-Q)/(C-A)));0===I?A>C?H>Q?L=2*Math.PI-L+J:L+=J:H>Q?L+=Math.PI-J:L=Math.PI-L-J:C>A?Q>H?L=2*Math.PI-L+J:L+=J:Q>H?L+=Math.PI-J:L=Math.PI-L-J;var F=Math.PI/8,M=0===I?C:A,B=0===I?Q:H,O=[[M+N*Math.cos(L-F),B-N*Math.sin(L-F)],[M+0.6*N*Math.cos(L),B-0.6*N*Math.sin(L)],[M+N*Math.cos(L+F),B-N*Math.sin(L+F)]];K.moveTo(M,B);for(var E=0,G=O.length;G>E;E++){K.lineTo(O[E][0],O[E][1])}K.lineTo(M,B)},getPointList:function(d){var c=[[d.xStart,d.yStart],[d.xEnd,d.yEnd]];if("spline"===d.smooth){var a=c[1][0],h=c[1][1];c[3]=[a,h],c[1]=this.getOffetPoint(c[0],c[3]),c[2]=this.getOffetPoint(c[3],c[0]),c=j(c,!1),c[c.length-1]=[a,h]}return c},getOffetPoint:function(B,D){var A,h=Math.sqrt(Math.round((B[0]-D[0])*(B[0]-D[0])+(B[1]-D[1])*(B[1]-D[1])))/3,C=[B[0],B[1]],d=0.2;if(B[0]!=D[0]&&B[1]!=D[1]){var c=(D[1]-B[1])/(D[0]-B[0]);A=Math.atan(c)}else{A=B[0]==D[0]?(B[1]<=D[1]?1:-1)*Math.PI/2:0}var E,m;return B[0]<=D[0]?(A-=d,E=Math.round(Math.cos(A)*h),m=Math.round(Math.sin(A)*h),C[0]+=E,C[1]+=m):(A+=d,E=Math.round(Math.cos(A)*h),m=Math.round(Math.sin(A)*h),C[0]-=E,C[1]-=m),C},getRect:function(c){if(c.__rect){return c.__rect}var a=c.lineWidth||1;return c.__rect={x:Math.min(c.xStart,c.xEnd)-a,y:Math.min(c.yStart,c.yEnd)-a,width:Math.abs(c.xStart-c.xEnd)+a,height:Math.abs(c.yStart-c.yEnd)+a},c.__rect},isCover:function(d,c){var a=this.getTansform(d,c);d=a[0],c=a[1];var h=this.style.__rect;return h||(h=this.style.__rect=this.getRect(this.style)),d>=h.x&&d<=h.x+h.width&&c>=h.y&&c<=h.y+h.height?"spline"!==this.style.smooth?q.isInside(f,this.style,d,c):q.isInside(z,this.style,d,c):!1}},w.inherits(y,p),y}),define("echarts/util/shape/Symbol",["require","zrender/shape/Base","zrender/shape/Polygon","zrender/tool/util","./normalIsCover"],function(f){function d(a){c.call(this,a)}var c=f("zrender/shape/Base"),h=f("zrender/shape/Polygon"),b=new h({}),g=f("zrender/tool/util");return d.prototype={type:"symbol",buildPath:function(H,w){var F=w.pointList,C=F.length;if(0!==C){for(var K,B,z,x,E,G=10000,I=Math.ceil(C/G),D=F[0] instanceof Array,J=w.size?w.size:2,A=J,v=J/2,j=2*Math.PI,k=0;I>k;k++){H.beginPath(),K=k*G,B=K+G,B=B>C?C:B;for(var q=K;B>q;q++){if(w.random&&(z=w["randomMap"+q%20]/100,A=J*z*z,v=A/2),D?(x=F[q][0],E=F[q][1]):(x=F[q].x,E=F[q].y),3>A){H.rect(x-v,E-v,A,A)}else{switch(w.iconType){case"circle":H.moveTo(x,E),H.arc(x,E,v,0,j,!0);break;case"diamond":H.moveTo(x,E-v),H.lineTo(x+v/3,E-v/3),H.lineTo(x+v,E),H.lineTo(x+v/3,E+v/3),H.lineTo(x,E+v),H.lineTo(x-v/3,E+v/3),H.lineTo(x-v,E),H.lineTo(x-v/3,E-v/3),H.lineTo(x,E-v);break;default:H.rect(x-v,E-v,A,A)}}}if(H.closePath(),I-1>k){switch(w.brushType){case"both":H.fill(),w.lineWidth>0&&H.stroke();break;case"stroke":w.lineWidth>0&&H.stroke();break;default:H.fill()}}}}},getRect:function(a){return a.__rect||b.getRect(a)},isCover:f("./normalIsCover")},g.inherits(d,c),d}),define("echarts/util/ecAnimation",["require","zrender/tool/util","zrender/shape/Polygon"],function(x){function C(I,L,G,u,K){var p,c=G.style.pointList,M=c.length;if(!L){if(p=[],"vertical"!=G._orient){for(var F=c[0][1],H=0;M>H;H++){p[H]=[c[H][0],F]}}else{for(var J=c[0][0],H=0;M>H;H++){p[H]=[J,c[H][1]]}}"half-smooth-polygon"==G.type&&(p[M-1]=B.clone(c[M-1]),p[M-2]=B.clone(c[M-2])),L={style:{pointList:p}}}p=L.style.pointList;var E=p.length;G.style.pointList=E==M?p:M>E?p.concat(c.slice(E)):p.slice(0,M),I.addShape(G),I.animate(G.id,"style").when(u,{pointList:c}).start(K)}function v(l,h){for(var d=arguments.length,m=2;d>m;m++){var c=arguments[m];l.style[c]=h.style[c]}}function j(G,J,p,I,i){var c=p.style;J||(J={position:p.position,style:{x:c.x,y:"vertical"==p._orient?c.y+c.height:c.y,width:"vertical"==p._orient?c.width:0,height:"vertical"!=p._orient?c.height:0}});var K=c.x,E=c.y,F=c.width,H=c.height,u=[p.position[0],p.position[1]];v(p,J,"x","y","width","height"),p.position=J.position,G.addShape(p),(u[0]!=J.position[0]||u[1]!=J.position[1])&&G.animate(p.id,"").when(I,{position:u}).start(i),G.animate(p.id,"style").when(I,{x:K,y:E,width:F,height:H}).start(i)}function A(m,h,d,s,c){if(!h){var p=d.style.y;h={style:{y:[p[0],p[0],p[0],p[0]]}}}var l=d.style.y;d.style.y=h.style.y,m.addShape(d),m.animate(d.id,"style").when(s,{y:l}).start(c)}function g(u,F,p,h,E){var d=p.style.x,c=p.style.y,G=p.style.r0,m=p.style.r;"r"!=p._animationAdd?(p.style.r0=0,p.style.r=0,p.rotation=[2*Math.PI,d,c],u.addShape(p),u.animate(p.id,"style").when(h,{r0:G,r:m}).start(E),u.animate(p.id,"").when(Math.round(h/3*2),{rotation:[0,d,c]}).start(E)):(p.style.r0=p.style.r,u.addShape(p),u.animate(p.id,"style").when(h,{r0:G}).start(E))}function b(l,d,p,c,m){d||(d="r"!=p._animationAdd?{style:{startAngle:p.style.startAngle,endAngle:p.style.startAngle}}:{style:{r0:p.style.r}});var i=p.style.startAngle,h=p.style.endAngle;v(p,d,"startAngle","endAngle"),l.addShape(p),l.animate(p.id,"style").when(c,{startAngle:i,endAngle:h}).start(m)}function D(l,d,p,c,m){d||(d={style:{x:"left"==p.style.textAlign?p.style.x+100:p.style.x-100,y:p.style.y}});var i=p.style.x,h=p.style.y;v(p,d,"x","y"),l.addShape(p),l.animate(p.id,"style").when(c,{x:i,y:h}).start(m)}function q(h,e,E,d,u){var p=x("zrender/shape/Polygon").prototype.getRect(E.style),m=p.x+p.width/2,c=p.y+p.height/2;E.scale=[0.1,0.1,m,c],h.addShape(E),h.animate(E.id,"").when(d,{scale:[1,1,m,c]}).start(u)}function w(u,F,i,E,d){F||(F={style:{source0:0,source1:i.style.source1>0?360:-360,target0:0,target1:i.style.target1>0?360:-360}});var c=i.style.source0,G=i.style.source1,m=i.style.target0,p=i.style.target1;F.style&&v(i,F,"source0","source1","target0","target1"),u.addShape(i),u.animate(i.id,"style").when(E,{source0:c,source1:G,target0:m,target1:p}).start(d)}function y(l,h,d,p,c){h||(h={style:{angle:d.style.startAngle}});var m=d.style.angle;d.style.angle=h.style.angle,l.addShape(d),l.animate(d.id,"style").when(p,{angle:m}).start(c)}function k(u,m,h,d,E,p){if(h.style._x=h.style.x,h.style._y=h.style.y,h.style._width=h.style.width,h.style._height=h.style.height,m){j(u,m,h,d,E)}else{var n=h._x||0,c=h._y||0;h.scale=[0.01,0.01,n,c],u.addShape(h),u.animate(h.id,"").delay(p).when(d,{scale:[1,1,n,c]}).start(E||"QuinticOut")}}function z(u,F,i,E,d){F||(F={style:{xStart:i.style.xStart,yStart:i.style.yStart,xEnd:i.style.xStart,yEnd:i.style.yStart}});var c=i.style.xStart,G=i.style.xEnd,m=i.style.yStart,p=i.style.yEnd;v(i,F,"xStart","xEnd","yStart","yEnd"),u.addShape(i),u.animate(i.id,"style").when(E,{xStart:c,xEnd:G,yStart:m,yEnd:p}).start(d)}function f(l,h,d,m,c){d.style.smooth?h?l.addShape(d):(d.style.pointListLength=1,l.addShape(d),d.style.pointList=d.style.pointList||d.getPointList(d.style),l.animate(d.id,"style").when(m,{pointListLength:d.style.pointList.length}).start(c||"QuinticOut")):(d.style.pointList=h?h.style.pointList:[[d.style.xStart,d.style.yStart],[d.style.xStart,d.style.yStart]],l.addShape(d),l.animate(d.id,"style").when(m,{pointList:[[d.style.xStart,d.style.yStart],[d._x||0,d._y||0]]}).start(c||"QuinticOut"))}var B=x("zrender/tool/util");return{pointList:C,rectangle:j,candle:A,ring:g,sector:b,text:D,polygon:q,ribbon:w,gaugePointer:y,icon:k,line:z,markline:f}}),define("echarts/util/ecEffect",["require","../util/ecData","zrender/shape/Circle","zrender/shape/Image","../util/shape/Icon","../util/shape/Symbol","zrender/tool/env"],function(k){function p(B,G,z,r){var h=z.effect,x=h.color||z.style.strokeColor||z.style.color,C=h.shadowColor||x,v=h.scaleSize,D="undefined"!=typeof h.shadowBlur?h.shadowBlur:v,a=new q({zlevel:r,style:{brushType:"stroke",iconType:"pin"!=z.style.iconType&&"droplet"!=z.style.iconType?z.style.iconType:"circle",x:D+1,y:D+1,n:z.style.n,width:z.style._width*v,height:z.style._height*v,lineWidth:1,strokeColor:x,shadowColor:C,shadowBlur:D},draggable:!1,hoverable:!1});j&&(a.style.image=B.shapeToImage(a,a.style.width+2*D+2,a.style.height+2*D+2).style.image,a=new b({zlevel:a.zlevel,style:a.style,draggable:!1,hoverable:!1})),m.clone(z,a),a.position=z.position,G.push(a),B.addShape(a);var F=window.devicePixelRatio||1,s=(a.style.width/F-z.style._width)/2;a.style.x=z.style._x-s,a.style.y=z.style._y-s;var w=100*(h.period+10*Math.random());B.modShape(z.id,{invisible:!0});var E=a.style.x+a.style.width/2/F,A=a.style.y+a.style.height/2/F;B.modShape(a.id,{scale:[0.1,0.1,E,A]}),B.animate(a.id,"",h.loop).when(w,{scale:[1,1,E,A]}).done(function(){z.effect.show=!1,B.delShape(a.id)}).start()}function g(C,H,A,x){var F=A.effect,w=F.color||A.style.strokeColor||A.style.color,l=F.scaleSize,I=F.shadowColor||w,B="undefined"!=typeof F.shadowBlur?F.shadowBlur:2*l,D=window.devicePixelRatio||1,z=new f({zlevel:x,position:A.position,scale:A.scale,style:{pointList:A.style.pointList,iconType:A.style.iconType,color:w,strokeColor:w,shadowColor:I,shadowBlur:B*D,random:!0,brushType:"fill",lineWidth:1,size:A.style.size},draggable:!1,hoverable:!1});H.push(z),C.addShape(z),C.modShape(A.id,{invisible:!0});for(var E=Math.round(100*F.period),v={},G={},y=0;20>y;y++){z.style["randomMap"+y]=0,v={},v["randomMap"+y]=100,G={},G["randomMap"+y]=0,z.style["randomMap"+y]=100*Math.random(),C.animate(z.id,"style",!0).when(E,v).when(2*E,G).when(3*E,v).when(4*E,v).delay(Math.random()*E*y).start()}}function d(F,v,C,z){var w,B=C.effect,G=B.color||C.style.strokeColor||C.style.color,A=B.shadowColor||C.style.strokeColor||G,H=C.style.lineWidth*B.scaleSize,x="undefined"!=typeof B.shadowBlur?B.shadowBlur:H,r=new c({zlevel:z,style:{x:x,y:x,r:H,color:G,shadowColor:A,shadowBlur:x},draggable:!1,hoverable:!1});j?(r.style.image=F.shapeToImage(r,2*(H+x),2*(H+x)).style.image,r=new b({zlevel:r.zlevel,style:r.style,draggable:!1,hoverable:!1}),w=x):w=0,m.clone(C,r),r.position=C.position,v.push(r),F.addShape(r),r.style.x=C.style.xStart-w,r.style.y=C.style.yStart-w;var a=(C.style.xStart-C.style.xEnd)*(C.style.xStart-C.style.xEnd)+(C.style.yStart-C.style.yEnd)*(C.style.yStart-C.style.yEnd),h=Math.round(Math.sqrt(Math.round(a*B.period*B.period)));if(C.style.smooth){var o=C.style.pointList||C.getPointList(C.style),D=o.length;h=Math.round(h/D);for(var E=F.animate(r.id,"style",B.loop),I=Math.ceil(D/8),J=0;D-I>J;J+=I){E.when(h*(J+1),{x:o[J][0]-w,y:o[J][1]-w})}E.when(h*D,{x:o[D-1][0]-w,y:o[D-1][1]-w}),E.done(function(){C.effect.show=!1,F.delShape(r.id)}),E.start("spline")}else{F.animate(r.id,"style",B.loop).when(h,{x:C._x-w,y:C._y-w}).done(function(){C.effect.show=!1,F.delShape(r.id)}).start()}}var m=k("../util/ecData"),c=k("zrender/shape/Circle"),b=k("zrender/shape/Image"),q=k("../util/shape/Icon"),f=k("../util/shape/Symbol"),j=k("zrender/tool/env").canvasSupported;return{point:p,largePoint:g,line:d}}),define("zrender/shape/Star",["require","../tool/math","./Base","../tool/util"],function(g){var d=g("../tool/math"),c=d.sin,j=d.cos,b=Math.PI,h=g("./Base"),f=function(a){h.call(this,a)};return f.prototype={type:"star",buildPath:function(z,E){var k=E.n;if(k&&!(2>k)){var a=E.x,F=E.y,w=E.r,x=E.r0;null==x&&(x=k>4?w*j(2*b/k)/j(b/k):w/3);var A=b/k,q=-b/2,B=a+w*j(q),i=F+w*c(q);q+=A;var D=E.pointList=[];D.push([B,i]);for(var n,v=0,C=2*k-1;C>v;v++){n=v%2===0?x:w,D.push([a+n*j(q),F+n*c(q)]),q+=A}D.push([B,i]),z.moveTo(D[0][0],D[0][1]);for(var v=0;v<D.length;v++){z.lineTo(D[v][0],D[v][1])}z.closePath()}},getRect:function(i){if(i.__rect){return i.__rect}var a;return a="stroke"==i.brushType||"fill"==i.brushType?i.lineWidth||1:0,i.__rect={x:Math.round(i.x-i.r-a/2),y:Math.round(i.y-i.r-a/2),width:2*i.r+a,height:2*i.r+a},i.__rect}},g("../tool/util").inherits(f,h),f}),define("zrender/shape/Heart",["require","./Base","./util/PathProxy","zrender/tool/area","../tool/util"],function(f){var d=f("./Base"),c=f("./util/PathProxy"),g=f("zrender/tool/area"),b=function(a){d.call(this,a),this._pathProxy=new c};return b.prototype={type:"heart",buildPath:function(h,a){var i=this._pathProxy||new c;i.begin(h),i.moveTo(a.x,a.y),i.bezierCurveTo(a.x+a.a/2,a.y-2*a.b/3,a.x+2*a.a,a.y+a.b/3,a.x,a.y+a.b),i.bezierCurveTo(a.x-2*a.a,a.y+a.b/3,a.x-a.a/2,a.y-2*a.b/3,a.x,a.y),i.closePath()},getRect:function(a){return a.__rect?a.__rect:(this._pathProxy.isEmpty()||this.buildPath(null,a),this._pathProxy.fastBoundingRect())},isCover:function(l,k){var j=this.getTansform(l,k);l=j[0],k=j[1];var h=this.getRect(this.style);return l>=h.x&&l<=h.x+h.width&&k>=h.y&&k<=h.y+h.height?g.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,l,k):void 0}},f("../tool/util").inherits(b,d),b}),define("zrender/shape/Droplet",["require","./Base","./util/PathProxy","zrender/tool/area","../tool/util"],function(f){var d=f("./Base"),c=f("./util/PathProxy"),g=f("zrender/tool/area"),b=function(a){d.call(this,a),this._pathProxy=new c};return b.prototype={type:"droplet",buildPath:function(h,a){var i=this._pathProxy||new c;i.begin(h),i.moveTo(a.x,a.y+a.a),i.bezierCurveTo(a.x+a.a,a.y+a.a,a.x+3*a.a/2,a.y-a.a/3,a.x,a.y-a.b),i.bezierCurveTo(a.x-3*a.a/2,a.y-a.a/3,a.x-a.a,a.y+a.a,a.x,a.y+a.a),i.closePath()},getRect:function(a){return a.__rect?a.__rect:(this._pathProxy.isEmpty()||this.buildPath(null,a),this._pathProxy.fastBoundingRect())},isCover:function(l,k){var j=this.getTansform(l,k);l=j[0],k=j[1];var h=this.getRect(this.style);return l>=h.x&&l<=h.x+h.width&&k>=h.y&&k<=h.y+h.height?g.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,l,k):void 0}},f("../tool/util").inherits(b,d),b}),define("zrender/tool/math",[],function(){function f(h,a){return Math.sin(a?h*b:h)}function d(h,a){return Math.cos(a?h*b:h)}function c(a){return a*b}function g(a){return a/b}var b=Math.PI/180;return{sin:f,cos:d,degreeToRadian:c,radianToDegree:g}}),define("zrender/shape/util/PathProxy",["require","../../tool/vector"],function(c){var b=c("../../tool/vector"),a=function(g,f){this.command=g,this.points=f||null},d=function(){this.pathCommands=[],this._ctx=null,this._min=[],this._max=[]};return d.prototype.fastBoundingRect=function(){var q=this._min,m=this._max;q[0]=q[1]=1/0,m[0]=m[1]=-1/0;for(var j=0;j<this.pathCommands.length;j++){var u=this.pathCommands[j],g=u.points;switch(u.command){case"M":b.min(q,q,g),b.max(m,m,g);break;case"L":b.min(q,q,g),b.max(m,m,g);break;case"C":for(var f=0;6>f;f+=2){q[0]=Math.min(q[0],q[0],g[f]),q[1]=Math.min(q[1],q[1],g[f+1]),m[0]=Math.max(m[0],m[0],g[f]),m[1]=Math.max(m[1],m[1],g[f+1])}break;case"Q":for(var f=0;4>f;f+=2){q[0]=Math.min(q[0],q[0],g[f]),q[1]=Math.min(q[1],q[1],g[f+1]),m[0]=Math.max(m[0],m[0],g[f]),m[1]=Math.max(m[1],m[1],g[f+1])}break;case"A":var v=g[0],k=g[1],p=g[2],t=g[3];q[0]=Math.min(q[0],q[0],v-p),q[1]=Math.min(q[1],q[1],k-t),m[0]=Math.max(m[0],m[0],v+p),m[1]=Math.max(m[1],m[1],k+t)}}return{x:q[0],y:q[1],width:m[0]-q[0],height:m[1]-q[1]}},d.prototype.begin=function(f){return this._ctx=f||null,this.pathCommands.length=0,this},d.prototype.moveTo=function(g,f){return this.pathCommands.push(new a("M",[g,f])),this._ctx&&this._ctx.moveTo(g,f),this},d.prototype.lineTo=function(g,f){return this.pathCommands.push(new a("L",[g,f])),this._ctx&&this._ctx.lineTo(g,f),this},d.prototype.bezierCurveTo=function(i,g,k,f,j,h){return this.pathCommands.push(new a("C",[i,g,k,f,j,h])),this._ctx&&this._ctx.bezierCurveTo(i,g,k,f,j,h),this},d.prototype.quadraticCurveTo=function(h,g,i,f){return this.pathCommands.push(new a("Q",[h,g,i,f])),this._ctx&&this._ctx.quadraticCurveTo(h,g,i,f),this},d.prototype.arc=function(i,g,k,f,j,h){return this.pathCommands.push(new a("A",[i,g,k,k,f,j-f,0,h?0:1])),this._ctx&&this._ctx.arc(i,g,k,f,j,h),this},d.prototype.arcTo=function(j,h,g,k,f){return this._ctx&&this._ctx.arcTo(j,h,g,k,f),this},d.prototype.rect=function(h,g,f,j){return this._ctx&&this._ctx.rect(h,g,f,j),this},d.prototype.closePath=function(){return this.pathCommands.push(new a("z")),this._ctx&&this._ctx.closePath(),this},d.prototype.isEmpty=function(){return 0===this.pathCommands.length},d.PathSegment=a,d}),define("zrender/shape/Line",["require","./Base","./util/dashedLineTo","../tool/util"],function(c){var b=c("./Base"),a=c("./util/dashedLineTo"),d=function(f){this.brushTypeOnly="stroke",this.textPosition="end",b.call(this,f)};return d.prototype={type:"line",buildPath:function(g,f){if(f.lineType&&"solid"!=f.lineType){if("dashed"==f.lineType||"dotted"==f.lineType){var h=(f.lineWidth||1)*("dashed"==f.lineType?5:1);a(g,f.xStart,f.yStart,f.xEnd,f.yEnd,h)}}else{g.moveTo(f.xStart,f.yStart),g.lineTo(f.xEnd,f.yEnd)}},getRect:function(g){if(g.__rect){return g.__rect}var f=g.lineWidth||1;return g.__rect={x:Math.min(g.xStart,g.xEnd)-f,y:Math.min(g.yStart,g.yEnd)-f,width:Math.abs(g.xStart-g.xEnd)+f,height:Math.abs(g.yStart-g.yEnd)+f},g.__rect}},c("../tool/util").inherits(d,b),d}),define("zrender/shape/BrokenLine",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","./Polygon","../tool/util"],function(f){var d=f("./Base"),c=f("./util/smoothSpline"),h=f("./util/smoothBezier"),b=f("./util/dashedLineTo"),g=function(a){this.brushTypeOnly="stroke",this.textPosition="end",d.call(this,a)};return g.prototype={type:"broken-line",buildPath:function(p,v){var i=v.pointList;if(!(i.length<2)){var a=Math.min(v.pointList.length,Math.round(v.pointListLength||v.pointList.length));if(v.smooth&&"spline"!==v.smooth){var w=h(i,v.smooth,!1,v.smoothConstraint);p.moveTo(i[0][0],i[0][1]);for(var k,n,q,j=0;a-1>j;j++){k=w[2*j],n=w[2*j+1],q=i[j+1],p.bezierCurveTo(k[0],k[1],n[0],n[1],q[0],q[1])}}else{if("spline"===v.smooth&&(i=c(i),a=i.length),v.lineType&&"solid"!=v.lineType){if("dashed"==v.lineType||"dotted"==v.lineType){var u=(v.lineWidth||1)*("dashed"==v.lineType?5:1);p.moveTo(i[0][0],i[0][1]);for(var j=1;a>j;j++){b(p,i[j-1][0],i[j-1][1],i[j][0],i[j][1],u)}}}else{p.moveTo(i[0][0],i[0][1]);for(var j=1;a>j;j++){p.lineTo(i[j][0],i[j][1])}}}}},getRect:function(a){return f("./Polygon").prototype.getRect(a)}},f("../tool/util").inherits(g,d),g}),define("zrender/shape/util/dashedLineTo",[],function(){var a=[5,5];return function(u,j,e,q,c,b){if(u.setLineDash){return a[0]=a[1]=b,u.setLineDash(a),u.moveTo(j,e),void u.lineTo(q,c)}b="number"!=typeof b?5:b;var v=q-j,g=c-e,k=Math.floor(Math.sqrt(v*v+g*g)/b);v/=k,g/=k;for(var p=!0,f=0;k>f;++f){p?u.moveTo(j,e):u.lineTo(j,e),p=!p,j+=v,e+=g}u.lineTo(q,c)}}),define("zrender/shape/util/smoothSpline",["require","../../tool/vector"],function(c){function b(k,p,j,g,m,f,d){var q=0.5*(j-k),h=0.5*(g-p);return(2*(p-j)+q+h)*d+(-3*(p-j)-2*q-h)*f+q*m+p}var a=c("../../tool/vector");return function(x,j){for(var C=x.length,i=[],f=0,E=1;C>E;E++){f+=a.distance(x[E-1],x[E])}var v=f/5;v=C>v?C:v;for(var E=0;v>E;E++){var w,z,q,A=E/(v-1)*(j?C:C-1),g=Math.floor(A),D=A-g,k=x[g%C];j?(w=x[(g-1+C)%C],z=x[(g+1)%C],q=x[(g+2)%C]):(w=x[0===g?g:g-1],z=x[g>C-2?C-1:g+1],q=x[g>C-3?C-1:g+2]);var t=D*D,B=D*t;i.push([b(w[0],k[0],z[0],q[0],D,t,B),b(w[1],k[1],z[1],q[1],D,t,B)])}return i}}),define("zrender/shape/util/smoothBezier",["require","../../tool/vector"],function(b){var a=b("../../tool/vector");return function(H,D,A,L){var z,w,v,C,E=[],I=[],B=[],J=[],x=!!L;if(x){v=[1/0,1/0],C=[-1/0,-1/0];for(var t=0,j=H.length;j>t;t++){a.min(v,v,H[t]),a.max(C,C,H[t])}a.min(v,v,L[0]),a.max(C,C,L[1])}for(var t=0,j=H.length;j>t;t++){var z,w,k=H[t];if(A){z=H[t?t-1:j-1],w=H[(t+1)%j]}else{if(0===t||t===j-1){E.push(H[t]);continue}z=H[t-1],w=H[t+1]}a.sub(I,w,z),a.scale(I,I,D);var q=a.distance(k,z),F=a.distance(k,w),G=q+F;0!==G&&(q/=G,F/=G),a.scale(B,I,-q),a.scale(J,I,F);var K=a.add([],k,B),M=a.add([],k,J);x&&(a.max(K,K,v),a.min(K,K,C),a.max(M,M,v),a.min(M,M,C)),E.push(K),E.push(M)}return A&&E.push(E.shift()),E}}),define("zrender/shape/Polygon",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","../tool/util"],function(f){var d=f("./Base"),c=f("./util/smoothSpline"),h=f("./util/smoothBezier"),b=f("./util/dashedLineTo"),g=function(a){d.call(this,a)};return g.prototype={type:"polygon",brush:function(k,j){var a=this.style;j&&(a=this.getHighlightStyle(a,this.highlightStyle||{})),k.save(),this.setContext(k,a),this.setTransform(k);var l=!1;("fill"==a.brushType||"both"==a.brushType||"undefined"==typeof a.brushType)&&(k.beginPath(),"dashed"==a.lineType||"dotted"==a.lineType?(this.buildPath(k,{lineType:"solid",lineWidth:a.lineWidth,pointList:a.pointList}),l=!1):(this.buildPath(k,a),l=!0),k.closePath(),k.fill()),a.lineWidth>0&&("stroke"==a.brushType||"both"==a.brushType)&&(l||(k.beginPath(),this.buildPath(k,a)),k.stroke()),this.drawText(k,a,this.style),k.restore()},buildPath:function(u,x){var j=x.pointList;if(!(j.length<2)){if(x.smooth&&"spline"!==x.smooth){var a=h(j,x.smooth,!0,x.smoothConstraint);u.moveTo(j[0][0],j[0][1]);for(var y,n,q,v=j.length,k=0;v>k;k++){y=a[2*k],n=a[2*k+1],q=j[(k+1)%v],u.bezierCurveTo(y[0],y[1],n[0],n[1],q[0],q[1])}}else{if("spline"===x.smooth&&(j=c(j,!0)),x.lineType&&"solid"!=x.lineType){if("dashed"==x.lineType||"dotted"==x.lineType){var w=x._dashLength||(x.lineWidth||1)*("dashed"==x.lineType?5:1);x._dashLength=w,u.moveTo(j[0][0],j[0][1]);for(var k=1,i=j.length;i>k;k++){b(u,j[k-1][0],j[k-1][1],j[k][0],j[k][1],w)}b(u,j[j.length-1][0],j[j.length-1][1],j[0][0],j[0][1],w)}}else{u.moveTo(j[0][0],j[0][1]);for(var k=1,i=j.length;i>k;k++){u.lineTo(j[k][0],j[k][1])}u.lineTo(j[0][0],j[0][1])}}}},getRect:function(u){if(u.__rect){return u.__rect}for(var w=Number.MAX_VALUE,q=Number.MIN_VALUE,m=Number.MAX_VALUE,v=Number.MIN_VALUE,k=u.pointList,j=0,x=k.length;x>j;j++){k[j][0]<w&&(w=k[j][0]),k[j][0]>q&&(q=k[j][0]),k[j][1]<m&&(m=k[j][1]),k[j][1]>v&&(v=k[j][1])}var p;return p="stroke"==u.brushType||"fill"==u.brushType?u.lineWidth||1:0,u.__rect={x:Math.round(w-p/2),y:Math.round(m-p/2),width:q-w+p,height:v-m+p},u.__rect}},f("../tool/util").inherits(g,d),g}),define("echarts/util/shape/normalIsCover",[],function(){return function(c,b){var a=this.getTansform(c,b);c=a[0],b=a[1];var d=this.style.__rect;return d||(d=this.style.__rect=this.getRect(this.style)),c>=d.x&&c<=d.x+d.width&&b>=d.y&&b<=d.y+d.height}}),define("echarts/component/dataView",["require","./base","../config","zrender/tool/util","../component"],function(f){function d(j,i,l,h,k){c.call(this,j,i,l,h,k),this.dom=k.dom,this._tDom=document.createElement("div"),this._textArea=document.createElement("textArea"),this._buttonRefresh=document.createElement("button"),this._buttonClose=document.createElement("button"),this._hasShow=!1,this._zrHeight=l.getHeight(),this._zrWidth=l.getWidth(),this._tDom.className="echarts-dataview",this.hide(),this.dom.firstChild.appendChild(this._tDom),window.addEventListener?(this._tDom.addEventListener("click",this._stop),this._tDom.addEventListener("mousewheel",this._stop),this._tDom.addEventListener("mousemove",this._stop),this._tDom.addEventListener("mousedown",this._stop),this._tDom.addEventListener("mouseup",this._stop),this._tDom.addEventListener("touchstart",this._stop),this._tDom.addEventListener("touchmove",this._stop),this._tDom.addEventListener("touchend",this._stop)):(this._tDom.attachEvent("onclick",this._stop),this._tDom.attachEvent("onmousewheel",this._stop),this._tDom.attachEvent("onmousemove",this._stop),this._tDom.attachEvent("onmousedown",this._stop),this._tDom.attachEvent("onmouseup",this._stop))}var c=f("./base"),g=f("../config"),b=f("zrender/tool/util");return d.prototype={type:g.COMPONENT_TYPE_DATAVIEW,_lang:["Data View","close","refresh"],_gCssText:"position:absolute;display:block;overflow:hidden;transition:height 0.8s,background-color 1s;-moz-transition:height 0.8s,background-color 1s;-webkit-transition:height 0.8s,background-color 1s;-o-transition:height 0.8s,background-color 1s;z-index:1;left:0;top:0;",hide:function(){this._sizeCssText="width:"+this._zrWidth+"px;height:0px;background-color:#f0ffff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText},show:function(j){this._hasShow=!0;var h=this.query(this.option,"toolbox.feature.dataView.lang")||this._lang;this.option=j,this._tDom.innerHTML='<p style="padding:8px 0;margin:0 0 10px 0;border-bottom:1px solid #eee">'+(h[0]||this._lang[0])+"</p>",this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:"+(this._zrWidth-15)+"px;height:"+(this._zrHeight-100)+"px;";var a=this.query(this.option,"toolbox.feature.dataView.optionToContent");this._textArea.value="function"!=typeof a?this._optionToContent():a(this.option),this._tDom.appendChild(this._textArea),this._buttonClose.style.cssText="float:right;padding:1px 6px;",this._buttonClose.innerHTML=h[1]||this._lang[1];var k=this;this._buttonClose.onclick=function(){k.hide()},this._tDom.appendChild(this._buttonClose),this.query(this.option,"toolbox.feature.dataView.readOnly")===!1?(this._buttonRefresh.style.cssText="float:right;margin-right:10px;padding:1px 6px;",this._buttonRefresh.innerHTML=h[2]||this._lang[2],this._buttonRefresh.onclick=function(){k._save()},this._tDom.appendChild(this._buttonRefresh),this._textArea.readOnly=!1,this._textArea.style.cursor="default"):(this._textArea.readOnly=!0,this._textArea.style.cursor="text"),this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText},_optionToContent:function(){var q,w,n,v,k,j,x=[],m="";if(this.option.xAxis){for(x=this.option.xAxis instanceof Array?this.option.xAxis:[this.option.xAxis],q=0,v=x.length;v>q;q++){if("category"==(x[q].type||"category")){for(j=[],w=0,n=x[q].data.length;n>w;w++){k=x[q].data[w],j.push("undefined"!=typeof k.value?k.value:k)}m+=j.join(", ")+"\n\n"}}}if(this.option.yAxis){for(x=this.option.yAxis instanceof Array?this.option.yAxis:[this.option.yAxis],q=0,v=x.length;v>q;q++){if("category"==x[q].type){for(j=[],w=0,n=x[q].data.length;n>w;w++){k=x[q].data[w],j.push("undefined"!=typeof k.value?k.value:k)}m+=j.join(", ")+"\n\n"}}}var p,u=this.option.series;for(q=0,v=u.length;v>q;q++){for(j=[],w=0,n=u[q].data.length;n>w;w++){k=u[q].data[w],p=u[q].type==g.CHART_TYPE_PIE||u[q].type==g.CHART_TYPE_MAP?(k.name||"-")+":":"",u[q].type==g.CHART_TYPE_SCATTER&&(k="undefined"!=typeof k.value?k.value:k,k=k.join(", ")),j.push(p+("undefined"!=typeof k.value?k.value:k))}m+=(u[q].name||"-")+" : \n",m+=j.join(u[q].type==g.CHART_TYPE_SCATTER?"\n":", "),m+="\n\n"}return m},_save:function(){var m=this._textArea.value,k=this.query(this.option,"toolbox.feature.dataView.contentToOption");if("function"!=typeof k){m=m.split("\n");for(var j=[],h=0,n=m.length;n>h;h++){m[h]=this._trim(m[h]),""!==m[h]&&j.push(m[h])}this._contentToOption(j)}else{k(m,this.option)}this.hide();var l=this;setTimeout(function(){l.messageCenter&&l.messageCenter.dispatch(g.EVENT.DATA_VIEW_CHANGED,null,{option:l.option},l.myChart)},l.canvasSupported?800:100)},_contentToOption:function(v){var y,q,x,k,j,z,p,u=[],w=0;if(this.option.xAxis){for(u=this.option.xAxis instanceof Array?this.option.xAxis:[this.option.xAxis],y=0,k=u.length;k>y;y++){if("category"==(u[y].type||"category")){for(z=v[w].split(","),q=0,x=u[y].data.length;x>q;q++){p=this._trim(z[q]||""),j=u[y].data[q],"undefined"!=typeof u[y].data[q].value?u[y].data[q].value=p:u[y].data[q]=p}w++}}}if(this.option.yAxis){for(u=this.option.yAxis instanceof Array?this.option.yAxis:[this.option.yAxis],y=0,k=u.length;k>y;y++){if("category"==u[y].type){for(z=v[w].split(","),q=0,x=u[y].data.length;x>q;q++){p=this._trim(z[q]||""),j=u[y].data[q],"undefined"!=typeof u[y].data[q].value?u[y].data[q].value=p:u[y].data[q]=p}w++}}}var n=this.option.series;for(y=0,k=n.length;k>y;y++){if(w++,n[y].type==g.CHART_TYPE_SCATTER){for(var q=0,x=n[y].data.length;x>q;q++){z=v[w],p=z.replace(" ","").split(","),"undefined"!=typeof n[y].data[q].value?n[y].data[q].value=p:n[y].data[q]=p,w++}}else{z=v[w].split(",");for(var q=0,x=n[y].data.length;x>q;q++){p=(z[q]||"").replace(/.*:/,""),p=this._trim(p),p="-"!=p&&""!==p?p-0:"-","undefined"!=typeof n[y].data[q].value?n[y].data[q].value=p:n[y].data[q]=p}w++}}},_trim:function(h){var a=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");return h.replace(a,"")},_stop:function(a){a=a||window.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},resize:function(){this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth(),this._tDom.offsetHeight>10&&(this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText,this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:"+(this._zrWidth-15)+"px;height:"+(this._zrHeight-100)+"px;")},dispose:function(){window.removeEventListener?(this._tDom.removeEventListener("click",this._stop),this._tDom.removeEventListener("mousewheel",this._stop),this._tDom.removeEventListener("mousemove",this._stop),this._tDom.removeEventListener("mousedown",this._stop),this._tDom.removeEventListener("mouseup",this._stop),this._tDom.removeEventListener("touchstart",this._stop),this._tDom.removeEventListener("touchmove",this._stop),this._tDom.removeEventListener("touchend",this._stop)):(this._tDom.detachEvent("onclick",this._stop),this._tDom.detachEvent("onmousewheel",this._stop),this._tDom.detachEvent("onmousemove",this._stop),this._tDom.detachEvent("onmousedown",this._stop),this._tDom.detachEvent("onmouseup",this._stop)),this._buttonRefresh.onclick=null,this._buttonClose.onclick=null,this._hasShow&&(this._tDom.removeChild(this._textArea),this._tDom.removeChild(this._buttonRefresh),this._tDom.removeChild(this._buttonClose)),this._textArea=null,this._buttonRefresh=null,this._buttonClose=null,this.dom.firstChild.removeChild(this._tDom),this._tDom=null}},b.inherits(d,c),f("../component").define("dataView",d),d}),define("echarts/util/shape/Cross",["require","zrender/shape/Base","zrender/shape/Line","zrender/tool/util","./normalIsCover"],function(f){function d(a){c.call(this,a)}var c=f("zrender/shape/Base"),g=f("zrender/shape/Line"),b=f("zrender/tool/util");return d.prototype={type:"cross",buildPath:function(j,h){var a=h.rect;h.xStart=a.x,h.xEnd=a.x+a.width,h.yStart=h.yEnd=h.y,g.prototype.buildPath(j,h),h.xStart=h.xEnd=h.x,h.yStart=a.y,h.yEnd=a.y+a.height,g.prototype.buildPath(j,h)},getRect:function(a){return a.rect},isCover:f("./normalIsCover")},b.inherits(d,c),d}),define("zrender/shape/Sector",["require","../tool/math","../tool/computeBoundingBox","../tool/vector","./Base","../tool/util"],function(k){var p=k("../tool/math"),g=k("../tool/computeBoundingBox"),d=k("../tool/vector"),m=k("./Base"),c=d.create(),b=d.create(),q=d.create(),f=d.create(),j=function(a){m.call(this,a)};return j.prototype={type:"sector",buildPath:function(A,y){var v=y.x,C=y.y,u=y.r0||0,t=y.r,D=y.startAngle,x=y.endAngle,z=y.clockWise||!1;D=p.degreeToRadian(D),x=p.degreeToRadian(x),z||(D=-D,x=-x);var B=p.cos(D),w=p.sin(D);A.moveTo(B*u+v,w*u+C),A.lineTo(B*t+v,w*t+C),A.arc(v,C,t,D,x,!z),A.lineTo(p.cos(x)*u+v,p.sin(x)*u+C),0!==u&&A.arc(v,C,u,x,D,z),A.closePath()},getRect:function(s){if(s.__rect){return s.__rect}var l=s.x,o=s.y,t=s.r0||0,i=s.r,v=p.degreeToRadian(s.startAngle),r=p.degreeToRadian(s.endAngle),n=s.clockWise;return n||(v=-v,r=-r),t>1?g.arc(l,o,t,v,r,!n,c,q):(c[0]=q[0]=l,c[1]=q[1]=o),g.arc(l,o,i,v,r,!n,b,f),d.min(c,c,b),d.max(q,q,f),s.__rect={x:c[0],y:c[1],width:q[0]-c[0],height:q[1]-c[1]},s.__rect}},k("../tool/util").inherits(j,m),j}),define("echarts/util/shape/Candle",["require","zrender/shape/Base","zrender/tool/util","./normalIsCover"],function(c){function b(f){a.call(this,f)}var a=c("zrender/shape/Base"),d=c("zrender/tool/util");return b.prototype={type:"candle",_numberOrder:function(g,f){return f-g},buildPath:function(h,g){var f=d.clone(g.y).sort(this._numberOrder);h.moveTo(g.x,f[3]),h.lineTo(g.x,f[2]),h.moveTo(g.x-g.width/2,f[2]),h.rect(g.x-g.width/2,f[2],g.width,f[1]-f[2]),h.moveTo(g.x,f[1]),h.lineTo(g.x,f[0])},getRect:function(h){if(!h.__rect){var g=0;("stroke"==h.brushType||"fill"==h.brushType)&&(g=h.lineWidth||1);var f=d.clone(h.y).sort(this._numberOrder);h.__rect={x:Math.round(h.x-h.width/2-g/2),y:Math.round(f[3]-g/2),width:h.width+g,height:f[0]-f[3]+g}}return h.__rect},isCover:c("./normalIsCover")},d.inherits(b,a),b}),define("zrender/tool/computeBoundingBox",["require","./vector","./curve"],function(k){function p(y,A,x){if(0!==y.length){for(var v=y[0][0],z=y[0][0],u=y[0][1],h=y[0][1],B=1;B<y.length;B++){var w=y[B];w[0]<v&&(v=w[0]),w[0]>z&&(z=w[0]),w[1]<u&&(u=w[1]),w[1]>h&&(h=w[1])}A[0]=v,A[1]=u,x[0]=z,x[1]=h}}function g(A,E,y,v,D,o){var F=[];c.cubicExtrema(A[0],E[0],y[0],v[0],F);for(var x=0;x<F.length;x++){F[x]=c.cubicAt(A[0],E[0],y[0],v[0],F[x])}var z=[];c.cubicExtrema(A[1],E[1],y[1],v[1],z);for(var x=0;x<z.length;x++){z[x]=c.cubicAt(A[1],E[1],y[1],v[1],z[x])}F.push(A[0],v[0]),z.push(A[1],v[1]);var B=Math.min.apply(null,F),w=Math.max.apply(null,F),C=Math.min.apply(null,z),u=Math.max.apply(null,z);D[0]=B,D[1]=C,o[0]=w,o[1]=u}function d(A,E,y,v,D){var o=c.quadraticExtremum(A[0],E[0],y[0]),F=c.quadraticExtremum(A[1],E[1],y[1]);o=Math.max(Math.min(o,1),0),F=Math.max(Math.min(F,1),0);var x=1-o,z=1-F,B=x*x*A[0]+2*x*o*E[0]+o*o*y[0],w=x*x*A[1]+2*x*o*E[1]+o*o*y[1],C=z*z*A[0]+2*z*F*E[0]+F*F*y[0],u=z*z*A[1]+2*z*F*E[1]+F*F*y[1];v[0]=Math.min(A[0],y[0],B,C),v[1]=Math.min(A[1],y[1],w,u),D[0]=Math.max(A[0],y[0],B,C),D[1]=Math.max(A[1],y[1],w,u)}var m=k("./vector"),c=k("./curve"),b=m.create(),q=m.create(),f=m.create(),j=function(w,z,u,r,l,v,x,s){if(b[0]=Math.cos(r)*u+w,b[1]=Math.sin(r)*u+z,q[0]=Math.cos(l)*u+w,q[1]=Math.sin(l)*u+z,m.min(x,b,q),m.max(s,b,q),r%=2*Math.PI,0>r&&(r+=2*Math.PI),l%=2*Math.PI,0>l&&(l+=2*Math.PI),r>l&&!v?l+=2*Math.PI:l>r&&v&&(r+=2*Math.PI),v){var y=l;l=r,r=y}for(var a=0;l>a;a+=Math.PI/2){a>r&&(f[0]=Math.cos(a)*u+w,f[1]=Math.sin(a)*u+z,m.min(x,f,x),m.max(s,f,s))}};return p.cubeBezier=g,p.quadraticBezier=d,p.arc=j,p}),define("echarts/util/shape/Chain",["require","zrender/shape/Base","./Icon","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/matrix"],function(g){function d(a){c.call(this,a)}var c=g("zrender/shape/Base"),j=g("./Icon"),b=g("zrender/shape/util/dashedLineTo"),h=g("zrender/tool/util"),f=g("zrender/tool/matrix");return d.prototype={type:"chain",brush:function(l,k){var a=this.style;k&&(a=this.getHighlightStyle(a,this.highlightStyle||{})),l.save(),this.setContext(l,a),this.setTransform(l),l.save(),l.beginPath(),this.buildLinePath(l,a),l.stroke(),l.restore(),this.brushSymbol(l,a),l.restore()},buildLinePath:function(p,k){var a=k.x,u=k.y+5,q=k.width,m=k.height/2-10;if(p.moveTo(a,u),p.lineTo(a,u+m),p.moveTo(a+q,u),p.lineTo(a+q,u+m),p.moveTo(a,u+m/2),k.lineType&&"solid"!=k.lineType){if("dashed"==k.lineType||"dotted"==k.lineType){var l=(k.lineWidth||1)*("dashed"==k.lineType?5:1);b(p,a,u+m/2,a+q,u+m/2,l)}}else{p.lineTo(a+q,u+m/2)}},brushSymbol:function(v,p){var n=p.y+p.height/4;v.save();for(var m,w=p.chainPoint,u=0,q=w.length;q>u;u++){if(m=w[u],"none"!=m.symbol){v.beginPath();var k=m.symbolSize;j.prototype.buildPath(v,{iconType:m.symbol,x:m.x-k,y:n-k,width:2*k,height:2*k,n:m.n}),v.fillStyle=m.isEmpty?"#fff":p.strokeColor,v.closePath(),v.fill(),v.stroke()}m.showLabel&&(v.font=m.textFont,v.fillStyle=m.textColor,v.textAlign=m.textAlign,v.textBaseline=m.textBaseline,m.rotation?(v.save(),this._updateTextTransform(v,m.rotation),v.fillText(m.name,m.textX,m.textY),v.restore()):v.fillText(m.name,m.textX,m.textY))}v.restore()},_updateTextTransform:function(o,m){var l=f.create();if(f.identity(l),0!==m[0]){var p=m[1]||0,k=m[2]||0;(p||k)&&f.translate(l,l,[-p,-k]),f.rotate(l,l,m[0]),(p||k)&&f.translate(l,l,[p,k])}o.transform.apply(o,l)},isCover:function(l,k){var a=this.style;return l>=a.x&&l<=a.x+a.width&&k>=a.y&&k<=a.y+a.height?!0:!1}},h.inherits(d,c),d}),define("zrender/shape/Ring",["require","./Base","../tool/util"],function(c){var b=c("./Base"),a=function(d){b.call(this,d)};return a.prototype={type:"ring",buildPath:function(f,d){f.arc(d.x,d.y,d.r,0,2*Math.PI,!1),f.moveTo(d.x+d.r0,d.y),f.arc(d.x,d.y,d.r0,0,2*Math.PI,!0)},getRect:function(f){if(f.__rect){return f.__rect}var d;return d="stroke"==f.brushType||"fill"==f.brushType?f.lineWidth||1:0,f.__rect={x:Math.round(f.x-f.r-d/2),y:Math.round(f.y-f.r-d/2),width:2*f.r+d,height:2*f.r+d},f.__rect}},c("../tool/util").inherits(a,b),a}),define("echarts/component/axis",["require","./base","zrender/shape/Line","../config","../util/ecData","zrender/tool/util","zrender/tool/color","./categoryAxis","./valueAxis","../component"],function(h){function d(p,l,s,i,q,m){c.call(this,p,l,s,i,q),this.axisType=m,this._axisList=[],this.refresh(i)}var c=h("./base"),k=h("zrender/shape/Line"),b=h("../config"),j=h("../util/ecData"),g=h("zrender/tool/util"),f=h("zrender/tool/color");return d.prototype={type:b.COMPONENT_TYPE_AXIS,axisBase:{_buildAxisLine:function(){var m=this.option.axisLine.lineStyle.width,l=m/2,a={_axisShape:"axisLine",zlevel:this._zlevelBase+1,hoverable:!1};switch(this.option.position){case"left":a.style={xStart:this.grid.getX()-l,yStart:this.grid.getYend(),xEnd:this.grid.getX()-l,yEnd:this.grid.getY(),lineCap:"round"};break;case"right":a.style={xStart:this.grid.getXend()+l,yStart:this.grid.getYend(),xEnd:this.grid.getXend()+l,yEnd:this.grid.getY(),lineCap:"round"};break;case"bottom":a.style={xStart:this.grid.getX(),yStart:this.grid.getYend()+l,xEnd:this.grid.getXend(),yEnd:this.grid.getYend()+l,lineCap:"round"};break;case"top":a.style={xStart:this.grid.getX(),yStart:this.grid.getY()-l,xEnd:this.grid.getXend(),yEnd:this.grid.getY()-l,lineCap:"round"}}""!==this.option.name&&(a.style.text=this.option.name,a.style.textPosition=this.option.nameLocation,a.style.textFont=this.getFont(this.option.nameTextStyle),this.option.nameTextStyle.align&&(a.style.textAlign=this.option.nameTextStyle.align),this.option.nameTextStyle.baseline&&(a.style.textBaseline=this.option.nameTextStyle.baseline),this.option.nameTextStyle.color&&(a.style.textColor=this.option.nameTextStyle.color)),a.style.strokeColor=this.option.axisLine.lineStyle.color,a.style.lineWidth=m,this.isHorizontal()?a.style.yStart=a.style.yEnd=this.subPixelOptimize(a.style.yEnd,m):a.style.xStart=a.style.xEnd=this.subPixelOptimize(a.style.xEnd,m),a.style.lineType=this.option.axisLine.lineStyle.type,a=new k(a),this.shapeList.push(a)},_axisLabelClickable:function(i,a){return i?(j.pack(a,void 0,-1,void 0,-1,a.style.text),a.hoverable=!0,a.clickable=!0,a.highlightStyle={color:f.lift(a.style.color,1),brushType:"fill"},a):a},refixAxisShape:function(p,o){if(this.option.axisLine.onZero){var m;if(this.isHorizontal()&&null!=o){for(var q=0,l=this.shapeList.length;l>q;q++){"axisLine"===this.shapeList[q]._axisShape?(this.shapeList[q].style.yStart=this.shapeList[q].style.yEnd=this.subPixelOptimize(o,this.shapeList[q].stylelineWidth),this.zr.modShape(this.shapeList[q].id)):"axisTick"===this.shapeList[q]._axisShape&&(m=this.shapeList[q].style.yEnd-this.shapeList[q].style.yStart,this.shapeList[q].style.yStart=o-m,this.shapeList[q].style.yEnd=o,this.zr.modShape(this.shapeList[q].id))}}if(!this.isHorizontal()&&null!=p){for(var q=0,l=this.shapeList.length;l>q;q++){"axisLine"===this.shapeList[q]._axisShape?(this.shapeList[q].style.xStart=this.shapeList[q].style.xEnd=this.subPixelOptimize(p,this.shapeList[q].stylelineWidth),this.zr.modShape(this.shapeList[q].id)):"axisTick"===this.shapeList[q]._axisShape&&(m=this.shapeList[q].style.xEnd-this.shapeList[q].style.xStart,this.shapeList[q].style.xStart=p,this.shapeList[q].style.xEnd=p+m,this.zr.modShape(this.shapeList[q].id))}}}},getPosition:function(){return this.option.position},isHorizontal:function(){return"bottom"===this.option.position||"top"===this.option.position}},reformOption:function(m){if(!m||m instanceof Array&&0===m.length?m=[{type:b.COMPONENT_TYPE_AXIS_VALUE}]:m instanceof Array||(m=[m]),m.length>2&&(m=[m[0],m[1]]),"xAxis"===this.axisType){(!m[0].position||"bottom"!=m[0].position&&"top"!=m[0].position)&&(m[0].position="bottom"),m.length>1&&(m[1].position="bottom"===m[0].position?"top":"bottom");for(var l=0,a=m.length;a>l;l++){m[l].type=m[l].type||"category",m[l].xAxisIndex=l,m[l].yAxisIndex=-1}}else{(!m[0].position||"left"!=m[0].position&&"right"!=m[0].position)&&(m[0].position="left"),m.length>1&&(m[1].position="left"===m[0].position?"right":"left");for(var l=0,a=m.length;a>l;l++){m[l].type=m[l].type||"value",m[l].xAxisIndex=-1,m[l].yAxisIndex=l}}return m},refresh:function(m){var l;m&&(this.option=m,"xAxis"===this.axisType?(this.option.xAxis=this.reformOption(m.xAxis),l=this.option.xAxis):(this.option.yAxis=this.reformOption(m.yAxis),l=this.option.yAxis),this.series=m.series);for(var s=h("./categoryAxis"),e=h("./valueAxis"),q=Math.max(l&&l.length||0,this._axisList.length),p=0;q>p;p++){!this._axisList[p]||!m||l[p]&&this._axisList[p].type==l[p].type||(this._axisList[p].dispose&&this._axisList[p].dispose(),this._axisList[p]=!1),this._axisList[p]?this._axisList[p].refresh&&this._axisList[p].refresh(l?l[p]:!1,this.series):l&&l[p]&&(this._axisList[p]="category"===l[p].type?new s(this.ecTheme,this.messageCenter,this.zr,l[p],this.myChart,this.axisBase):new e(this.ecTheme,this.messageCenter,this.zr,l[p],this.myChart,this.axisBase,this.series))}},getAxis:function(a){return this._axisList[a]},clear:function(){for(var i=0,a=this._axisList.length;a>i;i++){this._axisList[i].dispose&&this._axisList[i].dispose()}this._axisList=[]}},g.inherits(d,c),h("../component").define("axis",d),d}),define("echarts/component/grid",["require","./base","zrender/shape/Rectangle","../config","zrender/tool/util","../component"],function(f){function d(k,j,m,i,l){c.call(this,k,j,m,i,l),this.refresh(i)}var c=f("./base"),h=f("zrender/shape/Rectangle"),b=f("../config"),g=f("zrender/tool/util");return d.prototype={type:b.COMPONENT_TYPE_GRID,getX:function(){return this._x},getY:function(){return this._y},getWidth:function(){return this._width},getHeight:function(){return this._height},getXend:function(){return this._x+this._width},getYend:function(){return this._y+this._height},getArea:function(){return{x:this._x,y:this._y,width:this._width,height:this._height}},getBbox:function(){return[[this._x,this._y],[this.getXend(),this.getYend()]]},refixAxisShape:function(l){for(var j,a,p,m=l.xAxis._axisList.concat(l.yAxis?l.yAxis._axisList:[]),k=m.length;k--;){p=m[k],p.type==b.COMPONENT_TYPE_AXIS_VALUE&&p._min<0&&p._max>=0&&(p.isHorizontal()?j=p.getCoord(0):a=p.getCoord(0))}if("undefined"!=typeof j||"undefined"!=typeof a){for(k=m.length;k--;){m[k].refixAxisShape(j,a)}}},refresh:function(m){if(m||this._zrWidth!=this.zr.getWidth()||this._zrHeight!=this.zr.getHeight()){this.clear(),this.option=m||this.option,this.option.grid=this.reformOption(this.option.grid);var l=this.option.grid;this._zrWidth=this.zr.getWidth(),this._zrHeight=this.zr.getHeight(),this._x=this.parsePercent(l.x,this._zrWidth),this._y=this.parsePercent(l.y,this._zrHeight);var k=this.parsePercent(l.x2,this._zrWidth),j=this.parsePercent(l.y2,this._zrHeight);this._width="undefined"==typeof l.width?this._zrWidth-this._x-k:this.parsePercent(l.width,this._zrWidth),this._width=this._width<=0?10:this._width,this._height="undefined"==typeof l.height?this._zrHeight-this._y-j:this.parsePercent(l.height,this._zrHeight),this._height=this._height<=0?10:this._height,this._x=this.subPixelOptimize(this._x,l.borderWidth),this._y=this.subPixelOptimize(this._y,l.borderWidth),this.shapeList.push(new h({zlevel:this._zlevelBase,hoverable:!1,style:{x:this._x,y:this._y,width:this._width,height:this._height,brushType:l.borderWidth>0?"both":"fill",color:l.backgroundColor,strokeColor:l.borderColor,lineWidth:l.borderWidth}})),this.zr.addShape(this.shapeList[0])}}},g.inherits(d,c),f("../component").define("grid",d),d}),define("echarts/component/dataZoom",["require","./base","zrender/shape/Rectangle","zrender/shape/Polygon","../util/shape/Icon","../config","../util/date","zrender/tool/util","../component"],function(h){function k(q,l,u,i,s){g.call(this,q,l,u,i,s);var p=this;p._ondrift=function(n,a){return p.__ondrift(this,n,a)},p._ondragend=function(){return p.__ondragend()},this._fillerSize=28,this._handleSize=8,this._isSilence=!1,this._zoom={},this.option.dataZoom=this.reformOption(this.option.dataZoom),this.zoomOption=this.option.dataZoom,this.myChart.canvasSupported||(this.zoomOption.realtime=!1),this._location=this._getLocation(),this._zoom=this._getZoom(),this._backupData(),this.option.dataZoom.show&&this._buildShape(),this._syncData()}var g=h("./base"),d=h("zrender/shape/Rectangle"),j=h("zrender/shape/Polygon"),c=h("../util/shape/Icon"),b=h("../config"),m=h("../util/date"),f=h("zrender/tool/util");return k.prototype={type:b.COMPONENT_TYPE_DATAZOOM,_buildShape:function(){this._buildBackground(),this._buildFiller(),this._buildHandle(),this._buildFrame();for(var i=0,a=this.shapeList.length;a>i;i++){this.zr.addShape(this.shapeList[i])}this._syncFrameShape()},_getLocation:function(){var q,p,o,r,l=this.component.grid;return"horizontal"==this.zoomOption.orient?(o=this.zoomOption.width||l.getWidth(),r=this.zoomOption.height||this._fillerSize,q=null!=this.zoomOption.x?this.zoomOption.x:l.getX(),p=null!=this.zoomOption.y?this.zoomOption.y:this.zr.getHeight()-r-2):(o=this.zoomOption.width||this._fillerSize,r=this.zoomOption.height||l.getHeight(),q=null!=this.zoomOption.x?this.zoomOption.x:2,p=null!=this.zoomOption.y?this.zoomOption.y:l.getY()),{x:q,y:p,width:o,height:r}},_getZoom:function(){var B=this.option.series,G=this.option.xAxis;!G||G instanceof Array||(G=[G],this.option.xAxis=G);var z=this.option.yAxis;!z||z instanceof Array||(z=[z],this.option.yAxis=z);var v,E,r=[],H=this.zoomOption.xAxisIndex;if(G&&null==H){v=[];for(var y=0,A=G.length;A>y;y++){("category"==G[y].type||null==G[y].type)&&v.push(y)}}else{v=H instanceof Array?H:null!=H?[H]:[]}if(H=this.zoomOption.yAxisIndex,z&&null==H){E=[];for(var y=0,A=z.length;A>y;y++){"category"==z[y].type&&E.push(y)}}else{E=H instanceof Array?H:null!=H?[H]:[]}for(var C,y=0,A=B.length;A>y;y++){if(C=B[y],C.type==b.CHART_TYPE_LINE||C.type==b.CHART_TYPE_BAR||C.type==b.CHART_TYPE_SCATTER||C.type==b.CHART_TYPE_K){for(var x=0,D=v.length;D>x;x++){if(v[x]==(C.xAxisIndex||0)){r.push(y);break}}for(var x=0,D=E.length;D>x;x++){if(E[x]==(C.yAxisIndex||0)){r.push(y);break}}null==this.zoomOption.xAxisIndex&&null==this.zoomOption.yAxisIndex&&C.data&&C.data[0]&&C.data[0] instanceof Array&&(C.type==b.CHART_TYPE_SCATTER||C.type==b.CHART_TYPE_LINE||C.type==b.CHART_TYPE_BAR)&&r.push(y)}}var q=null!=this._zoom.start?this._zoom.start:null!=this.zoomOption.start?this.zoomOption.start:0,F=null!=this._zoom.end?this._zoom.end:null!=this.zoomOption.end?this.zoomOption.end:100;q>F&&(q+=F,F=q-F,q-=F);var w=Math.round((F-q)/100*("horizontal"==this.zoomOption.orient?this._location.width:this._location.height));return{start:q,end:F,start2:0,end2:100,size:w,xAxisIndex:v,yAxisIndex:E,seriesIndex:r,scatterMap:this._zoom.scatterMap||{}}},_backupData:function(){this._originalData={xAxis:{},yAxis:{},series:{}};for(var w=this.option.xAxis,y=this._zoom.xAxisIndex,u=0,q=y.length;q>u;u++){this._originalData.xAxis[y[u]]=w[y[u]].data}for(var x=this.option.yAxis,p=this._zoom.yAxisIndex,u=0,q=p.length;q>u;u++){this._originalData.yAxis[p[u]]=x[p[u]].data}for(var z,r=this.option.series,v=this._zoom.seriesIndex,u=0,q=v.length;q>u;u++){z=r[v[u]],this._originalData.series[v[u]]=z.data,z.data&&z.data[0]&&z.data[0] instanceof Array&&(z.type==b.CHART_TYPE_SCATTER||z.type==b.CHART_TYPE_LINE||z.type==b.CHART_TYPE_BAR)&&(this._backupScale(),this._calculScatterMap(v[u]))}},_calculScatterMap:function(p){this._zoom.scatterMap=this._zoom.scatterMap||{},this._zoom.scatterMap[p]=this._zoom.scatterMap[p]||{};var l=h("../component"),u=l.get("axis"),e=f.clone(this.option.xAxis);"category"==e[0].type&&(e[0].type="value"),e[1]&&"category"==e[1].type&&(e[1].type="value");var s=new u(this.ecTheme,null,!1,{xAxis:e,series:this.option.series},this,"xAxis"),q=this.option.series[p].xAxisIndex||0;this._zoom.scatterMap[p].x=s.getAxis(q).getExtremum(),s.dispose(),e=f.clone(this.option.yAxis),"category"==e[0].type&&(e[0].type="value"),e[1]&&"category"==e[1].type&&(e[1].type="value"),s=new u(this.ecTheme,null,!1,{yAxis:e,series:this.option.series},this,"yAxis"),q=this.option.series[p].yAxisIndex||0,this._zoom.scatterMap[p].y=s.getAxis(q).getExtremum(),s.dispose()},_buildBackground:function(){var G=this._location.width,v=this._location.height;this.shapeList.push(new d({zlevel:this._zlevelBase,hoverable:!1,style:{x:this._location.x,y:this._location.y,width:G,height:v,color:this.zoomOption.backgroundColor}}));for(var C=0,z=this._originalData.xAxis,w=this._zoom.xAxisIndex,B=0,D=w.length;D>B;B++){C=Math.max(C,z[w[B]].length)}for(var H=this._originalData.yAxis,A=this._zoom.yAxisIndex,B=0,D=A.length;D>B;B++){C=Math.max(C,H[A[B]].length)}for(var I,x=this._zoom.seriesIndex[0],r=this._originalData.series[x],a=Number.MIN_VALUE,n=Number.MAX_VALUE,B=0,D=r.length;D>B;B++){I=null!=r[B]?null!=r[B].value?r[B].value:r[B]:0,this.option.series[x].type==b.CHART_TYPE_K&&(I=I[1]),isNaN(I)&&(I=0),a=Math.max(a,I),n=Math.min(n,I)}var q=a-n,E=[],F=G/(C-(C>1?1:0)),J=v/(C-(C>1?1:0)),K=1;"horizontal"==this.zoomOption.orient&&1>F?K=Math.floor(3*C/G):"vertical"==this.zoomOption.orient&&1>J&&(K=Math.floor(3*C/v));for(var B=0,D=C;D>B;B+=K){I=null!=r[B]?null!=r[B].value?r[B].value:r[B]:0,this.option.series[x].type==b.CHART_TYPE_K&&(I=I[1]),isNaN(I)&&(I=0),E.push("horizontal"==this.zoomOption.orient?[this._location.x+F*B,this._location.y+v-1-Math.round((I-n)/q*(v-10))]:[this._location.x+1+Math.round((I-n)/q*(G-10)),this._location.y+J*B])}"horizontal"==this.zoomOption.orient?(E.push([this._location.x+G,this._location.y+v]),E.push([this._location.x,this._location.y+v])):(E.push([this._location.x,this._location.y+v]),E.push([this._location.x,this._location.y])),this.shapeList.push(new j({zlevel:this._zlevelBase,style:{pointList:E,color:this.zoomOption.dataBackgroundColor},hoverable:!1}))},_buildFiller:function(){this._fillerShae={zlevel:this._zlevelBase,draggable:!0,ondrift:this._ondrift,ondragend:this._ondragend,_type:"filler"},this._fillerShae.style="horizontal"==this.zoomOption.orient?{x:this._location.x+Math.round(this._zoom.start/100*this._location.width)+this._handleSize,y:this._location.y,width:this._zoom.size-2*this._handleSize,height:this._location.height,color:this.zoomOption.fillerColor,text:":::",textPosition:"inside"}:{x:this._location.x,y:this._location.y+Math.round(this._zoom.start/100*this._location.height)+this._handleSize,width:this._location.width,height:this._zoom.size-2*this._handleSize,color:this.zoomOption.fillerColor,text:"::",textPosition:"inside"},this._fillerShae.highlightStyle={brushType:"fill",color:"rgba(0,0,0,0)"},this._fillerShae=new d(this._fillerShae),this.shapeList.push(this._fillerShae)},_buildHandle:function(){this._startShape={zlevel:this._zlevelBase,draggable:!0,style:{iconType:"rectangle",x:this._location.x,y:this._location.y,width:this._handleSize,height:this._handleSize,color:this.zoomOption.handleColor,text:"=",textPosition:"inside"},highlightStyle:{text:"",brushType:"fill",textPosition:"left"},ondrift:this._ondrift,ondragend:this._ondragend},"horizontal"==this.zoomOption.orient?(this._startShape.style.height=this._location.height,this._endShape=f.clone(this._startShape),this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endShape.highlightStyle.textPosition="right"):(this._startShape.style.width=this._location.width,this._endShape=f.clone(this._startShape),this._startShape.style.y=this._fillerShae.style.y-this._handleSize,this._startShape.highlightStyle.textPosition="top",this._endShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._endShape.highlightStyle.textPosition="bottom"),this._startShape=new c(this._startShape),this._endShape=new c(this._endShape),this.shapeList.push(this._startShape),this.shapeList.push(this._endShape)},_buildFrame:function(){var i=this.subPixelOptimize(this._location.x,1),a=this.subPixelOptimize(this._location.y,1);this._startFrameShape={zlevel:this._zlevelBase,hoverable:!1,style:{x:i,y:a,width:this._location.width-(i>this._location.x?1:0),height:this._location.height-(a>this._location.y?1:0),lineWidth:1,brushType:"stroke",strokeColor:this.zoomOption.handleColor}},this._endFrameShape=f.clone(this._startFrameShape),this._startFrameShape=new d(this._startFrameShape),this._endFrameShape=new d(this._endFrameShape),this.shapeList.push(this._startFrameShape),this.shapeList.push(this._endFrameShape)},_syncHandleShape:function(){"horizontal"==this.zoomOption.orient?(this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._zoom.start=Math.floor((this._startShape.style.x-this._location.x)/this._location.width*100),this._zoom.end=Math.ceil((this._endShape.style.x+this._handleSize-this._location.x)/this._location.width*100)):(this._startShape.style.y=this._fillerShae.style.y-this._handleSize,this._endShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._zoom.start=Math.floor((this._startShape.style.y-this._location.y)/this._location.height*100),this._zoom.end=Math.ceil((this._endShape.style.y+this._handleSize-this._location.y)/this._location.height*100)),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this._syncFrameShape(),this.zr.refresh()},_syncFillerShape:function(){var i,a;"horizontal"==this.zoomOption.orient?(i=this._startShape.style.x,a=this._endShape.style.x,this._fillerShae.style.x=Math.min(i,a)+this._handleSize,this._fillerShae.style.width=Math.abs(i-a)-this._handleSize,this._zoom.start=Math.floor((Math.min(i,a)-this._location.x)/this._location.width*100),this._zoom.end=Math.ceil((Math.max(i,a)+this._handleSize-this._location.x)/this._location.width*100)):(i=this._startShape.style.y,a=this._endShape.style.y,this._fillerShae.style.y=Math.min(i,a)+this._handleSize,this._fillerShae.style.height=Math.abs(i-a)-this._handleSize,this._zoom.start=Math.floor((Math.min(i,a)-this._location.y)/this._location.height*100),this._zoom.end=Math.ceil((Math.max(i,a)+this._handleSize-this._location.y)/this._location.height*100)),this.zr.modShape(this._fillerShae.id),this._syncFrameShape(),this.zr.refresh()},_syncFrameShape:function(){"horizontal"==this.zoomOption.orient?(this._startFrameShape.style.width=this._fillerShae.style.x-this._location.x,this._endFrameShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endFrameShape.style.width=this._location.x+this._location.width-this._endFrameShape.style.x):(this._startFrameShape.style.height=this._fillerShae.style.y-this._location.y,this._endFrameShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._endFrameShape.style.height=this._location.y+this._location.height-this._endFrameShape.style.y),this.zr.modShape(this._startFrameShape.id),this.zr.modShape(this._endFrameShape.id)},_syncShape:function(){this.zoomOption.show&&("horizontal"==this.zoomOption.orient?(this._startShape.style.x=this._location.x+this._zoom.start/100*this._location.width,this._endShape.style.x=this._location.x+this._zoom.end/100*this._location.width-this._handleSize,this._fillerShae.style.x=this._startShape.style.x+this._handleSize,this._fillerShae.style.width=this._endShape.style.x-this._startShape.style.x-this._handleSize):(this._startShape.style.y=this._location.y+this._zoom.start/100*this._location.height,this._endShape.style.y=this._location.y+this._zoom.end/100*this._location.height-this._handleSize,this._fillerShae.style.y=this._startShape.style.y+this._handleSize,this._fillerShae.style.height=this._endShape.style.y-this._startShape.style.y-this._handleSize),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.modShape(this._fillerShae.id),this._syncFrameShape(),this.zr.refresh())},_syncData:function(w){var u,r,y,q,x;for(var v in this._originalData){u=this._originalData[v];for(var p in u){x=u[p],null!=x&&(q=x.length,r=Math.floor(this._zoom.start/100*q),y=Math.ceil(this._zoom.end/100*q),this.option[v][p].data[0] instanceof Array&&this.option[v][p].type!=b.CHART_TYPE_K?(this._setScale(),this.option[v][p].data=this._synScatterData(p,x)):this.option[v][p].data=x.slice(r,y))}}this._isSilence||!this.zoomOption.realtime&&!w||this.messageCenter.dispatch(b.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart)},_synScatterData:function(z,C){if(0===this._zoom.start&&100==this._zoom.end&&0===this._zoom.start2&&100==this._zoom.end2){return C}var x,u,B,q,p,D=[],w=this._zoom.scatterMap[z];"horizontal"==this.zoomOption.orient?(x=w.x.max-w.x.min,u=this._zoom.start/100*x+w.x.min,B=this._zoom.end/100*x+w.x.min,x=w.y.max-w.y.min,q=this._zoom.start2/100*x+w.y.min,p=this._zoom.end2/100*x+w.y.min):(x=w.x.max-w.x.min,u=this._zoom.start2/100*x+w.x.min,B=this._zoom.end2/100*x+w.x.min,x=w.y.max-w.y.min,q=this._zoom.start/100*x+w.y.min,p=this._zoom.end/100*x+w.y.min);for(var y,A=0,v=C.length;v>A;A++){y=C[A].value||C[A],y[0]>=u&&y[0]<=B&&y[1]>=q&&y[1]<=p&&D.push(C[A])}return D},_setScale:function(){var q=0!==this._zoom.start||100!==this._zoom.end||0!==this._zoom.start2||100!==this._zoom.end2,p={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var o in p){for(var r=0,l=p[o].length;l>r;r++){p[o][r].scale=q||p[o][r]._scale}}},_backupScale:function(){var o={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var l in o){for(var a=0,p=o[l].length;p>a;a++){o[l][a]._scale=o[l][a].scale}}},_getDetail:function(){var B="horizontal"==this.zoomOption.orient?"xAxis":"yAxis",G=this._originalData[B];for(var z in G){var w=G[z];if(null!=w){var E=w.length,v=Math.floor(this._zoom.start/100*E),q=Math.ceil(this._zoom.end/100*E);return q-=q>=E?1:0,{start:null!=w[v].value?w[v].value:w[v],end:null!=w[q].value?w[q].value:w[q]}}}var y=this._zoom.seriesIndex[0],A=this.option.series[y][B+"Index"]||0,C=this.option[B][A].type,x=this._zoom.scatterMap[y][B.charAt(0)].min,D=this._zoom.scatterMap[y][B.charAt(0)].max,s=D-x;if("value"==C){return{start:x+s*this._zoom.start/100,end:x+s*this._zoom.end/100}}if("time"==C){D=x+s*this._zoom.end/100,x+=s*this._zoom.start/100;var F=m.getAutoFormatter(x,D).formatter;return{start:m.format(F,x),end:m.format(F,D)}}return{start:"",end:""}},__ondrift:function(q,p,o){this.zoomOption.zoomLock&&(q=this._fillerShae);var r="filler"==q._type?this._handleSize:0;if("horizontal"==this.zoomOption.orient?q.style.x+p-r<=this._location.x?q.style.x=this._location.x+r:q.style.x+p+q.style.width+r>=this._location.x+this._location.width?q.style.x=this._location.x+this._location.width-q.style.width-r:q.style.x+=p:q.style.y+o-r<=this._location.y?q.style.y=this._location.y+r:q.style.y+o+q.style.height+r>=this._location.y+this._location.height?q.style.y=this._location.y+this._location.height-q.style.height-r:q.style.y+=o,"filler"==q._type?this._syncHandleShape():this._syncFillerShape(),this.zoomOption.realtime&&this._syncData(),this.zoomOption.showDetail){var l=this._getDetail();this._startShape.style.text=this._startShape.highlightStyle.text=l.start,this._endShape.style.text=this._endShape.highlightStyle.text=l.end,this._startShape.style.textPosition=this._startShape.highlightStyle.textPosition,this._endShape.style.textPosition=this._endShape.highlightStyle.textPosition}return !0},__ondragend:function(){this.zoomOption.showDetail&&(this._startShape.style.text=this._endShape.style.text="=",this._startShape.style.textPosition=this._endShape.style.textPosition="inside",this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.refreshNextFrame()),this.isDragend=!0},ondragend:function(i,a){this.isDragend&&i.target&&(!this.zoomOption.realtime&&this._syncData(),a.dragOut=!0,a.dragIn=!0,this._isSilence||this.zoomOption.realtime||this.messageCenter.dispatch(b.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart),a.needRefresh=!1,this.isDragend=!1)},ondataZoom:function(i,a){a.needRefresh=!0},absoluteZoom:function(a){this._zoom.start=a.start,this._zoom.end=a.end,this._zoom.start2=a.start2,this._zoom.end2=a.end2,this._syncShape(),this._syncData(!0)},rectZoom:function(w){if(!w){return this._zoom.start=this._zoom.start2=0,this._zoom.end=this._zoom.end2=100,this._syncShape(),this._syncData(!0),this._zoom}var q=this.component.grid.getArea(),p={x:w.x,y:w.y,width:w.width,height:w.height};if(p.width<0&&(p.x+=p.width,p.width=-p.width),p.height<0&&(p.y+=p.height,p.height=-p.height),p.x>q.x+q.width||p.y>q.y+q.height){return !1}p.x<q.x&&(p.x=q.x),p.x+p.width>q.x+q.width&&(p.width=q.x+q.width-p.x),p.y+p.height>q.y+q.height&&(p.height=q.y+q.height-p.y);var y,l=(p.x-q.x)/q.width,x=1-(p.x+p.width-q.x)/q.width,v=1-(p.y+p.height-q.y)/q.height,u=(p.y-q.y)/q.height;return"horizontal"==this.zoomOption.orient?(y=this._zoom.end-this._zoom.start,this._zoom.start+=y*l,this._zoom.end-=y*x,y=this._zoom.end2-this._zoom.start2,this._zoom.start2+=y*v,this._zoom.end2-=y*u):(y=this._zoom.end-this._zoom.start,this._zoom.start+=y*v,this._zoom.end-=y*u,y=this._zoom.end2-this._zoom.start2,this._zoom.start2+=y*l,this._zoom.end2-=y*x),this._syncShape(),this._syncData(!0),this._zoom},syncBackupData:function(x){for(var z,w,u=this._originalData.series,y=x.series,q=0,p=y.length;p>q;q++){w=y[q].data||y[q].eventList,z=u[q]?Math.floor(this._zoom.start/100*u[q].length):0;for(var A=0,v=w.length;v>A;A++){u[q]&&(u[q][A+z]=w[A])}}},syncOption:function(a){this.silence(!0),this.option=a,this.option.dataZoom=this.reformOption(this.option.dataZoom),this.zoomOption=this.option.dataZoom,this.myChart.canvasSupported||(this.zoomOption.realtime=!1),this.clear(),this._location=this._getLocation(),this._zoom=this._getZoom(),this._backupData(),this.option.dataZoom&&this.option.dataZoom.show&&this._buildShape(),this._syncData(),this.silence(!1)},silence:function(a){this._isSilence=a},getRealDataIndex:function(n,l){if(!this._originalData||0===this._zoom.start&&100==this._zoom.end){return l}var a=this._originalData.series;return a[n]?Math.floor(this._zoom.start/100*a[n].length)+l:-1},resize:function(){this.clear(),this._location=this._getLocation(),this._zoom=this._getZoom(),this.option.dataZoom.show&&this._buildShape()}},f.inherits(k,g),h("../component").define("dataZoom",k),k}),define("echarts/component/categoryAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","../component"],function(h){function k(u,l,w,i,v,q){if(i.data.length<1){return void console.error("option.data.length < 1.")}g.call(this,u,l,w,i,v),this.grid=this.component.grid;for(var p in q){this[p]=q[p]}this.refresh(i)}var g=h("./base"),d=h("zrender/shape/Text"),j=h("zrender/shape/Line"),c=h("zrender/shape/Rectangle"),b=h("../config"),m=h("zrender/tool/util"),f=h("zrender/tool/area");return k.prototype={type:b.COMPONENT_TYPE_AXIS_CATEGORY,_getReformedLabel:function(n){var l="undefined"!=typeof this.option.data[n].value?this.option.data[n].value:this.option.data[n],a=this.option.data[n].formatter||this.option.axisLabel.formatter;return a&&("function"==typeof a?l=a.call(this.myChart,l):"string"==typeof a&&(l=a.replace("{value}",l))),l},_getInterval:function(){var z=this.option.axisLabel.interval;if("auto"==z){var E=this.option.axisLabel.textStyle.fontSize,x=this.option.data,v=this.option.data.length;if(this.isHorizontal()){if(v>3){var C,s,l=this.getGap(),y=!1,A=Math.floor(0.5/l);for(A=1>A?1:A,z=Math.floor(15/l);!y&&v>z;){z+=A,y=!0,C=Math.floor(l*z);for(var w=Math.floor((v-1)/z)*z;w>=0;w-=z){if(0!==this.option.axisLabel.rotate){s=E}else{if(x[w].textStyle){s=f.getTextWidth(this._getReformedLabel(w),this.getFont(m.merge(x[w].textStyle,this.option.axisLabel.textStyle)))}else{var B=this._getReformedLabel(w)+"",q=(B.match(/\w/g)||"").length,D=B.length-q;s=q*E*2/3+D*E}}if(s>C){y=!1;break}}}}else{z=1}}else{if(v>3){var l=this.getGap();for(z=Math.floor(11/l);E>l*z-6&&v>z;){z++}}else{z=1}}}else{z=z-0+1}return z},_buildShape:function(){if(this._interval=this._getInterval(),this.option.show){this.option.splitArea.show&&this._buildSplitArea(),this.option.splitLine.show&&this._buildSplitLine(),this.option.axisLine.show&&this._buildAxisLine(),this.option.axisTick.show&&this._buildAxisTick(),this.option.axisLabel.show&&this._buildAxisLabel();for(var i=0,a=this.shapeList.length;a>i;i++){this.zr.addShape(this.shapeList[i])}}},_buildAxisTick:function(){var C,G=this.option.data.length,A=this.option.axisTick,w=A.length,v=A.lineStyle.color,a=A.lineStyle.width,H="auto"==A.interval?this._interval:A.interval-0+1,z=A.onGap,B=z?this.getGap()/2:"undefined"==typeof z&&this.option.boundaryGap?this.getGap()/2:0,D=B>0?-H:0;if(this.isHorizontal()){for(var y,E="bottom"==this.option.position?A.inside?this.grid.getYend()-w-1:this.grid.getYend()+1:A.inside?this.grid.getY()+1:this.grid.getY()-w-1,q=D;G>q;q+=H){y=this.subPixelOptimize(this.getCoordByIndex(q)+(q>=0?B:0),a),C={_axisShape:"axisTick",zlevel:this._zlevelBase,hoverable:!1,style:{xStart:y,yStart:E,xEnd:y,yEnd:E+w,strokeColor:v,lineWidth:a}},this.shapeList.push(new j(C))}}else{for(var F,x="left"==this.option.position?A.inside?this.grid.getX()+1:this.grid.getX()-w-1:A.inside?this.grid.getXend()-w-1:this.grid.getXend()+1,q=D;G>q;q+=H){F=this.subPixelOptimize(this.getCoordByIndex(q)-(q>=0?B:0),a),C={_axisShape:"axisTick",zlevel:this._zlevelBase,hoverable:!1,style:{xStart:x,yStart:F,xEnd:x+w,yEnd:F,strokeColor:v,lineWidth:a}},this.shapeList.push(new j(C))}}},_buildAxisLabel:function(){var z,E,x=this.option.data,C=this.option.data.length,s=this.option.axisLabel.rotate,n=this.option.axisLabel.margin,w=this.option.axisLabel.clickable,y=this.option.axisLabel.textStyle;if(this.isHorizontal()){var A,v;"bottom"==this.option.position?(A=this.grid.getYend()+n,v="top"):(A=this.grid.getY()-n,v="bottom");for(var B=0;C>B;B+=this._interval){""!==this._getReformedLabel(B)&&(E=m.merge(x[B].textStyle||{},y),z={zlevel:this._zlevelBase,hoverable:!1,style:{x:this.getCoordByIndex(B),y:A,color:E.color,text:this._getReformedLabel(B),textFont:this.getFont(E),textAlign:E.align||"center",textBaseline:E.baseline||v}},s&&(z.style.textAlign=s>0?"bottom"==this.option.position?"right":"left":"bottom"==this.option.position?"left":"right",z.rotation=[s*Math.PI/180,z.style.x,z.style.y]),this.shapeList.push(new d(this._axisLabelClickable(w,z))))}}else{var q,D;"left"==this.option.position?(q=this.grid.getX()-n,D="right"):(q=this.grid.getXend()+n,D="left");for(var B=0;C>B;B+=this._interval){""!==this._getReformedLabel(B)&&(E=m.merge(x[B].textStyle||{},y),z={zlevel:this._zlevelBase,hoverable:!1,style:{x:q,y:this.getCoordByIndex(B),color:E.color,text:this._getReformedLabel(B),textFont:this.getFont(E),textAlign:E.align||D,textBaseline:E.baseline||0===B&&""!==this.option.name?"bottom":B==C-1&&""!==this.option.name?"top":"middle"}},s&&(z.rotation=[s*Math.PI/180,z.style.x,z.style.y]),this.shapeList.push(new d(this._axisLabelClickable(w,z))))}}},_buildSplitLine:function(){var D,H=this.option.data.length,B=this.option.splitLine,w=B.lineStyle.type,v=B.lineStyle.width,a=B.lineStyle.color;a=a instanceof Array?a:[a];var I=a.length,A=B.onGap,C=A?this.getGap()/2:"undefined"==typeof A&&this.option.boundaryGap?this.getGap()/2:0;if(H-=A||"undefined"==typeof A&&this.option.boundaryGap?1:0,this.isHorizontal()){for(var E,y=this.grid.getY(),F=this.grid.getYend(),q=0;H>q;q+=this._interval){E=this.subPixelOptimize(this.getCoordByIndex(q)+C,v),D={zlevel:this._zlevelBase,hoverable:!1,style:{xStart:E,yStart:y,xEnd:E,yEnd:F,strokeColor:a[q/this._interval%I],lineType:w,lineWidth:v}},this.shapeList.push(new j(D))}}else{for(var G,x=this.grid.getX(),z=this.grid.getXend(),q=0;H>q;q+=this._interval){G=this.subPixelOptimize(this.getCoordByIndex(q)-C,v),D={zlevel:this._zlevelBase,hoverable:!1,style:{xStart:x,yStart:G,xEnd:z,yEnd:G,strokeColor:a[q/this._interval%I],linetype:w,lineWidth:v}},this.shapeList.push(new j(D))}}},_buildSplitArea:function(){var C,H=this.option.splitArea,A=H.areaStyle.color;if(A instanceof Array){var v=A.length,F=this.option.data.length,o=H.onGap,I=o?this.getGap()/2:"undefined"==typeof o&&this.option.boundaryGap?this.getGap()/2:0;if(this.isHorizontal()){for(var z,B=this.grid.getY(),D=this.grid.getHeight(),x=this.grid.getX(),E=0;F>=E;E+=this._interval){z=F>E?this.getCoordByIndex(E)+I:this.grid.getXend(),C={zlevel:this._zlevelBase,hoverable:!1,style:{x:x,y:B,width:z-x,height:D,color:A[E/this._interval%v]}},this.shapeList.push(new c(C)),x=z}}else{for(var q,G=this.grid.getX(),w=this.grid.getWidth(),y=this.grid.getYend(),E=0;F>=E;E+=this._interval){q=F>E?this.getCoordByIndex(E)-I:this.grid.getY(),C={zlevel:this._zlevelBase,hoverable:!1,style:{x:G,y:q,width:w,height:y-q,color:A[E/this._interval%v]}},this.shapeList.push(new c(C)),y=q}}}else{C={zlevel:this._zlevelBase,hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:A}},this.shapeList.push(new c(C))}},refresh:function(a){a&&(this.option=this.reformOption(a),this.option.axisLabel.textStyle=m.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle)),this.clear(),this._buildShape()},getGap:function(){var i=this.option.data.length,a=this.isHorizontal()?this.grid.getWidth():this.grid.getHeight();return this.option.boundaryGap?a/i:a/(i>1?i-1:1)},getCoord:function(r){for(var q=this.option.data,p=q.length,u=this.getGap(),l=this.option.boundaryGap?u/2:0,s=0;p>s;s++){if(q[s]==r||"undefined"!=typeof q[s].value&&q[s].value==r){return l=this.isHorizontal()?this.grid.getX()+l:this.grid.getYend()-l}l+=u}},getCoordByIndex:function(n){if(0>n){return this.isHorizontal()?this.grid.getX():this.grid.getYend()}if(n>this.option.data.length-1){return this.isHorizontal()?this.grid.getXend():this.grid.getY()}var l=this.getGap(),a=this.option.boundaryGap?l/2:0;return a+=n*l,a=this.isHorizontal()?this.grid.getX()+a:this.grid.getYend()-a},getNameByIndex:function(i){var a=this.option.data[i];return"undefined"!=typeof a&&"undefined"!=typeof a.value?a.value:a},getIndexByName:function(o){for(var l=this.option.data,a=l.length,p=0;a>p;p++){if(l[p]==o||"undefined"!=typeof l[p].value&&l[p].value==o){return p}}return -1},getValueFromCoord:function(){return""},isMainAxis:function(a){return a%this._interval===0}},m.inherits(k,g),h("../component").define("categoryAxis",k),k}),define("echarts/component/valueAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/date","zrender/tool/util","../util/smartSteps","../util/accMath","../component"],function(h){function k(w,q,y,p,x,v,u){if(!u||0===u.length){return void console.err("option.series.length == 0.")}g.call(this,w,q,y,p,x),this.series=u,this.grid=this.component.grid;for(var i in v){this[i]=v[i]}this.refresh(p,u)}var g=h("./base"),d=h("zrender/shape/Text"),j=h("zrender/shape/Line"),c=h("zrender/shape/Rectangle"),b=h("../config"),m=h("../util/date"),f=h("zrender/tool/util");return k.prototype={type:b.COMPONENT_TYPE_AXIS_VALUE,_buildShape:function(){if(this._hasData=!1,this._calculateValue(),this._hasData&&this.option.show){this.option.splitArea.show&&this._buildSplitArea(),this.option.splitLine.show&&this._buildSplitLine(),this.option.axisLine.show&&this._buildAxisLine(),this.option.axisTick.show&&this._buildAxisTick(),this.option.axisLabel.show&&this._buildAxisLabel();for(var i=0,a=this.shapeList.length;a>i;i++){this.zr.addShape(this.shapeList[i])}}},_buildAxisTick:function(){var y,B=this._valueList,w=this._valueList.length,q=this.option.axisTick,p=q.length,a=q.lineStyle.color,C=q.lineStyle.width;if(this.isHorizontal()){for(var v,x="bottom"===this.option.position?q.inside?this.grid.getYend()-p-1:this.grid.getYend()+1:q.inside?this.grid.getY()+1:this.grid.getY()-p-1,z=0;w>z;z++){v=this.subPixelOptimize(this.getCoord(B[z]),C),y={_axisShape:"axisTick",zlevel:this._zlevelBase,hoverable:!1,style:{xStart:v,yStart:x,xEnd:v,yEnd:x+p,strokeColor:a,lineWidth:C}},this.shapeList.push(new j(y))}}else{for(var u,A="left"===this.option.position?q.inside?this.grid.getX()+1:this.grid.getX()-p-1:q.inside?this.grid.getXend()-p-1:this.grid.getXend()+1,z=0;w>z;z++){u=this.subPixelOptimize(this.getCoord(B[z]),C),y={_axisShape:"axisTick",zlevel:this._zlevelBase,hoverable:!1,style:{xStart:A,yStart:u,xEnd:A+p,yEnd:u,strokeColor:a,lineWidth:C}},this.shapeList.push(new j(y))}}},_buildAxisLabel:function(){var x,B=this._valueList,v=this._valueList.length,A=this.option.axisLabel.rotate,p=this.option.axisLabel.margin,n=this.option.axisLabel.clickable,C=this.option.axisLabel.textStyle;if(this.isHorizontal()){var u,w;"bottom"===this.option.position?(u=this.grid.getYend()+p,w="top"):(u=this.grid.getY()-p,w="bottom");for(var y=0;v>y;y++){x={zlevel:this._zlevelBase,hoverable:!1,style:{x:this.getCoord(B[y]),y:u,color:"function"==typeof C.color?C.color(B[y]):C.color,text:this._valueLabel[y],textFont:this.getFont(C),textAlign:C.align||"center",textBaseline:C.baseline||w}},A&&(x.style.textAlign=A>0?"bottom"===this.option.position?"right":"left":"bottom"===this.option.position?"left":"right",x.rotation=[A*Math.PI/180,x.style.x,x.style.y]),this.shapeList.push(new d(this._axisLabelClickable(n,x)))}}else{var q,z;"left"===this.option.position?(q=this.grid.getX()-p,z="right"):(q=this.grid.getXend()+p,z="left");for(var y=0;v>y;y++){x={zlevel:this._zlevelBase,hoverable:!1,style:{x:q,y:this.getCoord(B[y]),color:"function"==typeof C.color?C.color(B[y]):C.color,text:this._valueLabel[y],textFont:this.getFont(C),textAlign:C.align||z,textBaseline:C.baseline||0===y&&""!==this.option.name?"bottom":y===v-1&&""!==this.option.name?"top":"middle"}},A&&(x.rotation=[A*Math.PI/180,x.style.x,x.style.y]),this.shapeList.push(new d(this._axisLabelClickable(n,x)))}}},_buildSplitLine:function(){var C,G=this._valueList,A=this._valueList.length,w=this.option.splitLine,v=w.lineStyle.type,a=w.lineStyle.width,H=w.lineStyle.color;H=H instanceof Array?H:[H];var z=H.length;if(this.isHorizontal()){for(var B,D=this.grid.getY(),y=this.grid.getYend(),E=0;A>E;E++){B=this.subPixelOptimize(this.getCoord(G[E]),a),C={zlevel:this._zlevelBase,hoverable:!1,style:{xStart:B,yStart:D,xEnd:B,yEnd:y,strokeColor:H[E%z],lineType:v,lineWidth:a}},this.shapeList.push(new j(C))}}else{for(var q,F=this.grid.getX(),x=this.grid.getXend(),E=0;A>E;E++){q=this.subPixelOptimize(this.getCoord(G[E]),a),C={zlevel:this._zlevelBase,hoverable:!1,style:{xStart:F,yStart:q,xEnd:x,yEnd:q,strokeColor:H[E%z],lineType:v,lineWidth:a}},this.shapeList.push(new j(C))}}},_buildSplitArea:function(){var A,F=this.option.splitArea.areaStyle.color;if(F instanceof Array){var y=F.length,v=this._valueList,D=this._valueList.length;if(this.isHorizontal()){for(var o,G=this.grid.getY(),x=this.grid.getHeight(),z=this.grid.getX(),B=0;D>=B;B++){o=D>B?this.getCoord(v[B]):this.grid.getXend(),A={zlevel:this._zlevelBase,hoverable:!1,style:{x:z,y:G,width:o-z,height:x,color:F[B%y]}},this.shapeList.push(new c(A)),z=o}}else{for(var w,C=this.grid.getX(),q=this.grid.getWidth(),E=this.grid.getYend(),B=0;D>=B;B++){w=D>B?this.getCoord(v[B]):this.grid.getY(),A={zlevel:this._zlevelBase,hoverable:!1,style:{x:C,y:w,width:q,height:E-w,color:F[B%y]}},this.shapeList.push(new c(A)),E=w}}}else{A={zlevel:this._zlevelBase,hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:F}},this.shapeList.push(new c(A))}},_calculateValue:function(){if(isNaN(this.option.min-0)||isNaN(this.option.max-0)){for(var w,z,u={},q=this.component.legend,y=0,p=this.series.length;p>y;y++){!(this.series[y].type!=b.CHART_TYPE_LINE&&this.series[y].type!=b.CHART_TYPE_BAR&&this.series[y].type!=b.CHART_TYPE_SCATTER&&this.series[y].type!=b.CHART_TYPE_K&&this.series[y].type!=b.CHART_TYPE_EVENTRIVER||q&&!q.isSelected(this.series[y].name)||(w=this.series[y].xAxisIndex||0,z=this.series[y].yAxisIndex||0,this.option.xAxisIndex!=w&&this.option.yAxisIndex!=z||!this._calculSum(u,y)))}var A;for(var y in u){A=u[y];for(var r=0,v=A.length;v>r;r++){if(!isNaN(A[r])){this._hasData=!0,this._min=A[r],this._max=A[r];break}}if(this._hasData){break}}for(var y in u){A=u[y];for(var r=0,v=A.length;v>r;r++){isNaN(A[r])||(this._min=Math.min(this._min,A[r]),this._max=Math.max(this._max,A[r]))}}var x=Math.abs(this._max-this._min);this._min=isNaN(this.option.min-0)?this._min-Math.abs(x*this.option.boundaryGap[0]):this.option.min-0,this._max=isNaN(this.option.max-0)?this._max+Math.abs(x*this.option.boundaryGap[1]):this.option.max-0,this._min===this._max&&(0===this._max?this._max=1:this._max>0?this._min=this._max/this.option.splitNumber!=null?this.option.splitNumber:5:this._max=this._max/this.option.splitNumber!=null?this.option.splitNumber:5),"time"!=this.option.type?this._reformValue(this.option.scale):this._reformTimeValue()}else{this._hasData=!0,this._min=this.option.min-0,this._max=this.option.max-0,"time"!=this.option.type?this._customerValue():this._reformTimeValue()}},_calculSum:function(y,C){var w,s,B=this.series[C].name||"kener";if(this.series[C].stack){var r="__Magic_Key_Positive__"+this.series[C].stack,v="__Magic_Key_Negative__"+this.series[C].stack;y[r]=y[r]||[],y[v]=y[v]||[],y[B]=y[B]||[],s=this.series[C].data;for(var x=0,z=s.length;z>x;x++){w=null!=s[x].value?s[x].value:s[x],"-"!==w&&(w-=0,w>=0?null!=y[r][x]?y[r][x]+=w:y[r][x]=w:null!=y[v][x]?y[v][x]+=w:y[v][x]=w,this.option.scale&&y[B].push(w))}}else{if(y[B]=y[B]||[],this.series[C].type!=b.CHART_TYPE_EVENTRIVER){s=this.series[C].data;for(var x=0,z=s.length;z>x;x++){w=null!=s[x].value?s[x].value:s[x],this.series[C].type===b.CHART_TYPE_K?(y[B].push(w[0]),y[B].push(w[1]),y[B].push(w[2]),y[B].push(w[3])):w instanceof Array?(-1!=this.option.xAxisIndex&&y[B].push("time"!=this.option.type?w[0]:m.getNewDate(w[0])),-1!=this.option.yAxisIndex&&y[B].push("time"!=this.option.type?w[1]:m.getNewDate(w[1]))):y[B].push(w)}}else{s=this.series[C].eventList;for(var x=0,z=s.length;z>x;x++){for(var u=s[x].evolution,A=0,q=u.length;q>A;A++){y[B].push(m.getNewDate(u[A].time))}}}}},_reformValue:function(o){var l=h("../util/smartSteps"),p=this.option.splitNumber;!o&&this._min>=0&&this._max>=0&&(this._min=0),!o&&this._min<=0&&this._max<=0&&(this._max=0);var e=l(this._min,this._max,p);p=null!=p?p:e.secs,this.option.splitNumber=p,this._min=e.min,this._max=e.max,this._valueList=e.pnts,this._reformLabelData()},_reformTimeValue:function(){var q=null!=this.option.splitNumber?this.option.splitNumber:5,p=m.getAutoFormatter(this._min,this._max,q),o=p.formatter,r=p.gapValue;this._valueList=[m.getNewDate(this._min)];var l;switch(o){case"week":l=m.nextMonday(this._min);break;case"month":l=m.nextNthOnMonth(this._min,1);break;case"quarter":l=m.nextNthOnQuarterYear(this._min,1);break;case"half-year":l=m.nextNthOnHalfYear(this._min,1);break;case"year":l=m.nextNthOnYear(this._min,1);break;default:7200000>=r?l=(Math.floor(this._min/r)+1)*r:(l=m.getNewDate(this._min- -r),l.setHours(6*Math.round(l.getHours()/6)),l.setMinutes(0),l.setSeconds(0))}for(l-this._min<r/2&&(l-=-r),p=m.getNewDate(l),q*=1.5;q-->=0&&(("month"==o||"quarter"==o||"half-year"==o||"year"==o)&&p.setDate(1),!(this._max-p<r/2));){this._valueList.push(p),p=m.getNewDate(p- -r)}this._valueList.push(m.getNewDate(this._max)),this._reformLabelData(o)},_customerValue:function(){var o=h("../util/accMath"),l=null!=this.option.splitNumber?this.option.splitNumber:5,p=(this._max-this._min)/l;this._valueList=[];for(var e=0;l>=e;e++){this._valueList.push(o.accAdd(this._min,o.accMul(p,e)))}this._reformLabelData()},_reformLabelData:function(o){this._valueLabel=[];var l=this.option.axisLabel.formatter;if(l){for(var a=0,p=this._valueList.length;p>a;a++){"function"==typeof l?this._valueLabel.push(o?l.call(this.myChart,this._valueList[a],o):l.call(this.myChart,this._valueList[a])):"string"==typeof l&&this._valueLabel.push(o?m.format(l,this._valueList[a]):l.replace("{value}",this._valueList[a]))}}else{if(o){for(var a=0,p=this._valueList.length;p>a;a++){this._valueLabel.push(m.format(o,this._valueList[a]))}}else{for(var a=0,p=this._valueList.length;p>a;a++){this._valueLabel.push(this.numAddCommas(this._valueList[a]))}}}},getExtremum:function(){return this._calculateValue(),{min:this._min,max:this._max}},refresh:function(i,a){i&&(this.option=this.reformOption(i),this.option.axisLabel.textStyle=f.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle),this.series=a),this.zr&&(this.clear(),this._buildShape())},getCoord:function(i){i=i<this._min?this._min:i,i=i>this._max?this._max:i;var a;return a=this.isHorizontal()?this.grid.getX()+(i-this._min)/(this._max-this._min)*this.grid.getWidth():this.grid.getYend()-(i-this._min)/(this._max-this._min)*this.grid.getHeight()},getCoordSize:function(a){return Math.abs(this.isHorizontal()?a/(this._max-this._min)*this.grid.getWidth():a/(this._max-this._min)*this.grid.getHeight())},getValueFromCoord:function(i){var a;return this.isHorizontal()?(i=i<this.grid.getX()?this.grid.getX():i,i=i>this.grid.getXend()?this.grid.getXend():i,a=this._min+(i-this.grid.getX())/this.grid.getWidth()*(this._max-this._min)):(i=i<this.grid.getY()?this.grid.getY():i,i=i>this.grid.getYend()?this.grid.getYend():i,a=this._max-(i-this.grid.getY())/this.grid.getHeight()*(this._max-this._min)),a.toFixed(2)-0},isMaindAxis:function(n){for(var l=0,a=this._valueList.length;a>l;l++){if(this._valueList[l]===n){return !0}}return !1}},f.inherits(k,g),h("../component").define("valueAxis",k),k}),define("echarts/util/date",[],function(){function m(z,B,y){y=y>1?y:2;for(var w,A,h,d,C=0,x=p.length;x>C;C++){if(w=p[C].value,A=Math.ceil(B/w)*w-Math.floor(z/w)*w,Math.round(A/w)<=1.2*y){h=p[C].formatter,d=p[C].value;break}}return null==h&&(h="year",w=31708800000,A=Math.ceil(B/w)*w-Math.floor(z/w)*w,d=Math.round(A/(y-1)/w)*w),{formatter:h,gapValue:d}}function u(a){return 10>a?"0"+a:a}function j(z,y){("week"==z||"month"==z||"quarter"==z||"half-year"==z||"year"==z)&&(z="MM - dd\nyyyy");var w=k(y),B=w.getFullYear(),t=w.getMonth()+1,h=w.getDate(),C=w.getHours(),x=w.getMinutes(),A=w.getSeconds();return z=z.replace("MM",u(t)),z=z.toLowerCase(),z=z.replace("yyyy",B),z=z.replace("yy",B%100),z=z.replace("dd",u(h)),z=z.replace("d",h),z=z.replace("hh",u(C)),z=z.replace("h",C),z=z.replace("mm",u(x)),z=z.replace("m",x),z=z.replace("ss",u(A)),z=z.replace("s",A)}function f(a){return a=k(a),a.setDate(a.getDate()+8-a.getDay()),a}function q(h,d,a){return h=k(h),h.setMonth(Math.ceil((h.getMonth()+1)/a)*a),h.setDate(d),h}function c(d,a){return q(d,a,1)}function b(d,a){return q(d,a,3)}function v(d,a){return q(d,a,6)}function g(d,a){return q(d,a,12)}function k(a){return a instanceof Date?a:new Date("string"==typeof a?a.replace(/-/g,"/"):a)}var p=[{formatter:"hh : mm : ss",value:1000},{formatter:"hh : mm : ss",value:5000},{formatter:"hh : mm : ss",value:10000},{formatter:"hh : mm : ss",value:15000},{formatter:"hh : mm : ss",value:30000},{formatter:"hh : mm\nMM - dd",value:60000},{formatter:"hh : mm\nMM - dd",value:300000},{formatter:"hh : mm\nMM - dd",value:600000},{formatter:"hh : mm\nMM - dd",value:900000},{formatter:"hh : mm\nMM - dd",value:1800000},{formatter:"hh : mm\nMM - dd",value:3600000},{formatter:"hh : mm\nMM - dd",value:7200000},{formatter:"hh : mm\nMM - dd",value:21600000},{formatter:"hh : mm\nMM - dd",value:43200000},{formatter:"MM - dd\nyyyy",value:86400000},{formatter:"week",value:604800000},{formatter:"month",value:2678400000},{formatter:"quarter",value:8208000000},{formatter:"half-year",value:16416000000},{formatter:"year",value:32832000000}];return{getAutoFormatter:m,getNewDate:k,format:j,nextMonday:f,nextNthPerNmonth:q,nextNthOnMonth:c,nextNthOnQuarterYear:b,nextNthOnHalfYear:v,nextNthOnYear:g}}),define("echarts/util/smartSteps",[],function(){function ad(a){return q.log(C(a))/q.LN10}function M(a){return q.pow(10,a)}function Z(a){return a===j(a)}function R(d,c,g,b){ac=b||{},ag=ac.steps||B,ai=ac.secs||H,g=G(+g||0)%99,d=+d||0,c=+c||0,F=Y=0,"min" in ac&&(d=+ac.min||0,F=1),"max" in ac&&(c=+ac.max||0,Y=1),d>c&&(c=[d,d=c][0]);var f=c-d;if(F&&Y){return ab(d,c,g)}if((g||5)>f){if(Z(d)&&Z(c)){return P(d,c,g)}if(0===f){return J(d,c,g)}}return aa(d,c,g)}function ah(v,r,f,y){y=y||0;var K=Q((r-v)/f,-1),o=Q(v,-1,1),t=Q(r,-1),w=q.min(K.e,o.e,t.e);O(K,{c:0,e:w}),O(o,K,1),O(t,K),y+=w,v=o.c,r=t.c;for(var k=(r-v)/f,x=M(y),b=0,I=[],g=f+1;g--;){I[g]=(v+k*g)*x}if(0>y){b=A(x),k=+(k*x).toFixed(b),v=+(v*x).toFixed(b),r=+(r*x).toFixed(b);for(var g=I.length;g--;){I[g]=I[g].toFixed(b),0===+I[g]&&(I[g]="0")}}else{v*=x,r*=x,k*=x}return ai=0,ag=0,ac=0,{min:v,max:r,secs:f,step:k,fix:b,exp:y,pnts:I}}function Q(f,b,e){b=G(b%10)||2,0>b&&(Z(f)?b=(""+C(f)).replace(/0+$/,"").length||1:(f=f.toFixed(15).replace(/0+$/,""),b=f.replace(".","").replace(/^[-0]+/,"").length,f=+f));var d=j(ad(f))-b+1,c=+(f*M(-d)).toFixed(15)||0;return c=e?j(c):E(c),!c&&(d=0),(""+C(c)).length>b&&(d+=1,c/=10),{c:c,e:d}}function O(d,c,f){var b=c.e-d.e;b&&(d.e+=b,d.c*=M(-b),d.c=f?j(d.c):E(d.c))}function N(c,b,a){c.e<b.e?O(b,c,a):O(c,b,a)}function T(c,b){b=b||B,c=Q(c);for(var a=c.c,d=0;a>b[d];){d++}if(!b[d]){for(a/=10,c.e+=1,d=0;a>b[d];){d++}}return c.c=b[d],c}function aa(k,o,a){var p,c=a||+ai.slice(-1),m=T((o-k)/c,ag),b=Q(o-k),d=Q(k,-1,1),i=Q(o,-1);if(O(b,m),O(d,m,1),O(i,m),a?p=S(d,i,c):c=ae(d,i),Z(k)&&Z(o)&&k*o>=0){if(c>o-k){return P(k,o,c)}c=af(k,o,a,d,i,c)}var l=z(k,o,d.c,i.c);return d.c=l[0],i.c=l[1],(F||Y)&&D(k,o,d,i),ah(d.c,i.c,c,i.e)}function ae(k,c){for(var m,b,l,g,f=[],d=ai.length;d--;){m=ai[d],b=T((c.c-k.c)/m,ag),b=b.c*M(b.e),l=j(k.c/b)*b,g=E(c.c/b)*b,f[d]={min:l,max:g,step:b,span:g-l}}return f.sort(function(h,a){return h.span-a.span}),f=f[0],m=f.span/f.step,k.c=f.min,c.c=f.max,3>m?2*m:m}function S(p,k,f){for(var u,c,b=k.c,v=(k.c-p.c)/f-1;b>p.c;){v=T(v+1,ag),v=v.c*M(v.e),u=v*f,c=E(k.c/v)*v,b=c-u}var l=p.c-b,t=c-k.c,g=l-t;return g>=2*v&&(g=j(g/v)*v,b+=g,c+=g),p.c=b,k.c=c,v}function af(k,f,p,c,b,t){var g=b.c-c.c,i=g/t*M(b.e);if(!Z(i)&&(i=j(i),g=i*t,f-k>g&&(i+=1,g=i*t,!p&&i*(t-1)>=f-k&&(t-=1,g=i*t)),g>=f-k)){var m=g-(f-k);c.c=G(k-m/2),b.c=G(f+m/2),c.e=0,b.e=0}return t}function P(f,b,a){if(a=a||5,F){b=f+a}else{if(Y){f=b-a}else{var h=a-(b-f),g=G(f-h/2),d=G(b+h/2),c=z(f,b,g,d);f=c[0],b=c[1]}}return ah(f,b,a)}function J(c,b,a){a=a||5;var d=q.min(C(b/a),a)/2.1;return F?b=c+d:Y?c=b-d:(c-=d,b+=d),aa(c,b,a)}function z(c,b,a,d){return c>=0&&0>a?(d-=a,a=0):0>=b&&d>0&&(a-=d,d=0),[a,d]}function A(a){return a=(+a).toFixed(15).split("."),a.pop().replace(/0+$/,"").length}function D(g,d,c,h){if(F){var b=Q(g,4,1);c.e-b.e>6&&(b={c:0,e:c.e}),N(c,b),N(h,b),h.c+=b.c-c.c,c.c=b.c}else{if(Y){var f=Q(d,4);h.e-f.e>6&&(f={c:0,e:h.e}),N(c,f),N(h,f),c.c+=f.c-h.c,h.c=f.c}}}function ab(I,aj,v){var b=v?[v]:ai,ak=aj-I;if(0===ak){return aj=Q(aj,3),v=b[0],aj.c=G(aj.c+v/2),ah(aj.c-v,aj.c,v,aj.e)}C(aj/ak)<0.000001&&(aj=0),C(I/ak)<0.000001&&(I=0);var r,w,K,k=[[5,10],[10,2],[50,10],[100,2]],L=[],a=[],X=Q(aj-I,3),f=Q(I,-1,1),o=Q(aj,-1);O(f,X,1),O(o,X),ak=o.c-f.c,X.c=ak;for(var W=b.length;W--;){v=b[W],r=E(ak/v),w=r*v-ak,K=3*(w+3),K+=2*(v-b[0]+2),v%5===0&&(K-=10);for(var x=k.length;x--;){r%k[x][0]===0&&(K/=k[x][1])}a[W]=[v,r,w,K].join(),L[W]={secs:v,step:r,delta:w,score:K}}return L.sort(function(d,c){return d.score-c.score}),L=L[0],f.c=G(f.c-L.delta/2),o.c=G(o.c+L.delta/2),ah(f.c,o.c,L.secs,X.e)}var ac,ag,ai,F,Y,B=[10,25,50],H=[4,5,6],q=Math,G=q.round,j=q.floor,E=q.ceil,C=q.abs;return R});